import{m as o,a as l,h as n,n as a,D as u,c,I as d,j as p,b as g,B as m,C as f,H as h}from"./app.c63a68be.js";import{A as _}from"./Advertisement.94541a1c.js";import{L as v,C as b}from"./CardLegality.f32acbbd.js";import{L as x,R as y}from"./Rulings.e9464d02.js";import{D as C}from"./Discussion.2d20c7ef.js";import{L as k}from"./LazyLoader.dd5fe8b0.js";import{P as w}from"./Pricing.b97531c8.js";import{D as $}from"./DeckItem.ae8ef182.js";import{M as z}from"./Models.c5680b45.js";import{D as L}from"./Deck.4d9ddc2b.js";import"./Avatar.0ee04fa2.js";import"./Badge.e607ec04.js";import"./FormatLabel.3c9d347e.js";import"./HeroAvatar.282b17dd.js";import"./Card.5c8667b4.js";import"./Viewable.390f7d24.js";import"./Cards.d21ac290.js";const P={extends:x,props:["card","options"],computed:{...o("session",["user"])},mounted(){let s=this.user&&this.user.currency||"USD";l.get("/market/"+this.card.identifier+"?days=30&currency="+s).then(t=>{t=t.data;let e={labels:n.keys(t),datasets:[{label:"Low",backgroundColor:"rgba(66, 153, 225, 0.5)",borderColor:"rgba(66, 153, 225, 1)",borderWidth:1,data:n.values(t).map(r=>r[0])},{label:"Mean",backgroundColor:"rgba(66, 153, 225, 0.5)",borderColor:"rgba(66, 153, 225, 1)",borderWidth:1,data:n.values(t).map(r=>r[1])},{label:"High",backgroundColor:"rgba(66, 153, 225, 0.5)",borderColor:"rgba(66, 153, 225, 1)",borderWidth:1,data:n.values(t).map(r=>r[2])}]};this.renderChart(e,{legend:!1,responsive:!0,maintainAspectRatio:!1,fill:!1})})}},H={props:["card"],components:{CardPriceChart:P}};var F=function(){var t=this,e=t._self._c;return e("div",[e("card-price-chart",{staticStyle:{height:"200px"},attrs:{card:t.card}})],1)},O=[],R=a(H,F,O,!1,null,null,null,null);const q=R.exports,D={props:["to"],computed:{classes(){return this.to?"button-primary":"button-disabled"}}};var I=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"w-1/2 appearance-none block w-full py-2 px-4",class:t.classes,attrs:{to:"/cards/"+t.to,disabled:t.to}},[t._t("default")],2)},M=[],j=a(D,I,M,!1,null,null,null,null);const A=j.exports,B={props:{languages:{required:!0,type:Array}},data(){return{selected:null,isOpen:!1}},methods:{select(s){(!this.selected||s.code!==this.selected.code)&&(this.isOpen=!1,this.selected=s,this.$emit("language-selected",s.code))}},mounted(){this.selected=this.languages.filter(s=>s.code==="en")[0],this.$eventHub.$on("language-selected",s=>{this.isOpen=!1,this.selected=this.languages.filter(t=>t.code===s)[0]})}};var S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative font-serif"},[e("button",{staticClass:"w-full relative flex items-center text-left bg-white border border-gray-200 text-base font-serif rounded-lg px-4 py-1 uppercase hover:border-gray-500",class:{"border-gray-500 z-75":t.isOpen},on:{click:function(r){t.isOpen=!t.isOpen}}},[e("span",{staticClass:"inline-block mr-1 flex-1"},[t._v("Language "),t.selected?e("span",[t._v("("+t._s(t.selected.name)+")")]):t._e()]),e("svg",{staticClass:"inline-block h-5 w-5 fill-current ml-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[e("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])]),t.isOpen?e("button",{staticClass:"fixed top-0 right-0 bottom-0 left-0 bg-red z-50 bg-black opacity-25 w-full h-full cursor-default backdrop-blur-2",attrs:{type:"button"},on:{click:function(r){t.isOpen=!1}}}):t._e(),t.isOpen?e("div",{staticClass:"w-full absolute left-0 rounded-lg bg-white z-100 overflow-hidden mt-1 border border-gray-500"},t._l(t.languages,function(r){return e("button",{staticClass:"w-full flex items-center space-x-2 text-base text-left px-4 py-1 uppercase",class:r.code===t.selected.code?"bg-primary text-white":"hover:bg-primary hover:text-white",on:{click:function(i){return t.select(r)}}},[e("icon",{attrs:{size:5,box:128},domProps:{innerHTML:t._s(r.icon)}}),e("span",[t._v(" "+t._s(r.name)+" ")])],1)}),0):t._e()])},T=[],W=a(B,S,T,!1,null,null,null,null);const N=W.exports,V={props:{card:{required:!0,type:Object}},extends:v,computed:{formats(){return this.$settings.game.decks.formats}},methods:{text(s){return s==="legend"?"now a Living Legend":s}}};var G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded-lg overflow-hidden text-sm text-center text-white"},t._l(Object.keys(t.formats),function(r){return t.card.legality&&t.card.legality[r]?e("div",{staticClass:"py-1 px-4",class:t.colours[t.card.legality[r]]},[t._v(" This card is "+t._s(t.text(t.card.legality[r]))+" in "+t._s(r)+". ")]):t._e()}),0)},K=[],U=a(V,G,K,!1,null,null,null,null);const E=U.exports,J={props:{card:{type:Object}},components:{DeckItem:$},data(){return{decks:[]}},mounted(){l.get("/decks/latest?per_page=3&card="+this.card.identifier+"&include=weapons").then(s=>{this.decks=z.hydrateMany(s.data.data,L)})}};var Q=function(){var t=this,e=t._self._c;return t.decks?e("section",[e("header",{staticClass:"flex items-center py-2 px-4 rounded-lg overflow-hidden bg-black text-white"},[e("h2",{staticClass:"font-serif text-xl uppercase"},[t._v("Recent decks")]),e("router-link",{staticClass:"block flex items-center ml-auto rounded py-1 px-2 text-base button-primary",attrs:{to:{name:"decks.browse",query:"card="+this.card.identifier}}},[t._v(" See more "),e("icon",{staticClass:"inline-block",attrs:{size:5}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"}})])],1)],1),e("div",{staticClass:"bg-gray-200 dark:bg-transparent rounded-b-lg overflow-hidden"},t._l(t.decks,function(r){return e("deck-item",{key:r.slug,attrs:{deck:r,theme:"light"}})}),1)]):t._e()},X=[],Y=a(J,Q,X,!1,null,null,null,null);const Z=Y.exports;const tt={props:{printing:{required:!0,type:Object},width:{type:Number,default:450}},data:()=>({flipped:!1}),mixins:[u,c,d],methods:{flip(){this.flipped=!this.flipped},image(s){return this.cardImageFromSku(s,this.width)}},mounted(){this.requiredWidth=this.$refs.card.getBoundingClientRect().width,this.requiredHeight=this.calculateHeight(this.requiredWidth)},watch:{printing(){this.flipped=!1}}};var et=function(){var t=this,e=t._self._c;return e("div",{ref:"card",staticClass:"relative w-full"},[t.printing.backfacePrinting?e("header",{staticClass:"absolute w-full flex justify-center items-center -mt-4 z-25"},[e("button",{staticClass:"p-0.5 bg-gray-200 dark:bg-gray-900 rounded-full",on:{click:t.flip}},[e("span",{staticClass:"rounded-full flex items-center hover:bg-secondary hover:text-gray-200 dark:hover:bg-secondary p-1"},[e("icon",{attrs:{size:6}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"}})])],1)])]):t._e(),e("div",{staticClass:"flip-card z-0",class:{viewing:t.flipped},style:t.styles},[e("div",{staticClass:"flip-card-inner"},[e("img",{staticClass:"w-full rounded-card flip-card-front",attrs:{src:t.image(t.printing.sku.sku),width:t.requiredWidth,height:t.requiredHeight}}),t.printing.backfacePrinting?e("img",{staticClass:"w-full rounded-card flip-card-back",attrs:{src:t.image(t.printing.backfacePrinting.sku.sku),width:t.requiredWidth,height:t.requiredHeight}}):t._e()])]),t.printing.backfacePrinting?e("footer",{staticClass:"absolute w-full flex justify-center items-center -mt-4 z-25"},[e("button",{staticClass:"p-0.5 bg-gray-200 dark:bg-gray-900 rounded-full",on:{click:t.flip}},[e("span",{staticClass:"rounded-full flex items-center hover:bg-secondary hover:text-gray-200 dark:hover:bg-secondary p-1"},[e("icon",{attrs:{size:6}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"}})])],1)])]):t._e()])},st=[],rt=a(tt,et,st,!1,null,"6b860399",null,null);const at=rt.exports,it={mixins:[p,d,g],components:{CardLegality:b,Advertisement:_,Breadcrumbs:m,Card:at,CardImage:f,CardPrice:q,CardNav:A,Discussion:C,HeaderTitle:h,Icon:c,LanguageSelector:N,LegalityBanner:E,Pricing:w,RecentDecks:Z,Rulings:y},computed:{bannedFormats(){return Object.keys(this.card.legality).length>2?"in all formats":"in "+this.ucfirst(this.card.banned[0])+" format"},languages(){let s=this.card.printings.map(t=>t.language);return this.$settings.languages.filter(t=>s.indexOf(t.code)!==-1)},crumbs(){return[{text:"Home",link:"/"},{text:this.$route.meta.parent.name,link:this.$route.meta.parent.path},{text:this.card.name}]},rarity(){return this.$settings.game.rarities[this.card.rarity]},rulings(){return this.card.rulings.map(s=>s.description)}},data(){return{card:null,selected:null,text:"",flavour:"",name:""}},methods:{printingClasses(s){let t={"cold foil":"cold","gold foil":"gold","rainbow foil":"rainbow",regular:"regular"};return this.selected&&this.selected.sku.sku===s.sku.sku?"bg-black":t[s.finish.toLowerCase()]},selectPrinting(s){this.card.image=this.cardImageFromSku(s.sku.sku,450),this.selected=s,this.switchContent(s),this.$eventHub.$emit("language-selected",s.language)},switchContent(s){this.text=s.text,this.flavour=s.flavour,this.name=s.name},findPrintingForLanguage(s){let t=this.card.printings.filter(e=>e.language===s)[0];t&&this.selectPrinting(t)},keywords(){var s=this.card.keywords;for(var t in s)s[t]='<router-link to="/cards/?search='+s[t]+'">'+s[t]+"</router-link>";return this.card.keywords.join(", ")},statToImagePath(s,t){return s==="cost"?"/img/resource.png":s==="resource"?"/img/pitch-"+t+".png":"/img/"+s+".png"}},metaInfo(){let s=this.name+" - "+this.card.printings[0].sku.sku+" - FaB DB";return{title:s,meta:[{vmid:"description",name:"description",content:"View Flesh & Blood card, "+this.card.name+"."},{vmid:"og:type",property:"og:type",content:"article"},{vmid:"og:title",property:"og:title",content:s},{vmid:"og:description",property:"og:description",content:this.card.text},{vmid:"og:image",property:"og:image",content:this.cardImage(this.card.image,!0)},{vmid:"og:image:width",property:"og:image:width",content:"450"},{vmid:"og:image:height",property:"og:image:height",content:"628"}]}},extends:k((s,t)=>{l.get("/cards/"+s.params.identifier).then(e=>{t(function(){this.card=e.data,this.switchContent(this.card),this.selectPrinting(this.card.printings[0])})})})};var nt=function(){var t=this,e=t._self._c;return e("div",[e("header-title",{attrs:{title:t.name}}),e("breadcrumbs",{attrs:{crumbs:t.crumbs}}),e("div",{staticClass:"main-body"},[e("div",{staticClass:"container sm:mx-auto pt-0 pb-8"},[e("div",{staticClass:"md:flex md:space-x-8 p-4"},[e("div",{staticClass:"md:w-1/4"},[e("div",{staticClass:"relative"},[e("card",{attrs:{printing:t.selected}}),e("card-legality",{attrs:{card:t.card}})],1),e("div",{staticClass:"flex mt-2 space-x-px"},[e("card-nav",{staticClass:"flex items-center space-x-2 rounded-l-lg",attrs:{to:t.card.prev,text:"Previous"}},[e("icon",{attrs:{size:5}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z","clip-rule":"evenodd"}})]),e("span",[t._v(" Previous ")])],1),e("card-nav",{staticClass:"flex items-center justify-end space-x-2 rounded-r-lg text-right",attrs:{to:t.card.next,text:"Next"}},[e("span",[t._v(" Next ")]),e("icon",{attrs:{size:5}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z","clip-rule":"evenodd"}})])],1)],1),e("h2",{staticClass:"font-serif uppercase text-lg mb-1 mt-4"},[t._v("Printings")]),t._l(t.card.printings,function(r){return e("button",{staticClass:"block w-full py-1 px-2 text-sm text-white mb-1 rounded-sm",class:t.printingClasses(r),attrs:{title:r.finish},on:{click:function(i){return t.selectPrinting(r)}}},[t._v(" "+t._s(r.sku.sku)+" ")])}),e("advertisement",{staticClass:"mt-4",attrs:{width:340,height:340,zone:107318}}),e("ul",{staticClass:"pt-4 text-base"},[t.card.artist?e("li",{staticClass:"flex odd:bg-white dark:odd:bg-gray-700"},[e("div",{staticClass:"w-1/3 p-2 px-4"},[t._v("Artist")]),e("div",{staticClass:"w-2/3 p-2 px-4"},[e("router-link",{staticClass:"link-alternate",attrs:{to:{name:"artists.view",params:{artist:t.card.artist.slug}}}},[t._v(t._s(t.card.artist.name))])],1)]):t._e(),e("li",{staticClass:"flex odd:bg-white dark:odd:bg-gray-700"},[e("div",{staticClass:"w-1/3 p-2 px-4"},[t._v("Rarity")]),e("div",{staticClass:"w-2/3 p-2 px-4"},[e("router-link",{staticClass:"link-alternate",attrs:{to:{name:"cards.browse",query:{rarity:t.card.rarity.toLowerCase()}}}},[t._v(t._s(t.rarity))])],1)]),e("li",{staticClass:"flex odd:bg-white dark:odd:bg-gray-700"},[e("div",{staticClass:"w-1/3 p-2 px-4"},[t._v("Keywords")]),e("div",{staticClass:"w-2/3 p-2 px-4"},t._l(t.card.keywords,function(r,i){return e("span",[e("router-link",{staticClass:"link-alternate",attrs:{to:"/cards/browse?keywords="+r}},[t._v(t._s(r))]),i<t.card.keywords.length-1?e("span",[t._v(", ")]):t._e()],1)}),0)])])],2),e("div",{staticClass:"md:w-1/2 mt-4 md:mt-0"},[e("div",{staticClass:"space-y-4"},[t.text?e("div",{staticClass:"bg-white dark:bg-gray-800 rounded-lg"},[e("div",{staticClass:"px-4 py-px",domProps:{innerHTML:t._s(t.prettyText(t.text))}}),t.flavour?e("div",{staticClass:"italic border-t border-gray-200 dark:border-gray-900 p-4"},[t._v(t._s(t.flavour))]):t._e()]):t._e(),e("div",{staticClass:"inline-block flex rounded-lg overflow-hidden space-x-px"},t._l(t.card.stats,function(r,i){return isNaN(r)?t._e():e("div",{staticClass:"flex justify-center items-center flex-grow bg-white dark:bg-gray-800 space-x-2 py-2"},[e("div",{},[e("img",{staticClass:"h-6",attrs:{src:t.statToImagePath(i,r),alt:t.sentenceCase(i)}})]),e("div",{staticClass:"text-xl"},[t._v(t._s(r))])])}),0),e("legality-banner",{staticClass:"my-4",attrs:{card:t.card}}),e("article",[e("p",{staticClass:"my-4 italic"},[e("strong",[t._v('"'+t._s(t.card.name)+'"')]),t._v(" is a trading card from the "),e("strong",[t._v('"'+t._s(t.setToString(t.setFromIdentifier(t.card.printings[0].sku.sku)))+'"')]),t._v(" set of the trading card game, "),e("strong",[t._v("Flesh & Blood.")])])])],1),t.rulings.length?e("rulings",{staticClass:"px-4 sm:px-0",attrs:{rulings:t.rulings}}):t._e(),e("hr",{staticClass:"text-gray-500 mt-4"}),e("discussion",{staticClass:"md:block",attrs:{type:"card",id:t.card.identifier}})],1),e("div",{staticClass:"md:w-1/4 mt-4 md:mt-0"},[t.card.currentPrice?e("tcg-player",{attrs:{price:t.card.currentPrice}}):t._e(),e("recent-decks",{staticClass:"mt-4",attrs:{card:t.card}})],1)]),e("hr",{staticClass:"text-gray-500 mt-4"}),e("discussion",{staticClass:"mx-4 md:hidden",attrs:{type:"card",id:t.card.identifier}})],1)])],1)},lt=[],ct=a(it,nt,lt,!1,null,null,null,null);const zt=ct.exports;export{zt as default};
