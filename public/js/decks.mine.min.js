(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"57BO":function(e,t,r){"use strict";var a=r("vDqi"),s=r.n(a);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={props:{name:{type:String,required:!0},params:{type:Object,default:function(){return{}}},enabled:{type:Boolean,default:!0}},methods:{addDeck:function(){var e=this;s.a.post("/decks/",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({name:this.name},this.params)).then((function(t){e.$router.push({name:"decks.build",params:{deck:t.data.slug}})}))}}},l=r("KHd+"),c=Object(l.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"block text-right",on:{submit:function(t){return t.preventDefault(),e.addDeck()}}},[r("button",{staticClass:"py-2 px-4 appearance-none rounded-lg p-2 button-primary cursor-pointer",class:{"button-disabled":!e.enabled},attrs:{type:"submit",disabled:!e.enabled}},[e._t("default")],2)])}),[],!1,null,null,null);t.a=c.exports},"79B+":function(e,t,r){"use strict";var a={props:["results"],computed:{data:function(){return this.results.meta?this.results.meta:this.results},pageRange:function(){var e=this.data.current_page,t=this.data.last_page,r=e-3;r+6>t&&(r=t-6),r<1&&(r=1);var a=r+6;a>t&&(a=t);for(var s=[],n=r;n<=a;n++)s.push(n);return s}},methods:{active:function(e){return{"button-secondary":this.data.current_page===e}},disabled:function(e){return e?"hidden":"button-secondary"},select:function(e){this.selectPage(e)},next:function(){this.data.current_page>=this.data.last_page||this.selectPage(this.data.current_page+1)},previous:function(){this.results.current_page<=1||this.selectPage(this.data.current_page-1)},selectPage:function(e){this.$emit("page-selected",e)}}},s=r("KHd+"),n=Object(s.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.data?r("div",{staticClass:"flex text-sm justify-center"},[r("a",{staticClass:"inline-block rounded p-2 mr-1",class:e.disabled(1==e.data.current_page),attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.previous.apply(null,arguments)}}},[e._v("<")]),e._v(" "),r("span",{staticClass:"inline-block rounded overflow-hidden"},e._l(e.pageRange,(function(t){return r("a",{staticClass:"inline-block sm:rounded p-2 sm:mr-1 button-primary",class:e.active(t),attrs:{href:""},on:{click:function(r){return r.preventDefault(),e.select(t)}}},[e._v(e._s(t))])})),0),e._v(" "),r("a",{staticClass:"inline-block rounded p-2 ml-1 sm:ml-0",class:e.disabled(e.data.current_page>=e.data.last_page),attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.next.apply(null,arguments)}}},[e._v(">")])]):e._e()}),[],!1,null,null,null);t.a=n.exports},"9mkL":function(e,t,r){"use strict";var a=r("O+kr"),s={props:{field:{type:String,required:!0},text:{type:String,required:!0},clicked:{required:!0},order:{type:String,required:!0},direction:{type:String,required:!0}},components:{Icon:a.a},methods:{handler:function(e,t){this.clicked(this.field)}}},n=r("KHd+"),o=Object(n.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center"},[r("a",{staticClass:"link-alternate flex-0",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.handler.apply(null,arguments)}}},[e._v(e._s(e.text))]),e._v(" "),e.order===e.field&&"desc"===e.direction?r("icon",{staticClass:"flex-0",attrs:{size:5}},[r("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})]):e._e(),e._v(" "),e.order===e.field&&"asc"===e.direction?r("icon",{staticClass:"flex-0",attrs:{size:5}},[r("path",{attrs:{d:"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z"}})]):e._e()],1)}),[],!1,null,null,null);t.a=o.exports},laeN:function(e,t,r){"use strict";t.a=function(e){var t=function(){},r=function(r,a,s){e(r,(function(e){t=e,s()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){t.apply(this)},watch:{$route:function(){t.apply(this)}}}}},oH8x:function(e,t,r){"use strict";var a=r("vDqi"),s=r.n(a),n=r("L2JU");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={components:{Submit:r("RHku").a},props:{mine:{type:Boolean,default:!1}},data:function(){return{heroes:[]}},computed:i({},Object(n.e)("deckSearch",["params"]),{format:{get:function(){return this.params.format||"constructed"},set:function(e){this.updateParam({key:"format",value:e})}},hero:{get:function(){return this.params.hero||""},set:function(e){this.updateParam({key:"hero",value:e})}},label:{get:function(){return this.params.label||""},set:function(e){this.updateParam({key:"label",value:e})}},order:{get:function(){return this.params.order||"newest"},set:function(e){this.updateParam({key:"order",value:e})}}}),methods:i({},Object(n.b)("deckSearch",["setCursor","updateParam"]),{active:function(e){if(this.params[e])return"shadow-activeNumber"},search:function(){var e=this,t={hero:this.hero,order:this.order,label:this.label,format:this.format};this.params.cursor&&(t.cursor=this.params.cursor),this.params.page&&(t.page=this.params.page);var r=this.mine?"/decks/mine":"/decks";this.mine||(t.include="weapons"),s.a.get(r,{params:t}).then((function(t){e.$emit("search-completed",t.data)})).catch((function(e){}))},newSearch:function(){this.setCursor({cursor:null}),this.search()}}),watch:{"params.cursor":function(e){this.search()}},created:function(){var e=this;s.a.get("/cards/heroes").then((function(t){e.heroes=t.data})),this.search(),this.$on("refresh",this.search)}},u=r("KHd+"),p=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"px-4 md:px-0 block flex w-full",on:{submit:function(t){return t.preventDefault(),e.newSearch.apply(null,arguments)}}},[r("div",{staticClass:"sm:w-2/6 pr-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.hero,expression:"hero"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-2 px-4 rounded-lg",class:e.active("hero"),on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.hero=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[e._v("Select hero")]),e._v(" "),e._l(e.heroes,(function(t){return r("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])}))],2)]),e._v(" "),r("div",{staticClass:"sm:w-1/6 pr-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.format,expression:"format"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-2 px-4 rounded-lg",class:e.active("format"),on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.format=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[e._v("Format")]),e._v(" "),e._l(e.$settings.game.decks.formats,(function(t,a){return r("option",{domProps:{value:a}},[e._v(e._s(t))])}))],2)]),e._v(" "),r("div",{staticClass:"sm:w-1/6 pr-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"label"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-2 px-4 rounded-lg",class:e.active("label"),on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.label=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[e._v("Label")]),e._v(" "),r("option",{attrs:{value:"tournament"}},[e._v("Tournament")]),e._v(" "),e._l(e.$settings.game.decks.labels,(function(t,a){return r("option",{domProps:{value:a}},[e._v(e._s(t))])}))],2)]),e._v(" "),r("div",{staticClass:"sm:w-1/6 pr-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.order,expression:"order"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-2 px-4 rounded-lg",class:e.active("order"),on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.order=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[e._v("Order")]),e._v(" "),r("option",{attrs:{value:"newest"}},[e._v("Newest")]),e._v(" "),r("option",{attrs:{value:"popular-all"}},[e._v("Popular (All time)")]),e._v(" "),r("option",{attrs:{value:"popular-7"}},[e._v("Popular (Last 7 days)")])])]),e._v(" "),r("div",{staticClass:"sm:w-1/6"},[r("submit",{staticClass:"w-full",attrs:{text:"Search"}})],1)])}),[],!1,null,null,null);t.a=p.exports},ukpw:function(e,t,r){"use strict";r.r(t);var a=r("L2JU"),s=r("57BO"),n=r("Ncp/"),o=r("3/o7"),i=r("8+2f"),l=r("tx+n"),c=r("7It6"),u=r("oH8x"),p=r("laeN"),d=r("HPc3"),f=r("79B+"),v=r("9mkL"),m=r("RHku"),h=r("9gIH"),b=r("vDqi"),g=r.n(b);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={mixins:[h.a],components:{AddDeck:s.a,Collapser:n.a,Crumbs:o.a,DeckItem:l.a,DeckLabel:c.a,DeckSearch:u.a,Paginator:f.a,Sorter:v.a,Submit:m.a},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(a.c)("session",["user"])),data:function(){return{copyDisabled:!1,crumbs:[{text:"Home",link:{name:"home"}},{text:"Deck builder"}],decks:[],response:{},params:{class:"",format:"",page:1}}},methods:{copyDeck:function(e){var t=this;this.copyDisabled||(this.copyDisabled=!0,setTimeout((function(){t.copyDisabled=!1}),3e3),g.a.post("/decks/copy",{deck:e.slug}).then((function(e){t.newSearch()})))},removeDeck:function(e,t){var r=this;window.confirm("Are you sure you want to remove this deck? This action is not reversible.")&&g.a.delete("/decks/"+e.slug).then((function(e){r.decks.splice(t,1)}))},newSearch:function(){var e=this,t=this.params;g.a.get("/decks/mine",{params:t}).then((function(t){e.refreshResults(t)}))},refreshResults:function(e){this.response=e.data,this.decks=d.a.hydrateMany(e.data.data,i.a)},setPage:function(e){this.params.page=e,this.newSearch()}},extends:Object(p.a)((function(e,t){g.a.get("/decks/mine").then((function(e){t((function(){this.refreshResults(e)}))}))})),metaInfo:function(){return{title:"Flesh & Blood Deck builder",description:"Create and customise tournament-winning decks for Flesh & Blood TCG."}}},x=r("KHd+"),w=Object(x.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-title",{attrs:{title:"Deck builder"}}),e._v(" "),r("div",{staticClass:"container mx-auto sm:px-4"},[r("div",{staticClass:"crumbs flex items-center px-4"},[r("crumbs",{staticClass:"py-4 font-serif uppercase",attrs:{crumbs:e.crumbs}}),e._v(" "),r("add-deck",{staticClass:"flex-initial ml-auto",attrs:{name:"New deck"}},[r("span",{staticClass:"hidden sm:block"},[e._v("New deck")]),e._v(" "),r("span",{staticClass:"block sm:hidden"},[e._v("+")])])],1)]),e._v(" "),r("div",{staticClass:"container sm:px-4 sm:mx-auto"},[r("form",{staticClass:"bg-white p-4 block sm:flex w-full",on:{submit:function(t){return t.preventDefault(),e.newSearch.apply(null,arguments)}}},[r("div",{staticClass:"w-full mb-1 sm:mb-0 sm:w-1/3 sm:pr-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.params.class,expression:"params.class"}],staticClass:"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.params,"class",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Select class")]),e._v(" "),e._l(e.$settings.game.classes,(function(t,a){return r("option",{domProps:{value:a}},[e._v(e._s(t))])}))],2)]),e._v(" "),r("div",{staticClass:"w-full mb-1 sm:mb-0 sm:w-1/3 sm:pr-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.params.format,expression:"params.format"}],staticClass:"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.params,"format",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Format")]),e._v(" "),r("option",{attrs:{value:"blitz"}},[e._v("Blitz")]),e._v(" "),r("option",{attrs:{value:"constructed"}},[e._v("Constructed")]),e._v(" "),r("option",{attrs:{value:"open"}},[e._v("Open")])])]),e._v(" "),r("div",{staticClass:"sm:w-1/3"},[r("submit",{staticClass:"w-full",attrs:{text:"Search"}})],1)]),e._v(" "),r("div",{staticClass:"bg-gray-200 p-4 sm:p-0"},[e.user?r("div",[r("table",{staticClass:"w-full table-auto border-collapse bg-white"},[e._m(0),e._v(" "),r("tbody",e._l(e.decks,(function(t,a){return r("tr",{staticClass:"odd:bg-gray-100 group hover:bg-gray-600 hover:text-white"},[r("td",{staticClass:"border border-gray-300"},[r("router-link",{staticClass:"block flex items-center",attrs:{to:{name:"decks.build",params:{deck:t.slug}}}},[t.hero?r("img",{attrs:{src:e.squareThumbUrl(t.hero.image,43)}}):e._e(),e._v(" "),r("span",{staticClass:"block flex-grow px-4 py-2"},[e._v(e._s(t.name))])])],1),e._v(" "),r("td",{staticClass:"border border-gray-300 p-2 px-4 hidden lg:table-cell"},[t.label?r("deck-label",{staticClass:"text-xs rounded-full p-1 px-2",attrs:{label:t.label}}):e._e()],1),e._v(" "),r("td",{staticClass:"border border-gray-300 hidden lg:table-cell"},[t.parent?r("router-link",{staticClass:"block w-full p-2 px-4",attrs:{to:{name:"decks.build",params:{deck:t.parent.slug}}}},[e._v(e._s(t.parent.name))]):e._e()],1),e._v(" "),r("td",{staticClass:"border border-gray-300 p-2 px-4 hidden sm:table-cell"},[e._v(e._s(t.hero?e.$settings.game.classes[t.hero.class]:""))]),e._v(" "),r("td",{staticClass:"border border-gray-300 p-2 px-4 hidden md:table-cell"},[e._v(e._s(t.totalCards))]),e._v(" "),r("td",{staticClass:"border border-gray-300 p-2 px-4 hidden sm:table-cell"},[e._v(e._s(t.updatedAt))]),e._v(" "),r("td",{staticClass:"border border-gray-300 p-2 px-4"},[r("div",{staticClass:"flex space-x-4 justify-center items-center"},[r("router-link",{staticClass:"lg:hidden hover:text-gray-400",attrs:{to:{name:"decks.test",params:{deck:t.slug}}},on:{click:function(r){return e.copyDeck(t)}}},[r("icon",{attrs:{size:6}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"}})])],1),e._v(" "),r("router-link",{staticClass:"hidden lg:inline hover:text-gray-400",attrs:{to:{name:"decks.test.prepare",params:{deck:t.slug}}},on:{click:function(r){return e.copyDeck(t)}}},[r("icon",{attrs:{size:6}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"}})])],1),e._v(" "),r("button",{staticClass:"hover:text-gray-400",on:{click:function(r){return e.copyDeck(t)}}},[r("icon",{attrs:{size:6}},[r("path",{attrs:{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}}),e._v(" "),r("path",{attrs:{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"}})])],1),e._v(" "),r("button",{staticClass:"hover:text-gray-400",on:{click:function(r){return e.removeDeck(t,a)}}},[r("icon",{attrs:{size:6}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"}})])],1)],1)])])})),0)]),e._v(" "),r("paginator",{staticClass:"py-4",attrs:{results:e.response},on:{"page-selected":e.setPage}})],1):r("p",[e._v("The deck builder is available to registered users only, so if you do not yet have an account, you\n                must "),r("router-link",{staticClass:"link",attrs:{to:"/login"}},[e._v("register or login")]),e._v(".")],1)])])],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",{staticClass:"text-base"},[r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase text-left"},[e._v("Deck")]),e._v(" "),r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase text-left hidden lg:table-cell"},[e._v("Label")]),e._v(" "),r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase text-left hidden lg:table-cell"},[e._v("Parent")]),e._v(" "),r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase text-left hidden sm:table-cell"},[e._v("Class")]),e._v(" "),r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase text-left hidden md:table-cell"},[e._v("Cards")]),e._v(" "),r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase text-left hidden sm:table-cell"},[e._v("Last updated")]),e._v(" "),r("th",{staticClass:"border border-gray-300 p-2 px-4 font-serif uppercase"},[r("span",{staticClass:"hidden lg:block"},[e._v("Actions")])])])])}],!1,null,null,null);t.default=w.exports}}]);