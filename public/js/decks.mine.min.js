(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{215:function(e,t,r){"use strict";var n=r(4),s=r.n(n);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={props:{label:{type:String,required:!0},name:{type:String,required:!0},params:{type:Object,default:function(){return{}}},enabled:{type:Boolean,default:!0}},methods:{addDeck:function(){var e=this;s.a.post("/decks/",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({name:this.name},this.params)).then((function(t){e.$router.push({name:"decks.build",params:{deck:t.data.slug}})}))}}},c=r(0),l=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"block text-right",on:{submit:function(t){return t.preventDefault(),e.addDeck()}}},[r("input",{staticClass:"py-3 px-4 appearance-none rounded-lg p-2 button-primary cursor-pointer",class:{"button-disabled":!e.enabled},attrs:{type:"submit",disabled:!e.enabled},domProps:{value:e.label}})])}),[],!1,null,null,null);t.a=l.exports},22:function(e,t,r){"use strict";var n={props:["results"],computed:{data:function(){return this.results.meta?this.results.meta:this.results},pageRange:function(){var e=this.data.current_page,t=this.data.last_page,r=e-3;r+6>t&&(r=t-6),r<1&&(r=1);var n=r+6;n>t&&(n=t);for(var s=[],a=r;a<=n;a++)s.push(a);return s}},methods:{active:function(e){return{"button-secondary":this.data.current_page===e}},disabled:function(e){return e?"hidden":"button-secondary"},select:function(e){this.selectPage(e)},next:function(){this.data.current_page>=this.data.last_page||this.selectPage(this.data.current_page+1)},previous:function(){this.results.current_page<=1||this.selectPage(this.data.current_page-1)},selectPage:function(e){this.$emit("page-selected",e)}}},s=r(0),a=Object(s.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.data?r("div",{staticClass:"flex text-sm justify-center"},[r("a",{staticClass:"inline-block rounded p-2 mr-1",class:e.disabled(1==e.data.current_page),attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.previous.apply(null,arguments)}}},[e._v("<")]),e._v(" "),r("span",{staticClass:"inline-block rounded overflow-hidden"},e._l(e.pageRange,(function(t){return r("a",{staticClass:"inline-block sm:rounded p-2 sm:mr-1 button-primary",class:e.active(t),attrs:{href:""},on:{click:function(r){return r.preventDefault(),e.select(t)}}},[e._v(e._s(t))])})),0),e._v(" "),r("a",{staticClass:"inline-block rounded p-2 ml-1 sm:ml-0",class:e.disabled(e.data.current_page>=e.data.last_page),attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.next.apply(null,arguments)}}},[e._v(">")])]):e._e()}),[],!1,null,null,null);t.a=a.exports},337:function(e,t,r){"use strict";r.r(t);var n=r(2),s=r(215),a=r(8),i=r(22);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={components:{AddDeck:s.a,Paginator:i.a},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(n.c)("session",["user"])),data:function(){return{copyDisabled:!1,decks:null,response:{},page:1}},methods:{copyDeck:function(e){var t=this;this.copyDisabled||(this.copyDisabled=!0,setTimeout((function(){t.copyDisabled=!1}),3e3),axios.post("/decks/copy",{deck:e.slug}).then((function(e){t.search(1)})))},removeDeck:function(e,t){var r=this;window.confirm("Are you sure you want to remove this deck? This action is not reversible.")&&axios.delete("/decks/"+e.slug).then((function(e){r.decks.splice(t,1),r.search(r.page)}))},search:function(e){var t=this;this.page=e,axios.get("/decks/mine?page="+e).then((function(e){t.response=e.data,t.decks=e.data.data}))}},metaInfo:function(){return{title:"Flesh & Blood Deck builder",description:"Create and customise tournament-winning decks for Flesh & Blood TCG."}},extends:Object(a.a)((function(e,t){axios.get("/decks/mine").then((function(e){t((function(){this.response=e.data,this.decks=e.data.data}))}))}))},u=r(0),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container px-4 sm:mx-auto text-white md:flex"},[r("div",{staticClass:"md:my-20 md:w-1/2 md:pr-8"},[r("div",{staticClass:"my-8 md:my-0 p-8 bg-nearly-black backdrop-blur-2 rounded-xl"},[r("h1",{staticClass:"font-serif text-4xl lg:text-4xl uppercase"},[e._v("Deck Builder")]),e._v(" "),r("p",{staticClass:"mt-4"},[e._v("\n                The first and only Flesh & Blood Deck Builder is here. You can build your decks\n                for constructed or blitz formats, and then export them to PDF for tournament registration, or\n                integration with Tabletop Simulator.\n            ")]),e._v(" "),r("p",{staticClass:"mt-4"},[r("router-link",{staticClass:"link",attrs:{to:"/support"}},[e._v("Supporters")]),e._v(" gain access to\n                premium deck builder features, the deck tester, exclusive FaB DB backgrounds, limited playmat\n                sales and a whole lot more!\n            ")],1),e._v(" "),e.user&&!e.user.subscription?r("router-link",{staticClass:"appearance-none block w-full mt-2 bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500 text-center mt-8",attrs:{to:"/support"}},[e._v("Upgrade to premium")]):e._e()],1)]),e._v(" "),r("div",{staticClass:"md:my-20 md:flex-grow md:w-1/2"},[e.user?r("div",[r("div",{staticClass:"flex items-center pb-4"},[r("h1",{staticClass:"font-serif text-white text-4xl uppercase flex-1"},[e._v("Decks")]),e._v(" "),r("add-deck",{staticClass:"flex-initial",attrs:{name:"New deck",label:"New deck"}})],1),e._v(" "),e.decks?r("ol",e._l(e.decks,(function(t,n){return r("li",{staticClass:"bg-semi-black backdrop-blur-2 rounded-lg mb-1 hover:bg-black"},[r("div",{staticClass:"flex"},[r("router-link",{staticClass:"block link flex-1 p-4 pr-0",attrs:{to:"/decks/build/"+t.slug}},[e._v(e._s(t.name))]),e._v(" "),r("router-link",{staticClass:"block link p-4 pr-0",attrs:{to:"/decks/test/"+t.slug,title:"Test deck"}},[e._v("Test")]),e._v(" "),r("a",{staticClass:"block p-4",class:{"text-gray-500":e.copyDisabled,link:!e.copyDisabled},attrs:{href:"",title:"Copy deck"},on:{click:function(r){return r.preventDefault(),e.copyDeck(t)}}},[e._v("Copy")]),e._v(" "),r("a",{staticClass:"block link p-4",attrs:{href:"",title:"Delete deck"},on:{click:function(r){return r.preventDefault(),e.removeDeck(t,n)}}},[e._v("Delete")])],1)])})),0):e._e(),e._v(" "),r("paginator",{attrs:{results:e.response},on:{"page-selected":e.search}})],1):r("p",[e._v("The deck builder is available to registered users only, so if you do not yet have an account, you\n            must "),r("router-link",{staticClass:"link",attrs:{to:"/login"}},[e._v("register or login")]),e._v(".")],1)])])}),[],!1,null,null,null);t.default=d.exports},8:function(e,t,r){"use strict";t.a=function(e){var t=function(){},r=function(r,n,s){e(r,(function(e){t=e,s()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){t.apply(this)},watch:{$route:function(){t.apply(this)}}}}}}]);
//# sourceMappingURL=decks.mine.min.js.map?id=3f5a690189e007063cdb