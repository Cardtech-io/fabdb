{"version":3,"sources":["webpack:///./resources/js/Decks/AddDeck.vue?755f","webpack:///resources/js/Decks/AddDeck.vue","webpack:///./resources/js/Decks/AddDeck.vue?d0cf","webpack:///./resources/js/Decks/AddDeck.vue","webpack:///./resources/js/Components/Paginator.vue?6ad5","webpack:///./resources/js/Components/Paginator.vue?f264","webpack:///resources/js/Components/Paginator.vue","webpack:///./resources/js/Components/Paginator.vue","webpack:///./resources/js/DeckBuilder/ListDecks.vue?ca6c","webpack:///resources/js/DeckBuilder/ListDecks.vue","webpack:///./resources/js/DeckBuilder/ListDecks.vue?3f8a","webpack:///./resources/js/DeckBuilder/ListDecks.vue","webpack:///./resources/js/Components/LazyLoader.js"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","addDeck","class","enabled","attrs","domProps","label","disabled","data","current_page","previous","apply","arguments","_v","_l","n","active","select","_s","last_page","next","_e","user","subscription","deck","key","slug","name","copyDisabled","copyDeck","removeDeck","response","search","loadData","loaderCallback","loadRoute","to","from","callback","beforeRouteEnter","beforeRouteUpdate","created","watch"],"mappings":"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","file":"js/decks.mine.min.js?id=3f5a690189e007063cdb","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"block text-right\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addDeck()}}},[_c('input',{staticClass:\"py-3 px-4 appearance-none rounded-lg p-2 button-primary cursor-pointer\",class:{'button-disabled': !_vm.enabled},attrs:{\"type\":\"submit\",\"disabled\":!_vm.enabled},domProps:{\"value\":_vm.label}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <form @submit.prevent=\"addDeck()\" class=\"block text-right\">\n        <input type=\"submit\" class=\"py-3 px-4 appearance-none rounded-lg p-2 button-primary cursor-pointer\" :value=\"label\" :class=\"{'button-disabled': !enabled}\" :disabled=\"!enabled\">\n    </form>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        props: {\n            label: {\n                type: String,\n                required: true\n            },\n\n            name: {\n                type: String,\n                required: true\n            },\n\n            params: {\n                type: Object,\n                default: function() {\n                    return {};\n                }\n            },\n\n            enabled: {\n                type: Boolean,\n                default: true\n            }\n        },\n\n        methods: {\n            addDeck() {\n                axios.post('/decks/', {name: this.name, ...this.params}).then(response => {\n                    this.$router.push({name: 'decks.build', params: {deck: response.data.slug}});\n                });\n            }\n        }\n    };\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDeck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDeck.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddDeck.vue?vue&type=template&id=490ffa78&\"\nimport script from \"./AddDeck.vue?vue&type=script&lang=js&\"\nexport * from \"./AddDeck.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data)?_c('div',{staticClass:\"flex text-sm justify-center\"},[_c('a',{staticClass:\"inline-block rounded p-2 mr-1\",class:_vm.disabled(_vm.data.current_page == 1),attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.previous.apply(null, arguments)}}},[_vm._v(\"<\")]),_vm._v(\" \"),_c('span',{staticClass:\"inline-block rounded overflow-hidden\"},_vm._l((_vm.pageRange),function(n){return _c('a',{staticClass:\"inline-block sm:rounded p-2 sm:mr-1 button-primary\",class:_vm.active(n),attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.select(n)}}},[_vm._v(_vm._s(n))])}),0),_vm._v(\" \"),_c('a',{staticClass:\"inline-block rounded p-2 ml-1 sm:ml-0\",class:_vm.disabled(_vm.data.current_page >= _vm.data.last_page),attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.next.apply(null, arguments)}}},[_vm._v(\">\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Paginator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Paginator.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"flex text-sm justify-center\" v-if=\"data\">\n        <a href=\"\" class=\"inline-block rounded p-2 mr-1\" @click.prevent=\"previous\" :class=\"disabled(data.current_page == 1)\">&lt;</a>\n        <span class=\"inline-block rounded overflow-hidden\">\n            <a v-for=\"n in pageRange\" href=\"\" class=\"inline-block sm:rounded p-2 sm:mr-1 button-primary\" :class=\"active(n)\" @click.prevent=\"select(n)\">{{ n }}</a>\n        </span>\n        <a href=\"\" class=\"inline-block rounded p-2 ml-1 sm:ml-0\" @click.prevent=\"next\" :class=\"disabled(data.current_page >= data.last_page)\">&gt;</a>\n    </div>\n</template>\n\n<script>\n    export default {\n        props: ['results'],\n\n        computed: {\n            data() {\n                if (this.results.meta) {\n                    return this.results.meta;\n                } else {\n                    return this.results;\n                }\n            },\n\n            pageRange: function() {\n                const rangeLimit = 6;\n                const currentPage = this.data.current_page;\n                const lastPage = this.data.last_page;\n\n                let first = currentPage - 3;\n\n                if (first + rangeLimit > lastPage) {\n                    first = lastPage - rangeLimit;\n                }\n\n                if (first < 1) {\n                    first = 1;\n                }\n\n                let last = first + rangeLimit;\n\n                if (last > lastPage) {\n                    last = lastPage;\n                }\n\n                var range = [];\n\n                for (var i = first; i <= last; i++) {\n                    range.push(i);\n                }\n\n                return range;\n            }\n        },\n\n        methods: {\n            active: function(n) {\n                return {\n                    'button-secondary': this.data.current_page === n\n                }\n            },\n\n            disabled: function(disabled) {\n                if (disabled) {\n                    return 'hidden';\n                } else {\n                    return 'button-secondary';\n                }\n            },\n\n            select: function(page) {\n                this.selectPage(page);\n            },\n\n            next: function() {\n                if (this.data.current_page >= this.data.last_page) return;\n\n                this.selectPage(this.data.current_page + 1);\n            },\n\n            previous: function() {\n                if (this.results.current_page <= 1) return;\n\n                this.selectPage(this.data.current_page - 1);\n            },\n\n            selectPage: function(page) {\n                this.$emit('page-selected', page);\n            }\n        }\n    };\n</script>\n","import { render, staticRenderFns } from \"./Paginator.vue?vue&type=template&id=1286566f&\"\nimport script from \"./Paginator.vue?vue&type=script&lang=js&\"\nexport * from \"./Paginator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container px-4 sm:mx-auto text-white md:flex\"},[_c('div',{staticClass:\"md:my-20 md:w-1/2 md:pr-8\"},[_c('div',{staticClass:\"my-8 md:my-0 p-8 bg-nearly-black backdrop-blur-2 rounded-xl\"},[_c('h1',{staticClass:\"font-serif text-4xl lg:text-4xl uppercase\"},[_vm._v(\"Deck Builder\")]),_vm._v(\" \"),_c('p',{staticClass:\"mt-4\"},[_vm._v(\"\\n                The first and only Flesh & Blood Deck Builder is here. You can build your decks\\n                for constructed or blitz formats, and then export them to PDF for tournament registration, or\\n                integration with Tabletop Simulator.\\n            \")]),_vm._v(\" \"),_c('p',{staticClass:\"mt-4\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":\"/support\"}},[_vm._v(\"Supporters\")]),_vm._v(\" gain access to\\n                premium deck builder features, the deck tester, exclusive FaB DB backgrounds, limited playmat\\n                sales and a whole lot more!\\n            \")],1),_vm._v(\" \"),(_vm.user && !_vm.user.subscription)?_c('router-link',{staticClass:\"appearance-none block w-full mt-2 bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500 text-center mt-8\",attrs:{\"to\":\"/support\"}},[_vm._v(\"Upgrade to premium\")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"md:my-20 md:flex-grow md:w-1/2\"},[(_vm.user)?_c('div',[_c('div',{staticClass:\"flex items-center pb-4\"},[_c('h1',{staticClass:\"font-serif text-white text-4xl uppercase flex-1\"},[_vm._v(\"Decks\")]),_vm._v(\" \"),_c('add-deck',{staticClass:\"flex-initial\",attrs:{\"name\":\"New deck\",\"label\":\"New deck\"}})],1),_vm._v(\" \"),(_vm.decks)?_c('ol',_vm._l((_vm.decks),function(deck,key){return _c('li',{staticClass:\"bg-semi-black backdrop-blur-2 rounded-lg mb-1 hover:bg-black\"},[_c('div',{staticClass:\"flex\"},[_c('router-link',{staticClass:\"block link flex-1 p-4 pr-0\",attrs:{\"to\":'/decks/build/' + deck.slug}},[_vm._v(_vm._s(deck.name))]),_vm._v(\" \"),_c('router-link',{staticClass:\"block link p-4 pr-0\",attrs:{\"to\":'/decks/test/' + deck.slug,\"title\":\"Test deck\"}},[_vm._v(\"Test\")]),_vm._v(\" \"),_c('a',{staticClass:\"block p-4\",class:{ 'text-gray-500': _vm.copyDisabled, 'link': !_vm.copyDisabled },attrs:{\"href\":\"\",\"title\":\"Copy deck\"},on:{\"click\":function($event){$event.preventDefault();return _vm.copyDeck(deck)}}},[_vm._v(\"Copy\")]),_vm._v(\" \"),_c('a',{staticClass:\"block link p-4\",attrs:{\"href\":\"\",\"title\":\"Delete deck\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeDeck(deck, key)}}},[_vm._v(\"Delete\")])],1)])}),0):_vm._e(),_vm._v(\" \"),_c('paginator',{attrs:{\"results\":_vm.response},on:{\"page-selected\":_vm.search}})],1):_c('p',[_vm._v(\"The deck builder is available to registered users only, so if you do not yet have an account, you\\n            must \"),_c('router-link',{staticClass:\"link\",attrs:{\"to\":\"/login\"}},[_vm._v(\"register or login\")]),_vm._v(\".\")],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container px-4 sm:mx-auto text-white md:flex\">\n        <div class=\"md:my-20 md:w-1/2 md:pr-8\">\n            <div class=\"my-8 md:my-0 p-8 bg-nearly-black backdrop-blur-2 rounded-xl\">\n                <h1 class=\"font-serif text-4xl lg:text-4xl uppercase\">Deck Builder</h1>\n                <p class=\"mt-4\">\n                    The first and only Flesh &amp; Blood Deck Builder is here. You can build your decks\n                    for constructed or blitz formats, and then export them to PDF for tournament registration, or\n                    integration with Tabletop Simulator.\n                </p>\n\n                <p class=\"mt-4\">\n                    <router-link to=\"/support\" class=\"link\">Supporters</router-link> gain access to\n                    premium deck builder features, the deck tester, exclusive FaB DB backgrounds, limited playmat\n                    sales and a whole lot more!\n                </p>\n\n                <router-link to=\"/support\" class=\"appearance-none block w-full mt-2 bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500 text-center mt-8\" v-if=\"user && !user.subscription\">Upgrade to premium</router-link>\n            </div>\n        </div>\n\n        <div class=\"md:my-20 md:flex-grow md:w-1/2\">\n            <div v-if=\"user\">\n                <div class=\"flex items-center pb-4\">\n                    <h1 class=\"font-serif text-white text-4xl uppercase flex-1\">Decks</h1>\n                    <add-deck class=\"flex-initial\" name=\"New deck\" label=\"New deck\"></add-deck>\n                </div>\n\n                <ol v-if=\"decks\">\n                    <li class=\"bg-semi-black backdrop-blur-2 rounded-lg mb-1 hover:bg-black\" v-for=\"(deck, key) in decks\">\n                        <div class=\"flex\">\n                            <router-link :to=\"'/decks/build/' + deck.slug\" class=\"block link flex-1 p-4 pr-0\">{{ deck.name }}</router-link>\n                            <router-link :to=\"'/decks/test/' + deck.slug\" class=\"block link p-4 pr-0\" title=\"Test deck\">Test</router-link>\n                            <a href=\"\" class=\"block p-4\" @click.prevent=\"copyDeck(deck)\" title=\"Copy deck\" :class=\"{ 'text-gray-500': copyDisabled, 'link': !copyDisabled }\">Copy</a>\n                            <a href=\"\" class=\"block link p-4\" @click.prevent=\"removeDeck(deck, key)\" title=\"Delete deck\">Delete</a>\n                        </div>\n                    </li>\n                </ol>\n\n                <paginator :results=\"response\" @page-selected=\"search\"></paginator>\n            </div>\n            <p v-else>The deck builder is available to registered users only, so if you do not yet have an account, you\n                must <router-link to=\"/login\" class=\"link\">register or login</router-link>.</p>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapGetters } from 'vuex';\n\n    import AddDeck from '../Decks/AddDeck';\n    import LazyLoader from \"../Components/LazyLoader\";\n    import Paginator from \"../Components/Paginator\";\n\n    export default {\n        components: {AddDeck, Paginator},\n\n        computed: {\n            ...mapGetters('session', ['user'])\n        },\n\n        data() {\n            return {\n                copyDisabled: false,\n                decks: null,\n                response: {},\n                page: 1,\n            };\n        },\n\n        methods: {\n            copyDeck(deck) {\n                if (this.copyDisabled) return;\n\n                this.copyDisabled = true;\n\n                setTimeout(() => {\n                    this.copyDisabled = false;\n                }, 3000);\n\n                axios.post('/decks/copy', { deck: deck.slug }).then(response => {\n                    this.search(1);\n                });\n            },\n\n            removeDeck(deck, key) {\n                const confirm = window.confirm('Are you sure you want to remove this deck? This action is not reversible.');\n\n                if (confirm) {\n                    axios.delete('/decks/' + deck.slug).then(response => {\n                        this.decks.splice(key, 1);\n                        this.search(this.page);\n                    });\n                }\n            },\n\n            search(page) {\n                this.page = page;\n\n                axios.get('/decks/mine?page='+page).then(response => {\n                    this.response = response.data;\n                    this.decks = response.data.data;\n                });\n            }\n        },\n\n        metaInfo() {\n            return {\n                title: 'Flesh & Blood Deck builder',\n                description: 'Create and customise tournament-winning decks for Flesh & Blood TCG.'\n            }\n        },\n\n        extends: LazyLoader((to, callback) => {\n            axios.get('/decks/mine').then(response => {\n                callback(function() {\n                    this.response = response.data;\n                    this.decks = response.data.data;\n                });\n            });\n        })\n    }\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListDecks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListDecks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListDecks.vue?vue&type=template&id=fab4f3c6&\"\nimport script from \"./ListDecks.vue?vue&type=script&lang=js&\"\nexport * from \"./ListDecks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default (loadData) => {\n    let loaderCallback = () => {};\n\n    const loadRoute = (to, from, next) => {\n        loadData(to, (callback) => {\n            loaderCallback = callback;\n            next();\n        })\n    };\n\n    return {\n        beforeRouteEnter: loadRoute,\n        beforeRouteUpdate: loadRoute,\n        created: function() {\n            loaderCallback.apply(this)\n        },\n        watch: {\n            '$route': function() {\n                loaderCallback.apply(this)\n            }\n        }\n    }\n};\n"],"sourceRoot":""}