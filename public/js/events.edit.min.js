(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{200:function(e,t,n){var r=n(285);"string"==typeof r&&(r=[[e.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(32)(r,s);r.locals&&(e.exports=r.locals)},24:function(e,t,n){"use strict";var r={mixins:[n(10).a],props:{user:{type:Object,required:!0},width:{type:Number,default:100}},computed:{avatar:function(){return this.user.avatar||"bauble"}}},s=n(1),a=Object(s.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"rounded-full",style:{width:this.width+"px"},attrs:{src:this.imageUrl("/heroes/"+this.avatar+".jpg",this.width),alt:this.user.name}})}),[],!1,null,null,null);t.a=a.exports},268:function(e,t){},284:function(e,t,n){"use strict";var r=n(200);n.n(r).a},285:function(e,t,n){(t=e.exports=n(27)(!1)).i(n(254),""),t.push([e.i,"\n",""])},316:function(e,t,n){"use strict";n.r(t);var r=n(4),s=n.n(r),a=n(2),i=n(17);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={props:["event"],methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(a.b)("messages",["addMessage"]),{cancel:function(){var e=this;s.a.delete("/events/"+this.event.slug).then((function(t){e.addMessage({status:"info",message:"Event cancelled."}),e.$router.push({name:"events"})}))}})},l=n(1),v=Object(l.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"appearance-none inline-block bg-red-700 text-white rounded-full py-3 px-4 leading-tight focus:outline-none hover:bg-red-500 disabled:opacity-50",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[e._v("\n    Cancel my event\n")])}),[],!1,null,null,null).exports,p=n(257),d=n(6),f=n(7);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={props:["event"],components:{Avatar:n(24).a},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(a.c)("session",["user"])),methods:{deck:function(e){return this.event.decks.filter((function(t){return t.user.slug==e}))[0]}}},g=Object(l.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"font-serif uppercase text-2xl mb-2"},[e._v("Registered Players")]),e._v(" "),e.event.players&&e.event.players.length?n("div",[n("ul",e._l(e.event.players,(function(t){return n("li",{staticClass:"flex odd:bg-gray-100 rounded-xl mb-2 items-center hover:bg-white"},[n("div",[n("avatar",{attrs:{user:t.user,width:50,rounded:"xl"}})],1),e._v(" "),n("div",{staticClass:"flex-auto mx-4"},[e._v("\n                    "+e._s(t.user.name)+"\n                ")]),e._v(" "),"constructed"==e.event.type?n("div",{staticClass:"pr-4"},[e.deck(t.user.slug)?n("router-link",{staticClass:"link",attrs:{to:{name:"decks.view",params:{deck:e.deck(t.user.slug).slug}}}},[e._v("\n                        View deck\n                    ")]):n("span",[e._v("\n                        Awaiting submission\n                    ")])],1):e._e()])})),0)]):n("div",{staticClass:"bg-gray-100 px-4 py-2"},[e._v("\n        There are currently no registered players.\n    ")])])}),[],!1,null,null,null).exports,h=n(18),w=n(219);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={components:{Breadcrumbs:i.a,CancelEvent:v,Datetime:p.Datetime,HeaderTitle:d.a,ManagePlayers:g,Submit:h.a,MarkdownEditor:w.a},computed:j({},Object(a.c)("session",["user"]),{crumbs:function(){return[{text:"Home",name:"home"},{text:"My Events",name:"events.mine"},{text:this.title}]},title:function(){return this.event.name||"Register event"}}),data:function(){return{event:{type:"constructed"}}},methods:j({},Object(a.b)("messages",["addMessage"]),{activeType:function(e){return this.typeAvailable(e)?{"border-b-2":this.event.type==e,"border-gray-800":this.event.type==e,"text-gray-800":this.event.type==e,"text-red-400":this.event.type!=e,"hover:text-gray-800":this.event.type!=e}:"text-gray-300"},saveEvent:function(){var e=this,t={slug:this.event.slug,type:this.event.type,fee:this.event.fee,name:this.event.name,description:this.event.description,startsAt:this.event.startsAt};(this.event.slug?s.a.put("/events/"+this.event.slug,t):s.a.post("/events",t)).then((function(t){var n="Event updated.";e.event.slug||(n="Event successfully registered.",e.event.slug=t.data.slug,e.$router.push({name:"events.mine"})),e.addMessage({status:"success",message:n})}))},setType:function(e){this.event.type=e},typeAvailable:function(e){return"constructed"==e||"editor"==this.user.role||"owner"==this.user.role}}),extends:Object(f.a)((function(e,t){e.params.event?s.a.get("/events/"+e.params.event+"?include=players").then((function(e){t((function(){this.event=e.data,this.event.startsAt=moment.utc(this.event.startsAt).local().toISOString()}))})):t((function(){}))}))},k=(n(284),Object(l.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header-title",{attrs:{title:e.title}}),e._v(" "),n("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),n("div",{staticClass:"bg-gray-200"},[n("div",{staticClass:"container sm:mx-auto p-4 py-8 md:flex"},[n("div",{staticClass:"md:w-1/2 md:pr-8"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.saveEvent.apply(null,arguments)}}},[n("div",{staticClass:"w-full mb-2"},[n("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[e._v("Event name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.name,expression:"event.name"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg mb-2",attrs:{required:""},domProps:{value:e.event.name},on:{input:function(t){t.target.composing||e.$set(e.event,"name",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"w-full mb-2"},[n("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[e._v("Event fee")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.fee,expression:"event.fee"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg mb-2",attrs:{type:"number",step:".01",min:"0"},domProps:{value:e.event.fee},on:{input:function(t){t.target.composing||e.$set(e.event,"fee",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"w-full mb-2"},[n("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[e._v("When")]),e._v(" "),n("datetime",{attrs:{"input-class":"input-white focus:border-gray-500 py-3 px-4 rounded-lg mb-2",format:"yyyy-MM-dd HH:mm:ss",type:"datetime","use12-hour":!0,"minute-step":15},model:{value:e.event.startsAt,callback:function(t){e.$set(e.event,"startsAt",t)},expression:"event.startsAt"}})],1),e._v(" "),n("div",{staticClass:"w-full mb-2"},[n("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[e._v("Description")]),e._v(" "),n("markdown-editor",{ref:"markdownEditor",model:{value:e.event.description,callback:function(t){e.$set(e.event,"description",t)},expression:"event.description"}})],1),e._v(" "),n("div",{staticClass:"py-8"},[n("submit",{attrs:{text:"Save"}})],1)])]),e._v(" "),n("div",{staticClass:"md:w-1/2 mt-8 md:mt-0"},[n("p",{staticClass:"mb-4"},[e._v("\n                        Events allow you to setup and invite players to register, and submit their decks, thereby providing\n                        a seamless solution. Furthermore, if you run one or more Local Game Stores, you will also be\n                        able to run online draft/sealed events, thereby allowing you to support remote play of these\n                        events with your local customers, by integrating Legend Story's GEM system, with fabdb.net's\n                        deck export utility, and Tabletop Simulator.\n                    ")]),e._v(" "),e.event.slug?n("div",{staticClass:"text-right mt-8"},[n("cancel-event",{attrs:{event:e.event}})],1):e._e(),e._v(" "),n("div",{staticClass:"mt-8"},[n("manage-players",{attrs:{event:e.event}})],1)])])])],1)}),[],!1,null,null,null));t.default=k.exports},7:function(e,t,n){"use strict";t.a=function(e){var t=function(){},n=function(n,r,s){e(n,(function(e){t=e,s()}))};return{beforeRouteEnter:n,beforeRouteUpdate:n,created:function(){t.apply(this)},watch:{$route:function(){t.apply(this)}}}}}}]);
//# sourceMappingURL=events.edit.min.js.map?id=fea0f6685a73fdbfaebb