(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{17:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(11);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=e}var e,r,i;return e=t,(r=[{key:"applyFilters",value:function(e){var r=this;return new t(this.cards.filter((function(t){return!!(e.indexOf("actions")>-1&&r.isAction(t)||e.indexOf("attacks")>-1&&r.isAttack(t)||e.indexOf("attackReactions")>-1&&r.isAttackReaction(t)||e.indexOf("instants")>-1&&r.isInstant(t)||e.indexOf("defenseReactions")>-1&&r.isDefenseReaction(t))})))}},{key:"isAction",value:function(t){return t.keywords.includes("action")&&!t.keywords.includes("attack")}},{key:"isAttack",value:function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}},{key:"isAttackReaction",value:function(t){return t.keywords.includes("attack")&&t.keywords.includes("reaction")}},{key:"isDefenseReaction",value:function(t){return t.keywords.includes("defense")&&t.keywords.includes("reaction")}},{key:"isInstant",value:function(t){return t.keywords.includes("instant")}},{key:"hero",value:function(){return this.cards.filter((function(t){return"hero"===t.type}))[0]}},{key:"miscellaneous",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("resource")})))}},{key:"attackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttack(t)})))}},{key:"nonAttackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAction(t)})))}},{key:"attackReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttackReaction(t)})))}},{key:"defenseReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isDefenseReaction(t)})))}},{key:"weapons",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("weapon")})))}},{key:"equipment",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("equipment")})))}},{key:"items",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("item")})))}},{key:"instants",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isInstant(t)})))}},{key:"colouredCount",value:function(t){var e={blue:3,yellow:2,red:1};return this.filter((function(r){return r.stats.resource&&r.stats.resource==e[t]})).total()}},{key:"other",value:function(){var e=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return new t(n.a.sortBy(e,(function(t){return t.stats.resource})))}},{key:"withCost",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.cost)}))}},{key:"withResource",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.resource)}))}},{key:"sort",value:function(){return new t(n.a.sortBy(this.cards,(function(t){var e=t.stats?t.stats.resource:"";return t.name+e})))}},{key:"filter",value:function(e){return new t(this.cards.filter(e))}},{key:"reduce",value:function(t,e){return this.cards.reduce(t,e)}},{key:"find",value:function(t){return this.cards.filter((function(e){return e.identifier===t.identifier}))[0]}},{key:"findKey",value:function(t){for(var e in this.cards)if(this.cards[e].identifier===t.identifier)return e;return!1}},{key:"hydrate",value:function(){return new t(this.cards.reduce((function(t,e){for(var r=0;r<e.total;r++)t.push(e);return t}),[]))}},{key:"total",value:function(){return this.cards.reduce((function(t,e){return t+e.total}),0)}},{key:"count",value:function(){return this.cards.length}},{key:"add",value:function(t){var e=this.find(t);e?e.total+=1:((t=JSON.parse(JSON.stringify(t))).total=1,this.cards.push(t))}},{key:"group",value:function(e){var r="string"==typeof e?function(t){return t[e]}:e;return new t(Object.values(n.a.groupBy(this.cards,r)))}},{key:"concat",value:function(e){return e=e instanceof t?e.all():e,new t(this.cards.concat(e))}},{key:"remove",value:function(t){var e=this.find(t);if(e.total>1)e.total-=1;else{var r=this.findKey(t);!1!==r&&this.cards.splice(r,1)}}},{key:"all",value:function(){return this.cards}},{key:Symbol.iterator,value:function(){return this.cards.values()}}])&&s(e.prototype,r),i&&s(e,i),t}()},28:function(t,e,r){"use strict";var n={props:["resource"],mixins:[r(5).a]},s=r(0),i=Object(s.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return this.resource?e("div",{staticClass:"inline-block rounded-lg h-2 w-2",class:this.resourceColour(this.resource)}):e("div",{staticClass:"inline-block h-2 w-2"})}),[],!1,null,null,null);e.a=i.exports},337:function(t,e,r){"use strict";r.r(e);var n=r(11),s=r(17),i=r(28),a={props:{stack:{required:!0,type:Object},handler:{required:!0,type:Function}},components:{Colour:i.a}},c=r(0),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"rounded-xl border border-gray-400 p-4 pb-3"},[t.stack.total()?r("div",t._l(t.stack,(function(e){return r("div",{staticClass:"group flex items-center bg-gray-300 hover:bg-gray-100 overflow-auto rounded-lg text-base mb-1 cursor-pointer",on:{click:function(r){return t.handler(e)}}},[t.$slots.left?r("div",{staticClass:"pl-4"},[r("icon",{staticClass:"group-hover:text-gray-500",attrs:{size:5}},[t._t("left")],2)],1):t._e(),t._v(" "),r("div",{staticClass:"pl-4"},[e.stats.resource?r("colour",{staticClass:"mr-2",attrs:{resource:e.stats.resource}}):t._e()],1),t._v(" "),r("div",{staticClass:"px-2 py-1"},[t._v(t._s(e.name)+" ("+t._s(e.total)+")")]),t._v(" "),t.$slots.right?r("div",{staticClass:"px-4 ml-auto"},[r("icon",{staticClass:"group-hover:text-gray-500",attrs:{size:5}},[t._t("right")],2)],1):t._e()])})),0):r("div",{staticClass:"text-base pb-1"},[t._v("\n        There are no cards in this stack.\n    ")])])}),[],!1,null,"66692862",null).exports,o={props:{tester:{type:r(43).a,required:!0}},components:{Colour:i.a,DeckPreparer:u},data:function(){return{mainDeck:null,deckTotal:0,sideboard:null}},methods:{move:function(t,e){var r=this;return function(n){r.tester.move(n,t,e),r.refresh()}},refresh:function(){this.mainDeck=new s.a(n.a.sortBy(this.tester.mainDeck.all(),(function(t){return t.name}))),this.sideboard=new s.a(n.a.sortBy(this.tester.sideboard.all(),(function(t){return t.name}))),this.deckTotal=this.mainDeck.total()}},created:function(){this.refresh()}},l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex"},[r("div",{staticClass:"w-1/3 mx-4"},[r("h2",{staticClass:"uppercase font-serif text-xl mb-2"},[t._v("Deck "),r("span",{staticClass:"text-gray-400 ml-1"},[t._v("(")]),r("span",{class:{"text-red-500":t.deckTotal<60}},[t._v(t._s(t.deckTotal))]),r("span",{staticClass:"text-gray-400"},[t._v(")")])]),t._v(" "),r("deck-preparer",{attrs:{stack:t.mainDeck,handler:t.move(t.tester.mainDeck,t.tester.sideboard)},scopedSlots:t._u([{key:"right",fn:function(){return[r("path",{attrs:{d:"M10 7H2v6h8v5l8-8-8-8v5z"}})]},proxy:!0}])})],1),t._v(" "),r("div",{staticClass:"w-1/3 mx-4"},[r("h2",{staticClass:"uppercase font-serif text-xl mb-2"},[t._v("Sideboard "),r("span",{staticClass:"text-gray-400 ml-1"},[t._v("(")]),t._v(t._s(t.tester.sideboard.total())),r("span",{staticClass:"text-gray-400"},[t._v(")")])]),t._v(" "),r("deck-preparer",{attrs:{stack:t.sideboard,handler:t.move(t.tester.sideboard,t.tester.mainDeck)},scopedSlots:t._u([{key:"left",fn:function(){return[r("path",{attrs:{d:"M10 13h8V7h-8V2l-8 8 8 8v-5z"}})]},proxy:!0}])})],1),t._v(" "),r("div",{staticClass:"w-1/5 mx-4"},[r("card-image",{attrs:{card:t.tester.hero}}),t._v(" "),r("router-link",{staticClass:"flex w-full mt-4 py-3 px-4 rounded-lg button-primary items-center",attrs:{to:{name:"decks.test.play",params:{deck:t.tester.slug}}}},[r("span",[t._v("Ready (Test!)")]),t._v(" "),r("icon",{staticClass:"ml-auto",attrs:{size:5}},[r("path",{attrs:{d:"M10 7H2v6h8v5l8-8-8-8v5z"}})])],1)],1)])}),[],!1,null,null,null);e.default=l.exports},43:function(t,e,r){"use strict";r(11);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.deck=e,this.mainDeck=e.cards.other(),this.sideboard=e.sideboard.other(),this.hero=e.hero,this.slug=e.slug}var e,r,s;return e=t,(r=[{key:"move",value:function(t,e,r){r.add(t),e.remove(t)}},{key:"hydrate",value:function(){this.mainDeck=this.mainDeck.hydrate(),this.sideboardStack=this.sideboard.hydrate()}}])&&n(e.prototype,r),s&&n(e,s),t}();e.a=s}}]);
//# sourceMappingURL=decks.test.prepare.min.js.map?id=e23a8da2943ff770dcda