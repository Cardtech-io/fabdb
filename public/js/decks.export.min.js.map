{"version":3,"sources":["webpack:///./resources/js/DeckBuilder/ExportDeck.vue?c8d8","webpack:///resources/js/DeckBuilder/ExportDeck.vue","webpack:///./resources/js/DeckBuilder/ExportDeck.vue?d152","webpack:///./resources/js/DeckBuilder/ExportDeck.vue","webpack:///./resources/js/DeckBuilder/Viewable.js","webpack:///./resources/js/Components/LazyLoader.js"],"names":["component","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","crumbs","_s","hero","name","deck","_e","exportRequested","on","$event","preventDefault","requestExport","apply","arguments","directives","rawName","value","expression","domProps","target","composing","gemId","event","_q","format","computed","attacksPerHand","totalAttacks","totalOther","toFixed","averageAttack","_","reduce","attacks","total","card","stats","attack","averageBlock","blocks","defense","totalBlocks","averageCost","totalCost","other","cost","isNaN","averagePitch","totalPitch","resource","cards","filter","type","keywords","includes","weapons","equipment","sortBy","totalClass","countCards","totalGeneric","totalCards","count","totalActions","totalCardType","totalAttackActions","totalAttackReactions","totalDefenseReactions","totalInstants","totalColoured","countColoured","methods","costCount","colour","resources","blue","yellow","red","i","pitchCount","averageCardType","length","matches","loadData","loaderCallback","loadRoute","to","from","next","callback","beforeRouteEnter","beforeRouteUpdate","created","watch"],"mappings":"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","file":"js/decks.export.min.js?id=b18d96b3298c63ddaa34","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header-title',{attrs:{\"title\":\"Export deck\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bg-red-900 text-white font-serif uppercase\"},[_c('div',{staticClass:\"container sm:mx-auto p-4 flex\"},[_c('div',{staticClass:\"flex-1\"},[_c('crumbs',{attrs:{\"crumbs\":_vm.crumbs}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"bg-gray-200\"},[_c('div',{staticClass:\"container sm:mx-auto bg-white py-8 px-8\"},[_c('div',{staticClass:\"container sm:mx-auto border-b border-gray-400 mb-8\"},[(_vm.hero)?_c('h1',{staticClass:\"inline-block font-serif text-4xl\"},[_vm._v(_vm._s(_vm.hero.name)+\" (\"+_vm._s(_vm.deck.name)+\")\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"md:flex\"},[_c('div',{staticClass:\"md:w-2/3 md:pr-8\"},[(!_vm.exportRequested)?_c('div',[_c('p',{staticClass:\"mb-4 p-4 bg-blue-500 rounded-lg text-white\"},[_vm._v(\"\\n                            The information collected below is not saved, but is required for your PDF as part of\\n                            the tournament pack export. We will email you your export once it's been generated.\\n                        \")]),_vm._v(\" \"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.requestExport.apply(null, arguments)}}},[_c('div',{staticClass:\"w-full mt-4\"},[_c('label',{staticClass:\"block font-serif uppercase tracking-wide mb-1\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"w-full mt-4\"},[_c('label',{staticClass:\"block font-serif uppercase tracking-wide mb-1\"},[_vm._v(\"GEM player ID\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gemId),expression:\"gemId\"}],staticClass:\"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.gemId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.gemId=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"w-full mt-4\"},[_c('label',{staticClass:\"block font-serif uppercase tracking-wide mb-1\"},[_vm._v(\"Event\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.event),expression:\"event\"}],staticClass:\"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.event)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.event=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"w-full mt-4\"},[_c('label',{staticClass:\"block font-serif uppercase tracking-wide mb-1\"},[_vm._v(\"Export format\")]),_vm._v(\" \"),_c('label',{staticClass:\"block\",attrs:{\"fpr\":\"pdf-export\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],staticClass:\"focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"radio\",\"name\":\"format\",\"value\":\"pdf\",\"id\":\"pdf-export\"},domProps:{\"checked\":_vm._q(_vm.format,\"pdf\")},on:{\"change\":function($event){_vm.format=\"pdf\"}}}),_vm._v(\" \"),_c('span',{staticClass:\"ml-4\"},[_vm._v(\"PDF\")])]),_vm._v(\" \"),_c('label',{staticClass:\"block mt-2\",attrs:{\"for\":\"zip-export\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],staticClass:\"focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"radio\",\"name\":\"format\",\"value\":\"zip\",\"id\":\"zip-export\"},domProps:{\"checked\":_vm._q(_vm.format,\"zip\")},on:{\"change\":function($event){_vm.format=\"zip\"}}}),_vm._v(\" \"),_c('span',{staticClass:\"ml-4\"},[_vm._v(\"ZIP\")])])]),_vm._v(\" \"),_c('submit',{staticClass:\"mt-8\",attrs:{\"text\":\"Export\"}})],1)]):_c('div',[_c('p',[_vm._v(\"Your deck export has been requested, and shall arrived at your email inbox in a few moments.\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"hidden md:block md:w-1/3\"},[_c('card-image',{attrs:{\"card\":_vm.hero}})],1)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <header-title title=\"Export deck\"></header-title>\n\n        <div class=\"bg-red-900 text-white font-serif uppercase\">\n            <div class=\"container sm:mx-auto p-4 flex\">\n                <div class=\"flex-1\">\n                    <crumbs :crumbs=\"crumbs\"></crumbs>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"bg-gray-200\">\n            <div class=\"container sm:mx-auto bg-white py-8 px-8\">\n                <div class=\"container sm:mx-auto border-b border-gray-400 mb-8\">\n                    <h1 class=\"inline-block font-serif text-4xl\" v-if=\"hero\">{{ hero.name }} ({{ deck.name }})</h1>\n                </div>\n\n                <div class=\"md:flex\">\n                    <div class=\"md:w-2/3 md:pr-8\">\n                        <div v-if=\"!exportRequested\">\n                            <p class=\"mb-4 p-4 bg-blue-500 rounded-lg text-white\">\n                                The information collected below is not saved, but is required for your PDF as part of\n                                the tournament pack export. We will email you your export once it's been generated.\n                            </p>\n\n                            <form @submit.prevent=\"requestExport\">\n                                <div class=\"w-full mt-4\">\n                                    <label class=\"block font-serif uppercase tracking-wide mb-1\">Name</label>\n                                    <input type=\"text\" v-model=\"name\" class=\"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg\">\n                                </div>\n                                <div class=\"w-full mt-4\">\n                                    <label class=\"block font-serif uppercase tracking-wide mb-1\">GEM player ID</label>\n                                    <input type=\"text\" v-model=\"gemId\" class=\"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg\">\n                                </div>\n                                <div class=\"w-full mt-4\">\n                                    <label class=\"block font-serif uppercase tracking-wide mb-1\">Event</label>\n                                    <input type=\"text\" v-model=\"event\" class=\"input focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg\">\n                                </div>\n                                <div class=\"w-full mt-4\">\n                                    <label class=\"block font-serif uppercase tracking-wide mb-1\">Export format</label>\n                                    <label fpr=\"pdf-export\" class=\"block\">\n                                        <input type=\"radio\" name=\"format\" v-model=\"format\" value=\"pdf\" class=\"focus:bg-white focus:border-gray-500\" id=\"pdf-export\">\n                                        <span class=\"ml-4\">PDF</span>\n                                    </label>\n                                    <label for=\"zip-export\" class=\"block mt-2\">\n                                        <input type=\"radio\" name=\"format\" v-model=\"format\" value=\"zip\" class=\"focus:bg-white focus:border-gray-500\" id=\"zip-export\">\n                                        <span class=\"ml-4\">ZIP</span>\n                                    </label>\n                                </div>\n\n                                <submit text=\"Export\" class=\"mt-8\"></submit>\n                            </form>\n                        </div>\n                        <div v-else>\n                            <p>Your deck export has been requested, and shall arrived at your email inbox in a few moments.</p>\n                        </div>\n                    </div>\n\n                    <div class=\"hidden md:block md:w-1/3\">\n                        <card-image :card=\"hero\"></card-image>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import { mapGetters, mapActions } from 'vuex';\n\n    import Cardable from '../CardDatabase/Cardable.js';\n    import CardImage from '../CardDatabase/CardImage.vue';\n    import Crumbs from '../Components/Crumbs.vue';\n    import HeaderTitle from '../Components/HeaderTitle.vue';\n    import LazyLoader from '../Components/LazyLoader';\n    import Submit from \"../Components/Form/Submit\";\n    import Viewable from './Viewable';\n\n    export default {\n        components: {\n            CardImage,\n            Crumbs,\n            HeaderTitle,\n            Submit,\n        },\n\n        mixins: [ Cardable, Viewable ],\n\n        computed: {\n            ...mapGetters('session', ['user']),\n\n            name: {\n                get() {\n                    return this.user.name;\n                },\n\n                set(name) {\n                    this.setUserParam({ param: 'name', value: name });\n                }\n            },\n\n            gemId: {\n                get() {\n                    return this.user.gemId;\n                },\n\n                set(gemId) {\n                    this.setUserParam({ param: 'gemId', value: gemId });\n                }\n            },\n\n            cards: function() {\n                return this.deck.cards;\n            },\n\n            crumbs: function() {\n                return [\n                    { text: 'Home', link: '/' },\n                    { text: 'Deck Builder', link: '/decks/build/' + this.deck.slug },\n                    { text: 'Export deck' },\n                ]\n            },\n         },\n\n        data() {\n            return {\n                deck: null,\n                event: null,\n                exportRequested: false,\n                format: 'pdf',\n            }\n        },\n\n        methods: {\n            ...mapActions('session', ['setUserParam']),\n\n            requestExport: function() {\n                const payload = {\n                    name: this.name,\n                    gemId: this.gemId,\n                    event: this.event\n                };\n\n                axios.post('/export/' + this.deck.slug + '.' + this.format, payload).then(response => {\n                    this.exportRequested = true;\n                });\n            }\n        },\n\n        metaInfo() {\n            return {\n                title: 'Deck builder - Export deck'\n            }\n        },\n\n        extends: LazyLoader((to, callback) => {\n            axios.get('/decks/' + to.params.deck).then(response => {\n                callback(function() {\n                    this.deck = response.data;\n                })\n            });\n        })\n    };\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportDeck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportDeck.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportDeck.vue?vue&type=template&id=2a5d6e9d&\"\nimport script from \"./ExportDeck.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportDeck.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _ from 'underscore';\n\nexport default {\n    computed: {\n        attacksPerHand() {\n            return (this.totalAttacks / (this.totalOther / 4)).toFixed(1);\n        },\n\n        averageAttack() {\n            return (_.reduce(this.attacks, (total, card) => { return total + (card.stats.attack * card.total); }, 0) / this.totalAttacks).toFixed(1);\n        },\n\n        averageBlock() {\n            return (_.reduce(this.blocks, (total, card) => { return total + card.stats.defense * card.total; }, 0) / this.totalBlocks).toFixed(1);\n        },\n\n        averageCost() {\n            const totalCost = this.other.reduce((total, card) => {\n                if (card.stats.cost && !isNaN(card.stats.cost)) {\n                    return total + card.stats.cost * card.total;\n                }\n\n                return total;\n            }, 0);\n\n            return (this.totalOther ? (totalCost / this.totalOther) : 0).toFixed(2);\n        },\n\n        averagePitch() {\n            const totalPitch = this.other.reduce((total, card) => {\n                if (card.stats.resource) {\n                    return total + (card.stats.resource * card.total);\n                }\n\n                return total + 0;\n            }, 0);\n\n            return (this.totalOther ? (totalPitch / this.totalOther) : 0).toFixed(2)\n        },\n\n        hero() {\n            if (!this.cards) {\n                return;\n            }\n\n            return this.cards.filter(card => {\n                return card.type === 'hero';\n            })[0];\n        },\n\n        attacks() {\n            return this.other.filter(card => {\n                return card.keywords.includes('attack') && !card.keywords.includes('reaction');\n            });\n        },\n\n        blocks() {\n            return this.other.filter(card => {\n                return card.stats.defense && card.stats.defense > 0;\n            });\n        },\n\n        weapons() {\n            return this.cards.filter(card => {\n                return card.keywords.includes('weapon');\n            });\n        },\n\n        equipment() {\n            return this.cards.filter(card => {\n                return card.keywords.includes('equipment');\n            });\n        },\n\n        other() {\n            const cards = this.cards.filter(card => {\n                return !(card.keywords.includes('hero') || card.keywords.includes('equipment') || card.keywords.includes('weapon'));\n            });\n\n            // Sort by pitch\n            return _.sortBy(cards, card => { return card.stats.resource });\n        },\n\n        totalOther() {\n            return this.other.reduce((total, card) => {\n                return total + card.total;\n            }, 0);\n        },\n\n        totalAttacks() {\n            return this.attacks.reduce((total, card) => { return total + card.total }, 0);\n        },\n\n        totalBlocks() {\n            return this.blocks.reduce((total, card) => { return total + card.total }, 0);\n        },\n\n        totalClass() {\n            return this.countCards(this.other.filter(card => {\n                return !card.keywords.includes('generic');\n            }));\n        },\n\n        totalGeneric() {\n            return this.countCards(this.other.filter(card => {\n                return card.keywords.includes('generic');\n            }));\n        },\n\n        totalCards() {\n            let count = this.other.filter(card => {\n                return !card.keywords.includes('token');\n            }).reduce((total, card) => {\n                return total + card.total;\n            }, 0);\n\n            if (this.deck && this.deck.format === 'blitz') {\n                if (this.hero) {\n                    count++;\n                }\n            }\n\n            return count +\n                this.equipment.reduce((total, card) => { return total + card.total; }, 0) +\n                this.weapons.reduce((total, card) => { return total + card.total; }, 0);\n        },\n\n        totalActions() {\n            return this.totalCardType(this.other, ['action']);\n        },\n\n        totalAttackActions() {\n            return this.totalCardType(this.other, ['action', 'attack']);\n        },\n\n        totalAttackReactions() {\n            return this.totalCardType(this.other, ['attack', 'reaction']);\n        },\n\n        totalDefenseReactions() {\n            return this.totalCardType(this.other, ['defense', 'reaction']);\n        },\n\n        totalInstants() {\n            return this.totalCardType(this.other, ['instant']);\n        },\n\n        totalColoured() {\n            return {\n                'blue': this.countColoured('blue'),\n                'yellow': this.countColoured('yellow'),\n                'red': this.countColoured('red')\n            }\n        }\n    },\n\n    methods: {\n        costCount(cost) {\n            const cards = this.other.filter(card => {\n                if (cost < 3) {\n                    return card.stats.cost == cost;\n                }\n\n                return card.stats.cost >= cost;\n            });\n\n            return cards.reduce((total, card) => {\n                return total + card.total;\n            }, 0);\n        },\n\n        countColoured(colour) {\n            const resources = {blue: 3, yellow: 2, red: 1};\n            const cards = this.other.filter(card => { return card.stats.resource == resources[colour]});\n\n            var count = 0;\n\n            for (var i in cards) {\n                count += cards[i].total;\n            }\n\n            return count;\n        },\n\n        pitchCount(type) {\n            const cards = this.other.filter(card => {\n                return card.stats.resource == type;\n            });\n\n            return cards.reduce((total, card) => {\n                return total + card.total;\n            }, 0);\n        },\n\n        averageCardType(cards, keywords) {\n            return (this.totalCardType(cards, keywords) / cards.length).toFixed(1);\n        },\n\n        totalCardType(cards, keywords) {\n            return cards.reduce((total, card) => {\n                let matches = 0;\n\n                for (let i = 0; i < keywords.length; i++) {\n                    if (card.keywords.includes(keywords[i])) {\n                        matches++;\n                    }\n                }\n\n                if (matches < keywords.length) {\n                    return total;\n                }\n\n                return total + card.total;\n            }, 0);\n        },\n\n        countCards(cards) {\n            return _.reduce(cards, (total, card) => { return total + card.total; }, 0);\n        }\n    }\n};\n","export default (loadData) => {\n    let loaderCallback = () => {};\n\n    const loadRoute = (to, from, next) => {\n        loadData(to, (callback) => {\n            loaderCallback = callback;\n            next();\n        })\n    };\n\n    return {\n        beforeRouteEnter: loadRoute,\n        beforeRouteUpdate: loadRoute,\n        created: function() {\n            loaderCallback.apply(this)\n        },\n        watch: {\n            '$route': function() {\n                loaderCallback.apply(this)\n            }\n        }\n    }\n};\n"],"sourceRoot":""}