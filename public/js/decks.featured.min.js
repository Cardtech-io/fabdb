(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{18:function(t,e,s){"use strict";e.a={hydrateMany:function(t,e){var s=this;return t.map((function(t){return s.hydrate(t,e)}))},hydrate:function(t,e){return new e(t)},hydratePaginated:function(t,e){return t.data=this.hydrateMany(t.data,e),t}}},20:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var n=s(15);function r(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=e}var e,s,a;return e=t,(s=[{key:"applyFilters",value:function(e){var s=this;return new t(this.cards.filter((function(t){return!!(e.indexOf("actions")>-1&&s.isAction(t)||e.indexOf("attacks")>-1&&s.isAttack(t)||e.indexOf("attackReactions")>-1&&s.isAttackReaction(t)||e.indexOf("instants")>-1&&s.isInstant(t)||e.indexOf("defenseReactions")>-1&&s.isDefenseReaction(t))})))}},{key:"isAction",value:function(t){return t.keywords.includes("action")&&!t.keywords.includes("attack")}},{key:"isAttack",value:function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}},{key:"isAttackReaction",value:function(t){return t.keywords.includes("attack")&&t.keywords.includes("reaction")}},{key:"isDefenseReaction",value:function(t){return t.keywords.includes("defense")&&t.keywords.includes("reaction")}},{key:"isInstant",value:function(t){return t.keywords.includes("instant")}},{key:"hero",value:function(){return this.cards.filter((function(t){return t.keywords.includes("hero")}))[0]}},{key:"miscellaneous",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("resource")})))}},{key:"attackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttack(t)})))}},{key:"nonAttackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAction(t)})))}},{key:"attackReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttackReaction(t)})))}},{key:"defenseReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isDefenseReaction(t)})))}},{key:"weapons",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("weapon")})))}},{key:"equipment",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("equipment")})))}},{key:"items",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("item")})))}},{key:"instants",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isInstant(t)})))}},{key:"colouredCount",value:function(t){var e={blue:3,yellow:2,red:1};return this.filter((function(s){return s.stats.resource&&s.stats.resource==e[t]})).total()}},{key:"other",value:function(){var e=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return new t(n.a.sortBy(e,(function(t){return t.stats.resource})))}},{key:"withCost",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.cost)}))}},{key:"withResource",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.resource)}))}},{key:"sort",value:function(){return new t(n.a.sortBy(this.cards,(function(t){var e=t.stats?t.stats.resource:"";return t.name+e})))}},{key:"filter",value:function(e){return new t(this.cards.filter(e))}},{key:"find",value:function(t){return this.cards.filter((function(e){return e.identifier===t.identifier}))[0]}},{key:"findKey",value:function(t){for(var e in this.cards)if(this.cards[e].identifier===t.identifier)return e}},{key:"hydrate",value:function(){return new t(this.cards.reduce((function(t,e){for(var s=0;s<e.total;s++)t.push(e);return t}),[]))}},{key:"total",value:function(){return this.cards.reduce((function(t,e){return t+e.total}),0)}},{key:"count",value:function(){return this.cards.length}},{key:"add",value:function(t){var e=this.find(t);e?e.total+=1:(t.total=1,this.cards.push(t))}},{key:"group",value:function(e){var s="string"==typeof e?function(t){return t[e]}:e;return new t(Object.values(n.a.groupBy(this.cards,s)))}},{key:"concat",value:function(e){return e=e instanceof t?e.all():e,new t(this.cards.concat(e))}},{key:"remove",value:function(t){var e=this.find(t);if(e.total>1)e.total-=1;else{var s=this.findKey(t);s&&this.cards.splice(s,1)}}},{key:"all",value:function(){return this.cards}},{key:Symbol.iterator,value:function(){return this.cards.values()}}])&&r(e.prototype,s),a&&r(e,a),t}()},23:function(t,e,s){"use strict";var n=s(20);function r(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,s,a;return e=t,(s=[{key:"name",get:function(){return this.fields.name}},{key:"authorName",get:function(){return this.fields.user.name||"Anonymous"}},{key:"user",get:function(){return this.fields.user}},{key:"label",get:function(){return this.fields.label||""}},{key:"notes",get:function(){return this.fields.notes}},{key:"cards",get:function(){return new n.a(this.fields.cards)}},{key:"hero",get:function(){return this.cards.hero()}},{key:"weapons",get:function(){return this.cards.weapons()}},{key:"equipment",get:function(){return this.cards.equipment()}},{key:"other",get:function(){return this.cards.other()}},{key:"format",get:function(){return this.fields.format}},{key:"totalCards",get:function(){return this.fields.totalCards||0}},{key:"slug",get:function(){return this.fields.slug}}])&&r(e.prototype,s),a&&r(e,a),t}();e.a=a},28:function(t,e,s){"use strict";var n={mixins:[s(11).a],props:{hero:{type:Object,required:!0},name:{type:String},width:{default:100}}},r=s(0),a=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"rounded-full",attrs:{src:this.heroProfile(this.hero,this.width),alt:this.name}})}),[],!1,null,null,null);e.a=a.exports},30:function(t,e,s){"use strict";var n={props:{label:{type:String,required:!0}},methods:{labelColours:function(){switch(this.label){case"janky":return"bg-yellow-500 text-black";case"casual":return"bg-blue-300 text-black";case"competitive":return"bg-gray-800 text-white";case"meme":return"bg-pink-600 text-white"}},name:function(){return this.$settings.game.decks.labels[this.label]}}},r=s(0),a=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return this.label?e("span",{staticClass:"font-serif uppercase",class:this.labelColours()},[this._v(this._s(this.name()))]):this._e()}),[],!1,null,null,null);e.a=a.exports},316:function(t,e,s){"use strict";s.r(e);var n=s(4),r=s.n(n),a=s(18),i=s(23),l=s(30),u={props:{format:{required:!0,type:String},size:{default:5,type:Number}},methods:{classes:function(){return"h-"+this.size+" w-"+this.size}}},c=s(0),o=Object(c.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{class:this.classes(),attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("title",[this._v(this._s(this.format))]),this._v(" "),"blitz"===this.format?e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"}}):e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"}})])}),[],!1,null,null,null).exports,d={components:{DeckLabel:l.a,FormatIcon:o},data:function(){return{deck:null,featured:null}},mounted:function(){var t=this;r.a.get("/decks/featured").then((function(e){t.deck=a.a.hydrate(e.data,i.a),t.featured={excerpt:e.data.excerpt,title:e.data.title}}))}},f=Object(c.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.deck?s("section",{staticClass:"sm:flex sm:items-start"},[s("card-image",{staticClass:"w-full sm:w-auto sm:m-0",attrs:{card:t.deck.hero}}),t._v(" "),s("div",{staticClass:"p-4"},[s("div",{staticClass:"flex items-center"},[s("h1",{staticClass:"block font-serif text-lg uppercase text-gray-300 mb-2"},[t._v("Deck of the week")]),t._v(" "),s("deck-label",{staticClass:"text-xs px-2 py-1 -mt-1 ml-4 rounded-full",attrs:{label:t.deck.label}})],1),t._v(" "),s("div",{staticClass:"flex items-center font-serif text-4xl uppercase text-white"},[s("h2",[t._v('"'+t._s(t.deck.name)+'"')]),t._v(" "),s("format-icon",{staticClass:"inline-block relative ml-2",attrs:{format:t.deck.format,size:8}})],1),t._v(" "),s("p",{staticClass:"text-white"},[s("span",{staticClass:"text-gray-400"},[t._v("by")]),t._v(" "),s("router-link",{staticClass:"link",attrs:{to:{name:"user.profile.decks",params:{user:t.deck.user.slug}}}},[t._v(t._s(t.deck.authorName))])],1),t._v(" "),s("p",{staticClass:"mt-4 mb-6 text-white"},[t._v(t._s(t.featured.excerpt))]),t._v(" "),s("router-link",{staticClass:"inline-block button-secondary py-2 px-3 rounded-lg",attrs:{to:{name:"decks.view",params:{deck:t.deck.slug}}}},[s("svg",{staticClass:"inline-block h-5 w-5 mr-1",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[s("path",{attrs:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"}})]),t._v("\n            View deck\n        ")])],1)],1):t._e()}),[],!1,null,null,null).exports,h=s(28),v={props:{color:{type:String},title:{required:!0,type:String},query:{type:String}},components:{DeckLabel:l.a,HeroAvatar:h.a},data:function(){return{decks:[]}},methods:{buttonColors:function(){var t=this.color.split("-"),e=Number(t.pop());return t.join("-")+"-"+(e+200)+" hover:"+(t.join("-")+"-"+(e+100))},queryParams:function(){return Object.fromEntries(new URLSearchParams(this.query).entries())}},mounted:function(){var t=this;r.a.get("/decks/latest?per_page=3&"+this.query).then((function(e){t.decks=a.a.hydrateMany(e.data.data,i.a)}))}},k={components:{DeckOfTheWeek:f,LatestDecks:Object(c.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.decks?s("section",{staticClass:"rounded-lg overflow-hidden"},[s("header",{staticClass:"flex items-center py-2 px-4  text-white",class:t.color},[s("h2",{staticClass:"font-serif text-xl uppercase"},[t._v(t._s(t.title))]),t._v(" "),s("router-link",{staticClass:"block flex items-center ml-auto rounded py-1 px-2 text-base",class:t.buttonColors(),attrs:{to:{name:"decks.browse",query:t.queryParams()}}},[t._v("\n            See more\n            "),s("icon",{staticClass:"inline-block",attrs:{size:5}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"}})])],1)],1),t._v(" "),s("div",{staticClass:"bg-gray-300 rounded-b-lg"},t._l(t.decks,(function(e){return s("router-link",{key:e.slug,staticClass:"flex items-center hover:bg-gray-200 px-4 py-2",attrs:{to:{name:"decks.view",params:{deck:e.slug}}}},[s("hero-avatar",{attrs:{hero:e.hero,width:"90"}}),t._v(" "),s("div",{staticClass:"ml-2"},[s("h3",{staticClass:"font-serif text-lg uppercase"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"text-base"},[t._v("by "+t._s(e.authorName))]),t._v(" "),s("deck-label",{staticClass:"mr-2 text-xs px-2 sm:py-1 rounded-full",attrs:{label:e.label}})],1),t._v(" "),s("div",{staticClass:"flex-none font-serif text-center ml-auto"},[s("div",{staticClass:"text-4xl"},[t._v(t._s(e.totalCards))]),t._v(" "),s("div",{staticClass:"text-gray-400 text-base ml-1"},[t._v("cards")])])],1)})),1)]):t._e()}),[],!1,null,null,null).exports},data:function(){return{}}},y=Object(c.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container mx-auto p-4 md:py-8"},[e("div",{staticClass:"lg:flex"},[e("div",{staticClass:"lg:w-2/3 bg-nearly-black rounded-lg sm:pr-4 mb-8"},[e("deck-of-the-week")],1),this._v(" "),e("div",{staticClass:"lg:w-1/3 lg:ml-4 mb-8"},[e("latest-decks",{attrs:{title:"Latest decks",color:"bg-yellow-500"}})],1)]),this._v(" "),e("div",{staticClass:"bg-semi-black p-4 rounded-lg"},[e("h3",{staticClass:"font-serif text-2xl uppercase text-white mb-2"},[this._v("Explore...")]),this._v(" "),e("div",{staticClass:"lg:flex"},[e("div",{staticClass:"w-full lg:w-1/3 lg:mr-4 mb-4 "},[e("latest-decks",{attrs:{title:"Competitive",color:"bg-gray-800",query:"label=competitive"}})],1),this._v(" "),e("div",{staticClass:"w-full lg:w-1/3 mb-4"},[e("latest-decks",{attrs:{title:"Casual",color:"bg-blue-300",query:"label=casual"}})],1),this._v(" "),e("div",{staticClass:"w-full lg:w-1/3 lg:ml-4"},[e("latest-decks",{attrs:{title:"Meme",color:"bg-pink-600",query:"label=meme"}})],1)])])])}),[],!1,null,null,null);e.default=y.exports}}]);
//# sourceMappingURL=decks.featured.min.js.map?id=4e526ef4d48fbc008687