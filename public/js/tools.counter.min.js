(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"1E07":function(e,t,s){"use strict";var r=s("9gIH"),i=s("dpPY"),n={mixins:[r.a],props:{hero:{type:i.a,required:!0},name:{type:String},width:{default:100}}},a=s("KHd+"),l=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hero?s("img",{staticClass:"rounded-full",attrs:{src:e.heroProfile(e.hero,e.width),alt:e.name,width:e.width,height:e.width}}):e._e()}),[],!1,null,null,null);t.a=l.exports},A9Xm:function(e,t,s){"use strict";t.a={track:function(e,t,s,r){"undefined"!=typeof ga&&gtag("event",t,{event_category:e,event_label:s,value:r})}}},HPc3:function(e,t,s){"use strict";t.a={hydrateMany:function(e,t){var s=this;return e.map((function(e){return s.hydrate(e,t)}))},hydrate:function(e,t){return new t(e)},hydratePaginated:function(e,t){return e.data=this.hydrateMany(e.data,t),e}}},PSIp:function(e,t,s){(e.exports=s("I1BE")(!1)).push([e.i,"/* purgecss start ignore */\n.no-dtz[data-v-5112a446] {\n  touch-action: manipulation;\n}\n\n/* purgecss end ignore */\n",""])},"bZC/":function(e,t,s){"use strict";s.r(t);var r=s("dpPY"),i=s("bjdX"),n=s("wd/R"),a=s.n(n),l=s("1E07"),o=s("9gIH"),c={props:{player:{required:!0,type:Object},resource:{required:!0,type:Number}},computed:{resourceClass:function(){return this.resource>0&&this.resource<=this.player.resource?"shadow-highlight":"opacity-50"}},methods:{pitch:function(){this.player.resource=this.resource}}},u=s("KHd+"),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"flex flex-col text-center items-center my-1 focus-none mr-3",on:{click:function(t){return e.pitch()}}},[s("img",{staticClass:"rounded-full",class:e.resourceClass,attrs:{src:"/img/resource.png",width:"58"}}),e._v(" "),s("span",{staticClass:"font-serif font-bold mt-1 text-xl",class:e.player.resource===e.resource?"text-blue-500":"text-gray-300"},[e._v(e._s(e.resource))])])}),[],!1,null,null,null).exports,h={props:{player:{required:!0,type:Object},players:Number},mixins:[o.a],components:{HeroAvatar:l.a,Resource:f},data:function(){return{life:Number(this.player.life),lastSwipe:null}},computed:{lifeClass:function(){return this.life>this.player.maxLife?"text-green-400":0===this.life?"text-red-500":"text-white"}},methods:{heal:function(){this.life+=1},hurt:function(){this.life>0?this.life-=1:this.$emit("player-destroyed")},swipe:function(e){if(null!==this.lastSwipe){var t=e.changedTouches[0].clientY,s=this.lastSwipe.clientY;this.player.first?t<s-10?(this.heal(),this.lastSwipe=e.changedTouches[0]):t>s+10&&(this.hurt(),this.lastSwipe=e.changedTouches[0]):t>s+10?(this.heal(),this.lastSwipe=e.changedTouches[0]):t<s-10&&(this.hurt(),this.lastSwipe=e.changedTouches[0])}else this.lastSwipe=e.changedTouches[0]}},mounted:function(){var e=this;this.$eventHub.$on("life-counter.reset",(function(){e.life=Number(e.player.maxLife)}))}},p=Object(u.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"touch",rawName:"v-touch:moving",value:e.swipe,expression:"swipe",arg:"moving"}],staticClass:"flex-grow flex flex-col w-full "},[s("div",{staticClass:"flex mx-auto z-100 my-1",style:{backgroundImage:"url("+e.heroProfile(e.player.hero,160,!0)+")",backgroundRepeat:"no-repeat",backgroundPosition:"center 20px"}},[s("button",{staticClass:"text-white px-8 text-4xl",on:{click:function(t){return e.hurt()}}},[e._v("-")]),e._v(" "),s("h2",{staticClass:"font-serif uppercase text-12xl text-center",class:e.lifeClass,staticStyle:{"text-shadow":"2px 2px 3px #000000"}},[e._v(e._s(e.life))]),e._v(" "),s("button",{staticClass:"text-white px-8 text-4xl",on:{click:function(t){return e.heal()}}},[e._v("+")])]),e._v(" "),s("div",{staticClass:"flex justify-center px-4 pr-2 py-1"},[s("resource",{attrs:{resource:0,player:e.player}}),e._v(" "),s("resource",{attrs:{resource:1,player:e.player}}),e._v(" "),s("resource",{attrs:{resource:2,player:e.player}}),e._v(" "),s("resource",{attrs:{resource:3,player:e.player}})],1)])}),[],!1,null,null,null).exports,d=s("A9Xm"),y={components:{HeroSelector:i.a,Player:p},data:function(){return{players:[],requirePlayers:!0,timer:null}},computed:{firstPlayer:function(){return this.players[0]},secondPlayer:function(){return this.players[1]}},methods:{chooseHeroes:function(){this.players=[],this.requirePlayers=!0},logEvent:function(){this.timer&&this.timer.diff(a()(),"minutes")>=5&&(d.a.track("Game","Completed"),this.timer=null)},newPlayer:function(e){var t={maxLife:e.stats.life,life:e.stats.life,resource:0,first:!this.players.length,hero:new r.a(e)};this.players.push(t),2===this.players.length&&(this.requirePlayers=!1)},reset:function(){this.$eventHub.$emit("life-counter.reset"),this.timer=a()()},skip:function(){this.requirePlayers=!1}},watch:{requirePlayers:function(e){this.timer=e?null:a()()}}},m=(s("mN15"),Object(u.a)(y,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"no-dtz fixed top-0 right-0 bottom-0 left-0 flex flex-col overflow-y-scroll bg-semi-black"},[e.requirePlayers?s("div",{staticClass:"p-4"},[s("div",{staticClass:"flex"},[s("h1",{staticClass:"text-white font-serif uppercase text-2xl"},[e._v("Select Player "+e._s(e.players.length+1))]),e._v(" "),1===e.players.length?s("button",{staticClass:"button-primary ml-auto py-3 px-4 rounded",on:{click:function(t){return e.skip()}}},[e._v("Skip")]):e._e()]),e._v(" "),s("hero-selector",{staticClass:"text-gray-300 shadow-lg",on:{"hero-selected":e.newPlayer}})],1):s("div",{staticClass:"w-full flex flex-col h-full"},[s("div",{staticClass:"h-full flex flex-col items-center"},[2===e.players.length?s("player",{staticClass:"transform rotate-180",attrs:{player:e.secondPlayer,players:e.players.length},on:{"player-destroyed":e.logEvent}}):e._e(),e._v(" "),s("div",{staticClass:"flex items-center"},[s("button",{staticClass:"button-primary py-3 px-4 pb-2 font-serif uppercase rounded-l-lg",on:{click:function(t){return e.reset()}}},[e._v("Reset")]),e._v(" "),s("button",{staticClass:"button-primary py-3 px-4 pb-2 font-serif uppercase",on:{click:function(t){return e.chooseHeroes()}}},[e._v("Heroes")]),e._v(" "),s("router-link",{staticClass:"button-secondary py-3 px-4 pb-2 font-serif uppercase rounded-r-lg",attrs:{to:{name:"home"}}},[e._v("FaB DB")])],1),e._v(" "),s("player",{attrs:{player:e.firstPlayer,players:e.players.length},on:{"player-destroyed":e.logEvent}})],1)])])}),[],!1,null,"5112a446",null));t.default=m.exports},bjdX:function(e,t,s){"use strict";var r=s("vDqi"),i=s.n(r),n=s("1E07"),a=s("wrcC"),l=s("HPc3"),o=s("dpPY"),c={props:["deck"],components:{HeroAvatar:n.a},mixins:[a.a],data:function(){return{availableHeroes:[]}},computed:{heroes:function(){var e=this;return this.deck&&this.deck.practise?this.availableHeroes.filter((function(t){return console.log(t),t.young()&&t.sku.set.id===e.deck.practise.set.id})):this.availableHeroes}},methods:{selectHero:function(e){var t=e.fields;this.$emit("hero-selected",t,this.type(t)),this.$eventHub.$emit("hero-selected",t,this.type(t))},type:function(e){return-1!==e.keywords.indexOf("young")?"Blitz":"Constructed"}},mounted:function(){var e=this;i.a.get("/cards/heroes").then((function(t){e.availableHeroes=l.a.hydrateMany(t.data,o.a)}))}},u=s("KHd+"),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",{staticClass:"flex flex-wrap my-8"},e._l(e.heroes,(function(t){return s("li",{staticClass:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 mb-8"},[s("button",{staticClass:"block cursor-pointer mx-auto",on:{click:function(s){return s.preventDefault(),e.selectHero(t)}}},[s("hero-avatar",{attrs:{hero:t,name:t.name,width:150}}),e._v(" "),s("div",{staticClass:"flex -mt-5"},[s("div",{staticClass:"w-1/2 flex justify-end mr-2"},[s("span",{staticClass:"text-lg"},[e._v(e._s(t.stats.intellect))]),e._v(" "),s("img",{staticClass:"block h-10 ml-1 border-2 border-gray-200 rounded-full",attrs:{src:"/img/intellect.png"}})]),e._v(" "),s("div",{staticClass:"w-1/2 flex ml-2 "},[s("img",{staticClass:"block h-10 mr-1 border-2 border-gray-200 rounded-full",attrs:{src:"/img/life.png"}}),e._v(" "),s("span",{staticClass:"text-lg"},[e._v(e._s(t.stats.life))])])])],1),e._v(" "),s("div",{staticClass:"mt-4 text-center font-serif uppercase text-lg overflow-hidden",staticStyle:{"max-height":"20px"}},[e._v(e._s(t.name))]),e._v(" "),s("div",{staticClass:"mt-2 text-center"},[e._v(e._s(e.type(t)))])])})),0)}),[],!1,null,null,null);t.a=f.exports},dpPY:function(e,t,s){"use strict";function r(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fields=t}var t,s,i;return t=e,(s=[{key:"avatar",value:function(){var e=this.name.split(",")[0].toLowerCase().split(" ")[0];return this.young()?e+"-blitz":e}},{key:"young",value:function(){return"young"===this.fields.subType}},{key:"name",get:function(){return this.fields.name}},{key:"image",get:function(){return this.fields.image}},{key:"class",get:function(){return this.fields.class}},{key:"sku",get:function(){return this.fields.sku}},{key:"stats",get:function(){return this.fields.stats}},{key:"keywords",get:function(){return this.fields.keywords}},{key:"total",get:function(){return this.fields.total}}])&&r(t.prototype,s),i&&r(t,i),e}();t.a=i},"jPZ/":function(e,t,s){var r=s("PSIp");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(r,i);r.locals&&(e.exports=r.locals)},mN15:function(e,t,s){"use strict";var r=s("jPZ/");s.n(r).a}}]);