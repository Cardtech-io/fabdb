(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{16:function(e,t,r){"use strict";t.a={hydrateMany:function(e,t){var r=this;return e.map((function(e){return r.hydrate(e,t)}))},hydrate:function(e,t){return new t(e)},hydratePaginated:function(e,t){return e.data=this.hydrateMany(e.data,t),e}}},209:function(e,t,r){var s=r(294);"string"==typeof s&&(s=[[e.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(34)(s,i);s.locals&&(e.exports=s.locals)},29:function(e,t,r){"use strict";function s(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fields=t}var t,r,i;return t=e,(r=[{key:"avatar",value:function(){var e=this.name.split(",")[0].toLowerCase().split(" ")[0];return this.young()?e+"-blitz":e}},{key:"young",value:function(){return"young"===this.fields.subType}},{key:"name",get:function(){return this.fields.name}},{key:"image",get:function(){return this.fields.image}},{key:"class",get:function(){return this.fields.class}},{key:"stats",get:function(){return this.fields.stats}},{key:"keywords",get:function(){return this.fields.keywords}}])&&s(t.prototype,r),i&&s(t,i),e}();t.a=i},293:function(e,t,r){"use strict";var s=r(209);r.n(s).a},294:function(e,t,r){(e.exports=r(30)(!1)).push([e.i,".no-dtz[data-v-5112a446] {\n  touch-action: manipulation;\n}\n",""])},31:function(e,t,r){"use strict";var s=r(10),i=r(29),n={mixins:[s.a],props:{hero:{type:i.a,required:!0},name:{type:String},width:{default:100}}},a=r(0),l=Object(a.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.hero?r("img",{staticClass:"rounded-full",attrs:{src:e.heroProfile(e.hero,e.width),alt:e.name,width:e.width,height:e.width}}):e._e()}),[],!1,null,null,null);t.a=l.exports},330:function(e,t,r){"use strict";r.r(t);var s=r(29),i=r(36),n=r(1),a=r.n(n),l=r(31),o=r(10),c={props:{player:{required:!0,type:Object},resource:{required:!0,type:Number}},computed:{resourceClass:function(){return this.resource>0&&this.resource<=this.player.resource?"shadow-highlight":"opacity-50"}},methods:{pitch:function(){this.player.resource=this.resource}}},u=r(0),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"flex flex-col text-center items-center my-1 focus-none mr-3",on:{click:function(t){return e.pitch()}}},[r("img",{staticClass:"rounded-full",class:e.resourceClass,attrs:{src:"/img/resource.png",width:"58"}}),e._v(" "),r("span",{staticClass:"font-serif font-bold mt-1 text-xl",class:e.player.resource===e.resource?"text-blue-500":"text-gray-300"},[e._v(e._s(e.resource))])])}),[],!1,null,null,null).exports,p={props:{player:{required:!0,type:Object},players:Number},mixins:[o.a],components:{HeroAvatar:l.a,Resource:f},data:function(){return{life:Number(this.player.life),lastSwipe:null}},computed:{lifeClass:function(){return this.life>this.player.maxLife?"text-green-400":0===this.life?"text-red-500":"text-white"}},methods:{heal:function(){this.life+=1},hurt:function(){this.life>0?this.life-=1:this.$emit("player-destroyed")},swipe:function(e){if(null!==this.lastSwipe){var t=e.changedTouches[0].clientY,r=this.lastSwipe.clientY;this.player.first?t<r-10?(this.heal(),this.lastSwipe=e.changedTouches[0]):t>r+10&&(this.hurt(),this.lastSwipe=e.changedTouches[0]):t>r+10?(this.heal(),this.lastSwipe=e.changedTouches[0]):t<r-10&&(this.hurt(),this.lastSwipe=e.changedTouches[0])}else this.lastSwipe=e.changedTouches[0]}},mounted:function(){var e=this;this.$eventHub.$on("life-counter.reset",(function(){e.life=Number(e.player.maxLife)}))}},h=Object(u.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"touch",rawName:"v-touch:moving",value:e.swipe,expression:"swipe",arg:"moving"}],staticClass:"flex-grow flex flex-col w-full "},[r("div",{staticClass:"flex mx-auto z-100 my-1",style:{backgroundImage:"url("+e.heroProfile(e.player.hero,160,!0)+")",backgroundRepeat:"no-repeat",backgroundPosition:"center 20px"}},[r("button",{staticClass:"text-white px-8 text-4xl",on:{click:function(t){return e.hurt()}}},[e._v("-")]),e._v(" "),r("h2",{staticClass:"font-serif uppercase text-12xl text-center",class:e.lifeClass,staticStyle:{"text-shadow":"2px 2px 3px #000000"}},[e._v(e._s(e.life))]),e._v(" "),r("button",{staticClass:"text-white px-8 text-4xl",on:{click:function(t){return e.heal()}}},[e._v("+")])]),e._v(" "),r("div",{staticClass:"flex justify-center px-4 pr-2 py-1"},[r("resource",{attrs:{resource:0,player:e.player}}),e._v(" "),r("resource",{attrs:{resource:1,player:e.player}}),e._v(" "),r("resource",{attrs:{resource:2,player:e.player}}),e._v(" "),r("resource",{attrs:{resource:3,player:e.player}})],1)])}),[],!1,null,null,null).exports,d=r(46),m={components:{HeroSelector:i.a,Player:h},data:function(){return{players:[],requirePlayers:!0,timer:null}},computed:{firstPlayer:function(){return this.players[0]},secondPlayer:function(){return this.players[1]}},methods:{chooseHeroes:function(){this.players=[],this.requirePlayers=!0},logEvent:function(){this.timer&&this.timer.diff(a()(),"minutes")>=5&&(d.a.track("Game","Completed"),this.timer=null)},newPlayer:function(e){var t={maxLife:e.stats.life,life:e.stats.life,resource:0,first:!this.players.length,hero:new s.a(e)};this.players.push(t),2===this.players.length&&(this.requirePlayers=!1)},reset:function(){this.$eventHub.$emit("life-counter.reset"),this.timer=a()()},skip:function(){this.requirePlayers=!1}},watch:{requirePlayers:function(e){this.timer=e?null:a()()}}},y=(r(293),Object(u.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"no-dtz fixed top-0 right-0 bottom-0 left-0 flex flex-col overflow-y-scroll bg-semi-black"},[e.requirePlayers?r("div",{staticClass:"p-4"},[r("div",{staticClass:"flex"},[r("h1",{staticClass:"text-white font-serif uppercase text-2xl"},[e._v("Select Player "+e._s(e.players.length+1))]),e._v(" "),1===e.players.length?r("button",{staticClass:"button-primary ml-auto py-3 px-4 rounded",on:{click:function(t){return e.skip()}}},[e._v("Skip")]):e._e()]),e._v(" "),r("hero-selector",{staticClass:"text-gray-300 shadow-lg",on:{"hero-selected":e.newPlayer}})],1):r("div",{staticClass:"w-full flex flex-col h-full"},[r("div",{staticClass:"h-full flex flex-col items-center"},[2===e.players.length?r("player",{staticClass:"transform rotate-180",attrs:{player:e.secondPlayer,players:e.players.length},on:{"player-destroyed":e.logEvent}}):e._e(),e._v(" "),r("div",{staticClass:"flex items-center"},[r("button",{staticClass:"button-primary py-3 px-4 pb-2 font-serif uppercase rounded-l-lg",on:{click:function(t){return e.reset()}}},[e._v("Reset")]),e._v(" "),r("button",{staticClass:"button-primary py-3 px-4 pb-2 font-serif uppercase",on:{click:function(t){return e.chooseHeroes()}}},[e._v("Heroes")]),e._v(" "),r("router-link",{staticClass:"button-secondary py-3 px-4 pb-2 font-serif uppercase rounded-r-lg",attrs:{to:{name:"home"}}},[e._v("FaB DB")])],1),e._v(" "),r("player",{attrs:{player:e.firstPlayer,players:e.players.length},on:{"player-destroyed":e.logEvent}})],1)])])}),[],!1,null,"5112a446",null));t.default=y.exports},36:function(e,t,r){"use strict";var s=r(4),i=r.n(s),n=r(31),a=r(7),l=r(16),o=r(29),c={props:["deck"],components:{HeroAvatar:n.a},mixins:[a.a],data:function(){return{availableHeroes:[]}},computed:{heroes:function(){var e=this;return this.deck&&this.deck.practise?this.availableHeroes.filter((function(t){return t.young()&&t.sku.set.id===e.deck.practise.set.id})):this.availableHeroes}},methods:{selectHero:function(e){var t=e.fields;this.$emit("hero-selected",t,this.type(t)),this.$eventHub.$emit("hero-selected",t,this.type(t))},type:function(e){return-1!==e.keywords.indexOf("young")?"Blitz":"Constructed"}},mounted:function(){var e=this;i.a.get("/cards/heroes").then((function(t){e.availableHeroes=l.a.hydrateMany(t.data,o.a)}))}},u=r(0),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ol",{staticClass:"flex flex-wrap my-8"},e._l(e.heroes,(function(t){return r("li",{staticClass:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 mb-8"},[r("button",{staticClass:"block cursor-pointer mx-auto",on:{click:function(r){return r.preventDefault(),e.selectHero(t)}}},[r("hero-avatar",{attrs:{hero:t,name:t.name,width:150}}),e._v(" "),r("div",{staticClass:"flex -mt-5"},[r("div",{staticClass:"w-1/2 flex justify-end mr-2"},[r("span",{staticClass:"text-lg"},[e._v(e._s(t.stats.intellect))]),e._v(" "),r("img",{staticClass:"block h-10 ml-1 border-2 border-gray-200 rounded-full",attrs:{src:"/img/intellect.png"}})]),e._v(" "),r("div",{staticClass:"w-1/2 flex ml-2 "},[r("img",{staticClass:"block h-10 mr-1 border-2 border-gray-200 rounded-full",attrs:{src:"/img/life.png"}}),e._v(" "),r("span",{staticClass:"text-lg"},[e._v(e._s(t.stats.life))])])])],1),e._v(" "),r("div",{staticClass:"mt-4 text-center font-serif uppercase text-lg overflow-hidden",staticStyle:{"max-height":"20px"}},[e._v(e._s(t.name))]),e._v(" "),r("div",{staticClass:"mt-2 text-center"},[e._v(e._s(e.type(t)))])])})),0)}),[],!1,null,null,null);t.a=f.exports},46:function(e,t,r){"use strict";t.a={track:function(e,t,r,s){"undefined"!=typeof ga&&gtag("event",t,{event_category:e,event_label:r,value:s})}}},7:function(e,t,r){"use strict";r(204);var s=r(253),i=r.n(s),n={a:"link",h1:"text-4xl",h2:"text-2xl",h3:"text-xl",ol:"list-decimal ml-8",p:"my-4",ul:"list-disc ml-8"},a=Object.keys(n).map((function(e){return{type:"output",regex:new RegExp("<".concat(e,"(.*)>"),"g"),replace:"<".concat(e,' class="').concat(n[e],'" $1>')}})),l=(r(27),[]),o="left",c={left:"sm:float-left sm:m-4 sm:ml-0",right:"sm:float-right sm:m-4 sm:mr-0"},u=[{type:"lang",regex:/\^cards\((([A-Z]{3}[0-9]{3},?)+)\)/gi,replace:function(e,t){return l.push(t),"%CARDS"+(l.length-1)+"%"}},{type:"output",filter:function(e){for(var t=0;t<l.length;++t){var r=l[t].split(","),s=r.map((function(e){return'<card-ad identifier="'+e+'"></card-ad>'})),i="%CARDS"+t+"%",n="";if(1===r.length){var a="right"===o?"left":"right";n=c[a],o=a}else n="flex items-start justify-center";e=e.replace(new RegExp(i,"gi"),'<div class="'+n+'">'+s.join("\n")+"</div>")}return l=[],e}}],f=[],p=[{type:"lang",regex:/\^deck\(([A-Z]+)\)/gi,replace:function(e,t){return f.push(t),"%DECK"+(f.length-1)+"%"}},{type:"output",filter:function(e){for(var t=0;t<f.length;++t){var r="<p>%DECK"+t+"% *</p>",s='<div class="block sm:m-8 mt-0 sm:float-right border border-gray-400"><iframe src="'+(window.location.protocol+"//"+window.location.hostname+"/decks/embed/"+f[t])+'" width="350" height="1200" id="deck-'+t+'" sandbox="allow-same-origin allow-scripts" scrolling="yes"></iframe></div>';e=e.replace(new RegExp(r,"gi"),s)}return f=[],e}}];var h,d=new i.a.Converter({extensions:[u,p].concat((h=a,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(h)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[{type:"output",regex:/<blockquote>([^]+?)<\/blockquote>/gi,replace:'<blockquote class="relative py-2 px-8 pl-12 my-8 text-xl italic border border-l-4 quote rounded-lg z-0"><div class="stylistic-quote-mark text-gray-200" aria-hidden="true">&ldquo;</div><p>$1</p></blockquote>'}])}),m=function(e){return"<div>"+d.makeHtml(e)+"</div>"};t.a={methods:{kebabCase:function(e){return this.snakeCase(e,"-")},parseMarkdown:function(e){return m(e)},minimalMarkdown:function(e){return m(e)},prettyText:function(e){var t=this.prettified(e);return this.parseMarkdown(t)},prettified:function(e){var t=e.split("\n");return(t=t.map((function(e){for(var t=new RegExp(/\[([+-])?(([X0-9]{1})\s)?([a-z]+)\]/i);;){var r=t.exec(e);if(!r)return e;var s=r[1],i=r[3],n=r[4],a="";if("Pitch"===n&&(n="resource"),"Power"===n&&(n="attack"),n=n.toLowerCase(),s)a=s+i+'<img src="/img/'+n+'.png" class="inline-block h-5 align-middle">';else if(i)for(var l=0;l<i;l++)a+='<img src="/img/'+n+'.png" class="inline-block h-5">';else a+='<img src="/img/'+n+'.png" class="inline-block h-5">';e=e.replace(r[0],a,e)}}))).join("\n")},snakeCase:function(e,t){return t||(t="_"),e.toLowerCase().replace(/[^0-9a-z\s]+/g,"").replace(/\s+/g,t)},ucfirst:function(e){return e[0].toUpperCase()+e.slice(1)},imageDomain:function(){return window.settings.imageDomain},buildQuery:function(e){var t=encodeURIComponent;return Object.keys(e).map((function(r){return t(r)+"="+t(e[r])})).join("&")}}}}}]);
//# sourceMappingURL=tools.counter.min.js.map?id=6458c897d11d6d19fc67