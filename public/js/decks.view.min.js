(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{15:function(t,e,n){"use strict";e.a={hydrateMany:function(t,e){var n=this;return t.map((function(t){return n.hydrate(t,e)}))},hydrate:function(t,e){return new e(t)},hydratePaginated:function(t,e){return t.data=this.hydrateMany(t.data,e),t}}},19:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(16);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=e}var e,n,a;return e=t,(n=[{key:"applyFilters",value:function(e){var n=this;return new t(this.cards.filter((function(t){return!!(e.indexOf("actions")>-1&&n.isAction(t)||e.indexOf("attacks")>-1&&n.isAttack(t)||e.indexOf("attackReactions")>-1&&n.isAttackReaction(t)||e.indexOf("instants")>-1&&n.isInstant(t)||e.indexOf("defenseReactions")>-1&&n.isDefenseReaction(t))})))}},{key:"isAction",value:function(t){return t.keywords.includes("action")&&!t.keywords.includes("attack")}},{key:"isAttack",value:function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}},{key:"isAttackReaction",value:function(t){return t.keywords.includes("attack")&&t.keywords.includes("reaction")}},{key:"isDefenseReaction",value:function(t){return t.keywords.includes("defense")&&t.keywords.includes("reaction")}},{key:"isInstant",value:function(t){return t.keywords.includes("instant")}},{key:"hero",value:function(){return this.cards.filter((function(t){return"hero"===t.type}))[0]}},{key:"miscellaneous",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("resource")})))}},{key:"attackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttack(t)})))}},{key:"nonAttackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAction(t)})))}},{key:"attackReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttackReaction(t)})))}},{key:"defenseReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isDefenseReaction(t)})))}},{key:"weapons",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("weapon")})))}},{key:"equipment",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("equipment")})))}},{key:"items",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("item")})))}},{key:"instants",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isInstant(t)})))}},{key:"colouredCount",value:function(t){var e={blue:3,yellow:2,red:1};return this.filter((function(n){return n.stats.resource&&n.stats.resource==e[t]})).total()}},{key:"other",value:function(){var e=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return new t(r.a.sortBy(e,(function(t){return t.stats.resource})))}},{key:"withCost",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.cost)}))}},{key:"withResource",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.resource)}))}},{key:"sort",value:function(){return new t(r.a.sortBy(this.cards,(function(t){var e=t.stats?t.stats.resource:"";return t.name+e})))}},{key:"filter",value:function(e){return new t(this.cards.filter(e))}},{key:"reduce",value:function(t,e){return this.cards.reduce(t,e)}},{key:"find",value:function(t){return this.cards.filter((function(e){return e.identifier===t.identifier}))[0]}},{key:"findKey",value:function(t){for(var e in this.cards)if(this.cards[e].identifier===t.identifier)return e;return!1}},{key:"hydrate",value:function(){return new t(this.cards.reduce((function(t,e){for(var n=0;n<e.total;n++)t.push(e);return t}),[]))}},{key:"total",value:function(){return this.cards.reduce((function(t,e){return t+e.total}),0)}},{key:"count",value:function(){return this.cards.length}},{key:"add",value:function(t){var e=this.find(t);e?e.total+=1:((t=JSON.parse(JSON.stringify(t))).total=1,this.cards.push(t))}},{key:"group",value:function(e){var n="string"==typeof e?function(t){return t[e]}:e;return new t(Object.values(r.a.groupBy(this.cards,n)))}},{key:"concat",value:function(e){return e=e instanceof t?e.all():e,new t(this.cards.concat(e))}},{key:"remove",value:function(t){var e=this.find(t);if(e.total>1)e.total-=1;else{var n=this.findKey(t);!1!==n&&this.cards.splice(n,1)}}},{key:"all",value:function(){return this.cards}},{key:Symbol.iterator,value:function(){return this.cards.values()}}])&&s(e.prototype,n),a&&s(e,a),t}()},203:function(t,e,n){"use strict";var r=n(38),s={props:{card:{type:Object,required:!0},collapse:{type:Boolean,default:!1,required:!1},useRouter:{type:Boolean,default:!0}},components:{Colour:r.a},methods:{toggleCard:function(t){this.$eventHub.$emit("hover-card",t)},total:function(){return this.card.total-this.card.totalSideboard}}},a=n(0),i=Object(a.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.useRouter?n("router-link",{staticClass:"block flex items-center",attrs:{to:/cards/+t.card.identifier}},[t.card.stats.resource||!t.collapse?n("colour",{staticClass:"mr-2",attrs:{resource:t.card.stats.resource}}):t._e(),t._v(" "),n("span",{on:{mouseover:function(e){return t.toggleCard(t.card)},mouseleave:function(e){return t.toggleCard(!1)}}},[t._v(t._s(t.card.name))]),t._v(" "),t.total()?n("span",{staticClass:"ml-1"},[t._v("("+t._s(t.total())+")")]):t._e(),t._v(" "),t.card.totalSideboard?n("div",{staticClass:"flex items-center ml-auto",attrs:{title:t.card.totalSideboard+" in sideboard"}},[n("icon",{attrs:{size:4}},[n("path",{attrs:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule":"evenodd"}})]),t._v(" "),n("span",{staticClass:"ml-1"},[t._v("("+t._s(t.card.totalSideboard)+")")])],1):t._e()],1):n("a",{staticClass:"block flex items-center",attrs:{href:"/cards/"+t.card.identifier,target:"_blank"}},[t.card.stats.resource||!t.collapse?n("colour",{staticClass:"mr-2",attrs:{resource:t.card.stats.resource}}):t._e(),t._v(" "),n("span",{on:{mouseover:function(e){return t.toggleCard(t.card)},mouseleave:function(e){return t.toggleCard(!1)}}},[t._v(t._s(t.card.name))]),t._v(" "),t.total()?n("span",{staticClass:"ml-1"},[t._v("("+t._s(t.total())+")")]):t._e(),t._v(" "),t.card.totalSideboard?n("div",{staticClass:"flex items-center ml-auto",attrs:{title:t.card.totalSideboard+" in sideboard"}},[n("icon",{attrs:{size:4}},[n("path",{attrs:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z","clip-rule":"evenodd"}})]),t._v(" "),n("span",{staticClass:"ml-1"},[t._v("("+t._s(t.card.totalSideboard)+")")])],1):t._e()],1)}),[],!1,null,null,null);e.a=i.exports},206:function(t,e,n){"use strict";var r=n(4),s=n.n(r),a={props:{direction:{type:String,required:!0,validator:function(t){return-1!==["up","down"].indexOf(t)}},size:{type:Number,required:!0}},computed:{classes:function(){return["h-"+this.size]}},methods:{vote:function(){var t=this,e={type:this.$parent.voteable,foreign:this.$parent.foreign,direction:this.direction};s.a.post("/vote",e).then((function(n){t.$emit("voted",e)}))}}},i=n(0),o={components:{Vote:Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"text-gray-400 hover:text-gray-800",on:{click:function(e){return t.vote()}}},[n("svg",{staticClass:"fill-current",class:t.classes,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},["up"===t.direction?n("path",{attrs:{d:"M11 0h1v3l3 7v8a2 2 0 01-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 012-2h7V2a2 2 0 012-2zm6 10h3v10h-3V10z"}}):n("path",{attrs:{d:"M11 20a2 2 0 01-2-2v-6H2a2 2 0 01-2-2V8l2.3-6.12A3.11 3.11 0 015 0h8a2 2 0 012 2v8l-3 7v3h-1zm6-10V0h3v10h-3z"}})])])}),[],!1,null,null,null).exports},props:{layout:{type:String,validator:function(t){return-1!==["vertical","horizontal"].indexOf(t)}},size:{type:Number,required:!0},total:{type:Number,required:!0},voteable:{type:String,required:!0},foreign:{type:String,required:!0},voted:{type:Number,required:!0}},data:function(){return{count:this.total,voteState:this.voted,previousDirection:null}},computed:{actualTotal:function(){return this.count<0?0:this.count}},methods:{handleVote:function(t){var e="down"===t.direction?-1:1;this.voteState===e?this.voteState=0:this.voteState=e}}},c=Object(i.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{flex:"vertical"!==t.layout}},["vertical"!==t.layout?n("div",{staticClass:"text-xl mr-2 mt-1"},[t.total&&t.total>0?n("span",[t._v(t._s(t.actualTotal))]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"mt-1",class:{flex:"vertical"!==t.layout}},[n("div",[n("vote",{class:{"text-gray-800":1===t.voteState},attrs:{size:t.size,direction:"up"},on:{voted:t.handleVote}})],1),t._v(" "),"vertical"===t.layout?n("div",{staticClass:"text-center -mt-1"},[t.total&&t.total>0?n("span",[t._v(t._s(t.actualTotal))]):t._e()]):t._e()])])}),[],!1,null,null,null);e.a=c.exports},207:function(t,e,n){"use strict";var r=n(2),s=n(4),a=n.n(s);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={props:["type","foreign"],components:{Submit:n(20).a},computed:o({},Object(r.c)("session",["user"]),{name:{get:function(){return this.user.name},set:function(t){this.setUserParam({param:"name",value:t}),this.nameRequiresSaving=!0}}}),data:function(){return{content:null,nameRequiresSaving:!1,saving:!1}},methods:o({},Object(r.b)("session",["setUserParam"]),{},Object(r.b)("messages",["addMessage"]),{save:function(){var t=this;this.saving=!0,this.nameRequiresSaving&&a.a.put("/profile/name",{name:this.name}),a.a.post("/comments/",{type:this.type,foreign:this.foreign,content:this.content}).then((function(e){t.addMessage({status:"success",message:"Comment posted."}),t.saving=!1,t.content="",t.$emit("comment-posted",e.data)}))}})},u=n(0),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-4 sm:px-0"},[t.user?n("form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[!t.user.name||t.nameRequiresSaving?n("div",{staticClass:"w-full"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-white bg-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]):t._e(),t._v(" "),n("div",{staticClass:"w-full mt-1"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"input-white bg-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{type:"text",rows:"4",placeholder:"Type here to comment on this "+t.type+"."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),n("submit",{staticClass:"mt-2",attrs:{text:"Comment",disabled:t.saving}})],1):n("div",{staticClass:"text-center"},[t._v("\n        You must be "),n("router-link",{staticClass:"link",attrs:{to:"/login/?from="+t.$route.path}},[t._v("logged in")]),t._v(" to participate in discussions.\n    ")],1)])}),[],!1,null,null,null);e.a=d.exports},21:function(t,e,n){"use strict";var r=n(19),s=n(28);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){return i(this,e),c(this,l(e).apply(this,arguments))}var n,a,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(a=[{key:"avatar",get:function(){return this.fields.avatar}},{key:"name",get:function(){return this.fields.name}},{key:"parent",get:function(){if(this.fields.parent)return new e(this.fields.parent)}},{key:"authorName",get:function(){return this.fields.user.name||"Anonymous"}},{key:"user",get:function(){return this.fields.user}},{key:"label",get:function(){return this.fields.label||""}},{key:"notes",get:function(){return this.fields.notes}},{key:"cards",get:function(){return new r.a(this.fields.cards)}},{key:"hero",get:function(){return this.cards.hero()?new s.a(this.cards.hero()):null}},{key:"sideboard",get:function(){return new r.a(this.fields.sideboard)}},{key:"weapons",get:function(){return this.cards.weapons()}},{key:"equipment",get:function(){return this.cards.equipment()}},{key:"other",get:function(){return this.cards.other()}},{key:"format",get:function(){return this.fields.format}},{key:"totalCards",get:function(){return this.fields.totalCards||0}},{key:"totalSideboard",get:function(){return this.fields.totalSideboard||0}},{key:"totalMainDeck",get:function(){return this.totalCards-this.totalSideboard}},{key:"slug",get:function(){return this.fields.slug}},{key:"updatedAt",get:function(){return moment(this.fields.updatedAt).utc().local().fromNow()}}])&&o(n.prototype,a),d&&o(n,d),e}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}));e.a=d},25:function(t,e,n){"use strict";var r={mixins:[n(10).a],props:{user:{type:Object,required:!0},width:{type:Number,default:100}},computed:{avatar:function(){return this.user.avatar||"bauble"}}},s=n(0),a=Object(s.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"rounded-full",style:{width:this.width+"px"},attrs:{src:this.imageUrl("/heroes/"+this.avatar+".jpg",this.width),alt:this.user.name}})}),[],!1,null,null,null);e.a=a.exports},28:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,n,s;return e=t,(n=[{key:"avatar",value:function(){var t=this.name.split(",")[0].toLowerCase().split(" ")[0];return this.young()?t+"-blitz":t}},{key:"young",value:function(){return"young"===this.fields.subType}},{key:"name",get:function(){return this.fields.name}},{key:"image",get:function(){return this.fields.image}},{key:"class",get:function(){return this.fields.class}},{key:"stats",get:function(){return this.fields.stats}},{key:"keywords",get:function(){return this.fields.keywords}}])&&r(e.prototype,n),s&&r(e,s),t}();e.a=s},30:function(t,e,n){"use strict";var r=n(10),s=n(28),a={mixins:[r.a],props:{hero:{type:s.a,required:!0},name:{type:String},width:{default:100}}},i=n(0),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hero?n("img",{staticClass:"rounded-full",attrs:{src:t.heroProfile(t.hero,t.width),alt:t.name,width:t.width,height:t.width}}):t._e()}),[],!1,null,null,null);e.a=o.exports},31:function(t,e,n){"use strict";var r={props:{label:{type:String,required:!0}},methods:{labelColours:function(){switch(this.label){case"janky":return"bg-yellow-500 text-black";case"casual":return"bg-blue-300 text-black";case"competitive":return"bg-gray-800 text-white";case"meme":return"bg-pink-600 text-white"}},name:function(){return this.$settings.game.decks.labels[this.label]}}},s=n(0),a=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return this.label?e("span",{staticClass:"font-serif uppercase",class:this.labelColours()},[this._v(this._s(this.name()))]):this._e()}),[],!1,null,null,null);e.a=a.exports},336:function(t,e,n){"use strict";n.r(e);var r=n(4),s=n.n(r),a=n(2),i=n(13),o=n.n(i),c=n(17),l=n(5),u=n(48),d=n(31),f=n(43),p=n(6),m=n(30),h=n(10),v=n(12),y=n(8),g=n(207),b=n(46),k=n(206),w=n(15),_=n(21),C=n(7),x=n(19),O=n(203),j={props:{cards:{type:x.a,required:!0},heading:{type:String,required:!0}},components:{DeckCard:O.a}},S=n(0),q=Object(S.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"py-2 px-4 font-serif uppercase text-2xl"},[t._v(t._s(t.heading)+" ("+t._s(t.cards.total())+")")]),t._v(" "),n("ol",t._l(t.cards,(function(t){return n("li",{staticClass:"p-2 pl-4 odd:bg-gray-100"},[n("deck-card",{attrs:{card:t,collapse:!0}})],1)})),0)])}),[],!1,null,null,null).exports;function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(n,!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P={mixins:[l.a,h.a,C.a],components:{Breadcrumbs:c.a,Cards:q,DeckCurves:u.a,DeckLabel:d.a,Discussion:f.a,HeaderTitle:p.a,HeroAvatar:m.a,Icon:v.a,Respond:g.a,Rulings:b.a,Votes:k.a},computed:E({},Object(a.c)("session",["user"]),{cards:function(){return this.deck.cards||[]},crumbs:function(){return[{text:"Home",link:{name:"home"}},{text:"Decks",link:{name:"decks.browse"}},{text:this.deck.name}]},rulings:function(){var t=o.a.flatten(this.deck.cards.all().map((function(t){return o.a.flatten(t.rulings.map((function(t){return t.description})))})));return o.a.uniq(t)}}),data:function(){return{deck:null,tab:"composition"}},methods:E({},Object(a.b)("messages",["addMessage"]),{copyDeck:function(){var t=this;s.a.post("/decks/copy",{deck:this.deck.slug}).then((function(e){t.addMessage({status:"success",message:"Deck successfully copied."}),t.$router.push({name:"decks.build",params:{deck:e.data.deck}})}))},tabClasses:function(t){return this.tab===t?"relative bg-gray-200 -bottom-1px text-gray-800":"bg-gray-200 hover:bg-white text-gray-600"}}),metaInfo:function(){var t="View deck - "+this.deck.name,e=[];return e=this.deck.hero?[{vmid:"og:type",property:"og:type",content:"website"},{vmid:"og:title",property:"og:title",content:t+=" ("+this.deck.hero.name+")"},{vmid:"og:description",property:"og:description",content:"A custom "+this.deck.hero.keywords[0]+" deck built at fabdb.net, utilising the hero, '"+this.deck.hero.name+"'."},{vmid:"og:image",property:"og:image",content:this.heroProfile(this.deck.hero,300)},{vmid:"og:image:width",property:"og:image:width",content:"450"},{vmid:"og:image:height",property:"og:image:height",content:"628"}]:[{vmid:"og:type",property:"og:type",content:"website"},{vmid:"og:title",property:"og:title",content:t},{vmid:"og:description",property:"og:description",content:"A custom deck built at fabdb.net."}],{title:t,meta:e}},extends:Object(y.a)((function(t,e){s.a.get("/decks/"+t.params.deck).then((function(t){e((function(){this.deck=w.a.hydrate(t.data,_.a)}))}))}))},R=Object(S.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.deck&&t.deck.hero?n("div",[n("header-title",{attrs:{title:t.deck.name+" ("+t.deck.hero.name+")"}}),t._v(" "),n("breadcrumbs",{attrs:{crumbs:t.crumbs}}),t._v(" "),n("div",{staticClass:"bg-white"},[n("div",{staticClass:"container sm:mx-auto px-4 flex"},[n("div",{staticClass:"flex-1 font-serif uppercase py-4 md:px-0"},[t._v("\n                    "+t._s(t.deck.cards.total())+" Cards in deck  \n                    "),n("span",{staticClass:"hidden md:inline"},[t._v("\n                        (\n                        "),n("span",{staticClass:"inline-block rounded-lg h-2 w-2",class:t.resourceColour(3)}),t._v(" "+t._s(t.deck.cards.colouredCount("blue"))+"  \n                        "),n("span",{staticClass:"inline-block rounded-lg h-2 w-2",class:t.resourceColour(2)}),t._v(" "+t._s(t.deck.cards.colouredCount("yellow"))+"  \n                        "),n("span",{staticClass:"inline-block rounded-lg h-2 w-2",class:t.resourceColour(1)}),t._v(" "+t._s(t.deck.cards.colouredCount("red"))+"\n                        )\n                    ")])]),t._v(" "),n("div",{staticClass:"text-right mt-2"},[n("votes",{attrs:{size:6,total:t.deck.fields.totalVotes,voted:t.deck.fields.myVote,voteable:"deck",foreign:t.deck.slug}})],1)])]),t._v(" "),n("div",{staticClass:"bg-gray-200"},[n("div",{staticClass:"container sm:mx-auto px-4"},[n("div",{staticClass:"md:flex md:pt-0"},[n("div",{staticClass:"py-4 md:pr-4 md:w-1/4"},[n("card-image",{attrs:{card:t.deck.hero}}),t._v(" "),t.deck.label?n("deck-label",{staticClass:"block w-full py-2 text-center rounded-lg mt-4",attrs:{label:t.deck.label}}):t._e(),t._v(" "),n("div",{staticClass:"mt-4 rounded-lg bg-gray-100 overflow-hidden"},[n("h3",{staticClass:"font-serif uppercase text-2xl mb-2 bg-white p-2 px-4"},[t._v("Deck stats")]),t._v(" "),n("div",{staticClass:"px-4"},[n("ol",{staticClass:"mb-8"},[n("li",{staticClass:"block py-1 w-full"},[t._v("Attack actions: "+t._s(t.deck.other.attackActions().total()))]),t._v(" "),n("li",{staticClass:"block py-1 w-full"},[t._v("Attack reactions: "+t._s(t.deck.other.attackReactions().total()))]),t._v(" "),n("li",{staticClass:"block py-1 w-full"},[t._v("Defense reactions: "+t._s(t.deck.other.defenseReactions().total()))])]),t._v(" "),n("deck-curves",{staticClass:"mb-4",staticStyle:{height:"200px"},attrs:{cards:t.deck.other.withCost(),stat:"cost",strategy:"total"}}),t._v(" "),n("deck-curves",{staticStyle:{height:"200px"},attrs:{cards:t.deck.other.withResource(),stat:"resource",strategy:"total"}})],1)])],1),t._v(" "),n("div",{staticClass:"w-full md:w-3/4 md:py-4"},[n("ul",{staticClass:"flex border-b border-gray-400"},[n("li",{staticClass:"mr-2"},[n("button",{staticClass:"border border-b-0 border-gray-400 rounded-t-lg px-4 py-2",class:t.tabClasses("composition"),on:{click:function(e){t.tab="composition"}}},[t._v("Composition")])]),t._v(" "),n("li",{staticClass:"mr-2"},[n("button",{staticClass:"border border-b-0 border-gray-400 rounded-t-lg px-4 py-2",class:t.tabClasses("rulings"),on:{click:function(e){t.tab="rulings"}}},[t._v("Rulings")])]),t._v(" "),n("li",{staticClass:"mt-1 ml-4"},[n("a",{staticClass:"flex items-center w-full sm:w-auto button-primary rounded px-3 py-2 text-base",attrs:{href:t.buyLink(t.deck),target:"_blank"}},[n("icon",{attrs:{size:4}},[n("path",{attrs:{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"}})]),t._v(" "),t._m(0)],1)]),t._v(" "),n("li",{staticClass:"ml-2 mt-1"},[n("button",{staticClass:"sm:flex items-center w-full hidden sm:w-auto button-primary rounded px-3 py-2 text-base",on:{click:t.copyDeck}},[n("icon",{attrs:{size:4}},[n("path",{attrs:{d:"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 012 2v10a2 2 0 01-2 2h-4v4a2 2 0 01-2 2H2a2 2 0 01-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 012 2v4h4V2H8v4zM2 8v10h10V8H2z"}})]),t._v(" "),t._m(1)],1)])]),t._v(" "),"composition"===t.tab?n("div",{staticClass:"bg-gray-200 py-4"},[t.deck.notes?n("div",{staticClass:"md:flex"},[n("div",{staticClass:"w-full md:w-2/3 md:pl-4 md:pr-8"},[n("div",{staticClass:"mb-8",domProps:{innerHTML:t._s(t.minimalMarkdown(t.deck.notes.replace(/(?:https?|ftp):\/\/[\n\S]+/g,"")))}}),t._v(" "),n("div",{staticClass:"border-t border-gray-400 mt-4"},[n("discussion",{staticClass:"pb-8",attrs:{type:"deck",id:t.deck.slug}})],1)]),t._v(" "),n("div",{staticClass:"w-full md:w-1/3"},[t.deck.weapons.total()?n("cards",{staticClass:"mb-8",attrs:{cards:t.deck.weapons,heading:"Weapons"}}):t._e(),t._v(" "),t.deck.equipment.total()?n("cards",{staticClass:"mb-8",attrs:{cards:t.deck.equipment,heading:"Equipment"}}):t._e(),t._v(" "),t.deck.other.total()?n("cards",{attrs:{cards:t.deck.other,heading:"Other"}}):t._e()],1)]):n("div",{staticClass:"md:flex"},[n("div",{staticClass:"w-full md:w-1/3",class:{"pr-4":!t.deck.notes}},[t.deck.weapons.total()?n("cards",{staticClass:"mb-8",attrs:{cards:t.deck.weapons,heading:"Weapons"}}):t._e(),t._v(" "),t.deck.equipment.total()?n("cards",{staticClass:"mb-8",attrs:{cards:t.deck.equipment,heading:"Equipment"}}):t._e()],1),t._v(" "),n("div",{staticClass:"w-full md:w-1/3"},[t.deck.other.total()?n("cards",{attrs:{cards:t.deck.other,heading:"Other"}}):t._e()],1)])]):t._e(),t._v(" "),"rulings"==t.tab?n("div",{staticClass:"md:pl-4 bg-gray-200 py-2"},[n("rulings",{attrs:{rulings:t.rulings}})],1):t._e()])]),t._v(" "),t.deck.notes?t._e():n("div",{staticClass:"border-t border-gray-400 mt-4"},[n("discussion",{staticClass:"pb-8",attrs:{type:"deck",id:t.deck.slug}})],1)])])],1):n("div",[n("header-title",{attrs:{title:t.deck.name}}),t._v(" "),n("breadcrumbs",{attrs:{crumbs:t.crumbs}}),t._v(" "),t._m(2)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"ml-1"},[this._v("Buy "),e("span",{staticClass:"hidden sm:inline"},[this._v("deck")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"ml-1"},[this._v("Copy "),e("span",{staticClass:"hidden sm:inline"},[this._v("deck")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-gray-200"},[e("div",{staticClass:"container sm:mx-auto py-8 px-4"},[this._v("\n                This deck is not yet ready for viewing or sharing, possibly because it's missing some required configuration.\n            ")])])}],!1,null,null,null);e.default=R.exports},38:function(t,e,n){"use strict";var r={props:["resource"],mixins:[n(5).a]},s=n(0),a=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return this.resource?e("div",{staticClass:"inline-block rounded-lg h-2 w-2",class:this.resourceColour(this.resource)}):e("div",{staticClass:"inline-block h-2 w-2"})}),[],!1,null,null,null);e.a=a.exports},41:function(t,e,n){"use strict";var r={mixins:[n(5).a],props:{subscriptionLevel:{type:String,required:!0},size:String},computed:{classes:function(){var t={};return t[{supporter:"bg-blue-400",majestic:"bg-yellow-500",legendary:"bg-black",trial:"bg-gray-400",promo:"bg-orange-600",fabled:"bg-green-400"}[this.subscriptionLevel]]=!0,"small"===this.size?(t["px-3"]=!0,t["py-1"]=!0,t["text-xs"]=!0):(t["px-4"]=!0,t["py-2"]=!0),t}}},s=n(0),a=Object(s.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"inline-block rounded-full text-white uppercase font-serif",class:this.classes},[this._v(this._s(this.ucfirst(this.subscriptionLevel)))])}),[],!1,null,null,null);e.a=a.exports},43:function(t,e,n){"use strict";var r=n(4),s=n.n(r),a={props:["comments"]},i=n(0),o=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("h2",{staticClass:"font-serif uppercase text-lg mt-4"},[this._v(this._s(this.comments?this.comments.length:0)+" comments.")])}),[],!1,null,null,null).exports,c=n(1),l=n.n(c);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,n,r;return e=t,(n=[{key:"author",get:function(){return this.fields.user}},{key:"name",get:function(){return this.fields.user.name||"Anonymous"}},{key:"slug",get:function(){return this.fields.slug}},{key:"when",get:function(){return l.a.utc(this.fields.createdAt).local().fromNow()}},{key:"content",get:function(){return this.fields.content}},{key:"subscription",get:function(){return this.fields.user.subscription}},{key:"myVote",get:function(){return this.fields.myVote||0}},{key:"totalVotes",get:function(){return this.fields.totalVotes||0}}])&&u(e.prototype,n),r&&u(e,r),t}(),f=n(25),p=n(41),m=n(206),h={props:["comment"],components:{Avatar:f.a,Badge:p.a,Votes:m.a}},v=Object(i.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-4 sm:mx-0"},[n("div",{staticClass:"flex mb-4"},[n("div",{staticClass:"mr-4"},[n("avatar",{staticClass:"rounded-br-none",attrs:{user:t.comment.author,width:80}})],1),t._v(" "),n("div",{staticClass:"mr-4"},[n("votes",{attrs:{size:4,total:t.comment.totalVotes,voted:t.comment.myVote,voteable:"comment",foreign:t.comment.slug,layout:"vertical"}})],1),t._v(" "),n("div",{staticClass:"flex-1"},[n("header",{staticClass:"flex w-full"},[n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"mr-4 font-bold"},[t._v(t._s(t.comment.name))]),t._v(" "),t.comment.subscription?n("badge",{attrs:{"subscription-level":t.comment.subscription,size:"small"}}):t._e()],1),t._v(" "),n("div",{staticClass:"text-gray-500 text-sm text-right"},[t._v(t._s(t.comment.createdAt))])]),t._v(" "),n("div",{staticClass:"mt-2"},[t._v(t._s(t.comment.content))])])]),t._v(" "),n("hr",{staticClass:"text-gray-500"})])}),[],!1,null,null,null).exports,y=n(15),g=n(207),b={props:{type:{type:String,required:!0},id:{type:String,required:!0}},components:{Comment:v,CommentCount:o,Respond:g.a},data:function(){return{comments:[]}},methods:{addComment:function(t){this.comments.push(new d(t))}},mounted:function(){var t=this;s.a.get("/comments/"+this.type+"/"+this.id).then((function(e){t.comments=y.a.hydrateMany(e.data,d)}))}},k=Object(i.a)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("comment-count",{attrs:{comments:t.comments}}),t._v(" "),t.comments.length?n("div",t._l(t.comments,(function(t){return n("comment",{key:t.slug,attrs:{comment:t}})})),1):t._e(),t._v(" "),n("respond",{staticClass:"mt-8",attrs:{type:t.type,foreign:t.id},on:{"comment-posted":t.addComment}})],1)}),[],!1,null,null,null);e.a=k.exports},46:function(t,e,n){"use strict";var r={mixins:[n(7).a],props:["rulings"]},s=n(0),a=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("ul",t._l(t.rulings,(function(e){return n("li",{staticClass:"border-b border-gray-400 last:border-0 pr-4 sm:pr-2 text-base sm:-pl-4",domProps:{innerHTML:t._s(t.minimalMarkdown(e))}})})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"border-b border-gray-500"},[e("div",{staticClass:"flex-1 py-2 uppercase font-serif"},[this._v("\n            Rulings, Clarifications, Erratas.etc.\n        ")])])}],!1,null,null,null);e.a=a.exports},48:function(t,e,n){"use strict";var r=n(224),s=n(13),a=n.n(s);e.a={extends:r.a,props:{cards:{required:!0,type:Object},stat:{required:!0,type:String},strategy:{required:!0,type:String,validator:function(t){return-1!==["total","length"].indexOf(t)}}},methods:{colours:function(t){if("resource"===this.stat)return["239,68,68","251,191,37","96,165,250"];for(var e=[],n=0;n<t.length;n++){var r=180-n/t.length*180,s=n/t.length*255;e.push([s+", "+r+", 30"])}return e},update:function(t){var e=this,n=this.values(t),r="resource"===this.stat?"Pitch":"Cost",s=this.colours(a.a.keys(n)),i={labels:a.a.keys(n).map((function(t){return"resource"===e.stat?"Pitch "+t:"Cost "+t})),datasets:[{label:r,backgroundColor:s.map((function(t){return"rgba("+t+", 0.6)"})),borderColor:s.map((function(t){return"rgba("+t+", 1)"})),borderWidth:1,data:a.a.values(n)}]};this.renderChart(i,{legend:{display:!0,position:"bottom"},responsive:!0,maintainAspectRatio:!1,fill:!1,scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{ticks:{stepSize:10,suggestedMin:0}}]}})},values:function(t){var e=this;return a()(t.all()).groupBy((function(t){return t.stats[e.stat]||0})).mapValues((function(t){return"total"===e.strategy?t.reduce((function(t,e){return t+e.total}),0):t.length})).value()}},watch:{cards:function(t){this.update(t)}},mounted:function(){this.update(this.cards)}}},7:function(t,e,n){"use strict";n(205);var r=n(253),s=n.n(r),a={a:"link",h1:"text-4xl",h2:"text-2xl",h3:"text-xl",ol:"list-decimal ml-8",p:"my-4",ul:"list-disc ml-8"},i=Object.keys(a).map((function(t){return{type:"output",regex:new RegExp("<".concat(t,"(.*)>"),"g"),replace:"<".concat(t,' class="').concat(a[t],'" $1>')}})),o=(n(26),[]),c="left",l={left:"sm:float-left sm:m-4 sm:ml-0",right:"sm:float-right sm:m-4 sm:mr-0"},u=[{type:"lang",regex:/\^cards\((([A-Z]{3}[0-9]{3},?)+)\)/gi,replace:function(t,e){return o.push(e),"%CARDS"+(o.length-1)+"%"}},{type:"output",filter:function(t){for(var e=0;e<o.length;++e){var n=o[e].split(","),r=n.map((function(t){return'<card-ad identifier="'+t+'"></card-ad>'})),s="%CARDS"+e+"%",a="";if(1===n.length){var i="right"===c?"left":"right";a=l[i],c=i}else a="flex items-start justify-center";t=t.replace(new RegExp(s,"gi"),'<div class="'+a+'">'+r.join("\n")+"</div>")}return o=[],t}}],d=[],f=[{type:"lang",regex:/\^deck\(([A-Z]+)\)/gi,replace:function(t,e){return d.push(e),"%DECK"+(d.length-1)+"%"}},{type:"output",filter:function(t){for(var e=0;e<d.length;++e){var n="<p>%DECK"+e+"% *</p>",r='<div class="block sm:m-8 mt-0 sm:float-right border border-gray-400"><iframe src="'+(window.location.protocol+"//"+window.location.hostname+"/decks/embed/"+d[e])+'" width="350" height="1200" id="deck-'+e+'" sandbox="allow-same-origin allow-scripts" scrolling="yes"></iframe></div>';t=t.replace(new RegExp(n,"gi"),r)}return d=[],t}}];var p,m=new s.a.Converter({extensions:[u,f].concat((p=i,function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(p)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[{type:"output",regex:/<blockquote>([^]+?)<\/blockquote>/gi,replace:'<blockquote class="relative py-2 px-8 pl-12 my-8 text-xl italic border border-l-4 quote rounded-lg z-0"><div class="stylistic-quote-mark text-gray-200" aria-hidden="true">&ldquo;</div><p>$1</p></blockquote>'}])}),h=function(t){return"<div>"+m.makeHtml(t)+"</div>"};e.a={methods:{kebabCase:function(t){return this.snakeCase(t,"-")},parseMarkdown:function(t){return h(t)},minimalMarkdown:function(t){return h(t)},prettyText:function(t){var e=this.prettified(t);return this.parseMarkdown(e)},prettified:function(t){var e=t.split("\n");return(e=e.map((function(t){for(var e=new RegExp(/\[([+-])?(([X0-9]{1})\s)?([a-z]+)\]/i);;){var n=e.exec(t);if(!n)return t;var r=n[1],s=n[3],a=n[4],i="";if("Pitch"===a&&(a="resource"),"Power"===a&&(a="attack"),a=a.toLowerCase(),r)i=r+s+'<img src="/img/'+a+'.png" class="inline-block h-5 align-middle">';else if(s)for(var o=0;o<s;o++)i+='<img src="/img/'+a+'.png" class="inline-block h-5">';else i+='<img src="/img/'+a+'.png" class="inline-block h-5">';t=t.replace(n[0],i,t)}}))).join("\n")},snakeCase:function(t,e){return e||(e="_"),t.toLowerCase().replace(/[^0-9a-z\s]+/g,"").replace(/\s+/g,e)},ucfirst:function(t){return t[0].toUpperCase()+t.slice(1)},imageDomain:function(){return window.settings.imageDomain},buildQuery:function(t){var e=encodeURIComponent;return Object.keys(t).map((function(n){return e(n)+"="+e(t[n])})).join("&")}}}},8:function(t,e,n){"use strict";e.a=function(t){var e=function(){},n=function(n,r,s){t(n,(function(t){e=t,s()}))};return{beforeRouteEnter:n,beforeRouteUpdate:n,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}}}]);
//# sourceMappingURL=decks.view.min.js.map?id=4ce784ad0c23b2062432