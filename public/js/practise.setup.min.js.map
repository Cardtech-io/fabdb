{"version":3,"sources":["webpack:///./resources/js/Practise/Setup.vue?7bdf","webpack:///./resources/js/Practise/Setup.vue?63fd","webpack:///resources/js/Practise/Setup.vue","webpack:///./resources/js/Practise/Setup.vue","webpack:///./resources/js/Utilities/Markdown/Classes.js","webpack:///./resources/js/Utilities/Markdown/Cards.js","webpack:///./resources/js/Utilities/Markdown/Decks.js","webpack:///./resources/js/Utilities/Markdown/showdown.js","webpack:///./resources/js/Utilities/Markdown/Blockquote.js","webpack:///./resources/js/Utilities/Strings.js"],"names":["component","_vm","this","_h","$createElement","_c","_self","attrs","_v","crumbs","staticClass","_l","sets","set","on","$event","setup","id","imageUrl","kebabCase","name","classMap","a","h1","h2","h3","ol","p","ul","Object","keys","map","key","type","regex","RegExp","replace","matches","lastAlignment","alignmentClasses","left","right","s","match","push","length","filter","text","i","identifiers","split","cards","cardIdentifier","pat","classes","alignment","join","window","location","protocol","hostname","converter","showdown","Converter","extensions","Cards","Decks","Classes","string","makeHtml","methods","snakeCase","parseMarkdown","minimalMarkdown","prettyText","content","prettified","line","exec","modifier","amount","effect","toLowerCase","x","delimiter","ucfirst","toUpperCase","slice","imageDomain","settings","buildQuery","params","esc","encodeURIComponent","k"],"mappings":"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","file":"js/practise.setup.min.js?id=eccdedab6b4ec4c10010","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header-title',{attrs:{\"title\":\"Limited practise\"}}),_vm._v(\" \"),_c('breadcrumbs',{attrs:{\"crumbs\":_vm.crumbs}}),_vm._v(\" \"),_c('div',{staticClass:\"bg-gray-200\"},[_c('div',{staticClass:\"w-auto flex justify-center items-start py-8\"},_vm._l((_vm.sets()),function(set){return _c('div',{staticClass:\"booster mx-4 hover:bg-white p-4 rounded-lg\"},[_c('button',{staticClass:\"block link-alternate\",on:{\"click\":function($event){return _vm.setup(set.id)}}},[_c('img',{attrs:{\"src\":_vm.imageUrl('/boosters/'+_vm.kebabCase(set.name)+'.png', 180),\"alt\":set.name,\"title\":set.name}})])])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <header-title title=\"Limited practise\"></header-title>\n        <breadcrumbs :crumbs=\"crumbs\"></breadcrumbs>\n\n        <div class=\"bg-gray-200\">\n            <div class=\"w-auto flex justify-center items-start py-8\">\n                <div v-for=\"set in sets()\" class=\"booster mx-4 hover:bg-white p-4 rounded-lg\">\n                    <button class=\"block link-alternate\" @click=\"setup(set.id)\">\n                        <img :src=\"imageUrl('/boosters/'+kebabCase(set.name)+'.png', 180)\" :alt=\"set.name\" :title=\"set.name\">\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Imagery from \"../Utilities/Imagery\";\n    import Strings from \"../Utilities/Strings\";\n    import axios from \"axios\";\n\n    export default {\n        mixins: [Imagery, Strings],\n\n        data() {\n            return {\n                crumbs: [\n                    { text: 'Home', link: '/' },\n                    { text: 'Limited practise', link: '/practise' },\n                    { text: this.$route.query.format === 'sealed' ? 'Sealed deck run' : 'Team sealed run' }\n                ]\n            };\n        },\n\n        methods: {\n            sets() {\n                return _.sortBy(_.filter(this.$settings.game.sets,set => {\n                    return set.draftable;\n                }), set => {\n                    return set.released;\n                }).reverse();\n            },\n\n            setup(set) {\n                axios.post('practise', {format: this.$route.query.format, set}).then(response => {\n                    this.$router.push({name: 'practise.view', params: {practise: response.data.slug}});\n                });\n            }\n        }\n    }\n</script>\n","import { render, staticRenderFns } from \"./Setup.vue?vue&type=template&id=04e170ec&\"\nimport script from \"./Setup.vue?vue&type=script&lang=js&\"\nexport * from \"./Setup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const classMap = {\n    a: 'link',\n    h1: 'text-4xl',\n    h2: 'text-2xl',\n    h3: 'text-xl',\n    ol: 'list-decimal ml-8',\n    p: 'my-4',\n    ul: 'list-disc ml-8',\n};\n\nexport default Object.keys(classMap)\n    .map(key => ({\n        type: 'output',\n        regex: new RegExp(`<${key}(.*)>`, 'g'),\n        replace: `<${key} class=\"${classMap[key]}\" $1>`\n    }));\n","import Carding from '../Carding';\n\nlet matches = [];\nlet lastAlignment = 'left';\nlet alignmentClasses = {\n    left: 'sm:float-left sm:m-4 sm:ml-0',\n    right: 'sm:float-right sm:m-4 sm:mr-0',\n};\n\nexport default [\n    {\n        type: 'lang',\n        regex: /\\^cards\\((([A-Z]{3}[0-9]{3},?)+)\\)/gi,\n        replace: function(s, match) {\n            matches.push(match);\n            let n = matches.length - 1;\n            return '%CARDS' + n + '%';\n        }\n    },\n    {\n        type: 'output',\n        filter: function (text) {\n            for (let i = 0; i < matches.length; ++i) {\n                let identifiers = matches[i].split(',');\n                let cards = identifiers.map(cardIdentifier => {\n                    return '<card-ad identifier=\"' + cardIdentifier + '\"></card-ad>';\n                });\n\n                let pat = '%CARDS' + i + '%';\n                let classes = '';\n\n                // Here we are moving and positioning the card in the article.\n                if (identifiers.length === 1) {\n                    let alignment = lastAlignment === 'right' ? 'left' : 'right';\n                    classes = alignmentClasses[alignment];\n\n                    lastAlignment = alignment;\n                } else {\n                    classes = 'flex items-start justify-center';\n                }\n\n                text = text.replace(new RegExp(pat, 'gi'), '<div class=\"'+classes+'\">' + cards.join('\\n') + '</div>');\n            }\n\n            //reset array\n            matches = [];\n\n            return text;\n        }\n    }\n];\n","import Carding from '../Carding';\n\nlet matches = [];\n\nexport default [\n    {\n        type: 'lang',\n        regex: /\\^deck\\(([A-Z]+)\\)/gi,\n        replace: function(s, match) {\n            matches.push(match);\n            let n = matches.length - 1;\n            return '%DECK' + n + '%';\n        }\n    },\n    {\n        type: 'output',\n        filter: function (text) {\n            for (let i = 0; i < matches.length; ++i) {\n                let url = window.location.protocol+'//' + window.location.hostname + '/decks/embed/' + matches[i];\n                let pat = '<p>%DECK' + i + '% *<\\/p>';\n                let replace = '<div class=\"block sm:m-8 mt-0 sm:float-right border border-gray-400\">' +\n                    '<iframe src=\"'+url+'\" width=\"350\" height=\"1200\" id=\"deck-'+i+'\" sandbox=\"allow-same-origin allow-scripts\" scrolling=\"yes\"></iframe>' +\n                    '</div>';\n\n                text = text.replace(new RegExp(pat, 'gi'), replace);\n            }\n\n            //reset array\n            matches = [];\n\n            return text;\n        }\n    }\n];\n","import showdown from 'showdown';\nimport Classes from './Classes';\nimport Blockquote from \"./Blockquote\";\nimport Cards from \"./Cards\";\nimport Decks from \"./Decks\";\n\nlet converter = new showdown.Converter({extensions: [Cards, Decks, ...Classes, Blockquote]});\n\nexport default function(string) {\n    return '<div>'+converter.makeHtml(string)+'</div>';\n};\n","export default {\n    type: 'output',\n    regex: /<blockquote>([^]+?)<\\/blockquote>/gi,\n    replace: '<blockquote class=\"relative py-2 px-8 pl-12 my-8 text-xl italic border border-l-4 quote rounded-lg z-0\">' +\n        '<div class=\"stylistic-quote-mark text-gray-200\" aria-hidden=\"true\">&ldquo;</div>' +\n        '<p>$1</p>' +\n        '</blockquote>'\n};\n","import marked from 'marked';\nimport showdown from './Markdown/showdown';\n\nexport default {\n    methods: {\n        kebabCase(string) {\n            return this.snakeCase(string, '-');\n        },\n\n        parseMarkdown(string) {\n            return showdown(string);\n        },\n\n        minimalMarkdown(string) {\n            return showdown(string);\n        },\n\n        prettyText(text) {\n            function chunk(arr, len) {\n                var chunks = [],\n                    i = 0,\n                    n = arr.length;\n\n                while (i < n) {\n                    chunks.push(arr.slice(i, i += len));\n                }\n\n                return chunks;\n            }\n\n            let content = this.prettified(text);\n\n            return this.parseMarkdown(content);\n        },\n\n        prettified(text) {\n            let content = text.split('\\n');\n\n            content = content.map(function(line) {\n                let regex = new RegExp(/\\[([+-])?(([X0-9]{1})\\s)?([a-z]+)\\]/i);\n\n                while (true) {\n                    let matches = regex.exec(line);\n\n                    if (!matches) {\n                        return line;\n                    }\n\n                    let modifier = matches[1];\n                    let amount = matches[3];\n                    let effect = matches[4];\n                    let string = '';\n\n                    if (effect === 'Pitch') {\n                        effect = 'resource';\n                    }\n\n                    if (effect === 'Power') {\n                        effect = 'attack';\n                    }\n\n                    effect = effect.toLowerCase();\n\n                    if (modifier) {\n                        string = modifier + amount + '<img src=\"/img/' + effect + '.png\" class=\"inline-block h-5 align-middle\">';\n                    } else if (amount) {\n                        for (let x = 0; x < amount; x++) {\n                            string += '<img src=\"/img/' + effect + '.png\" class=\"inline-block h-5\">';\n                        }\n                    } else {\n                        string += '<img src=\"/img/' + effect + '.png\" class=\"inline-block h-5\">';\n                    }\n\n                    line = line.replace(matches[0], string, line);\n                }\n            });\n\n            return content.join('\\n');\n        },\n\n        snakeCase(string, delimiter) {\n            if (!delimiter) delimiter = '_';\n\n            return string.toLowerCase().replace(/[^0-9a-z\\s]+/g, '').replace(/\\s+/g, delimiter);\n        },\n\n        ucfirst(string) {\n            return string[0].toUpperCase() + string.slice(1);\n        },\n\n        imageDomain() {\n            return window.settings.imageDomain;\n        },\n\n        buildQuery(params) {\n            let esc = encodeURIComponent;\n\n            return Object.keys(params)\n                .map(k => esc(k) + '=' + esc(params[k]))\n                .join('&');\n        }\n    }\n};\n"],"sourceRoot":""}