(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{12:function(t,e,n){"use strict";var r=n(15);e.a={computed:{attacksPerHand:function(){return(this.totalAttacks/(this.totalOther/4)).toFixed(1)},averageAttack:function(){return(r.a.reduce(this.attacks,(function(t,e){return t+e.stats.attack*e.total}),0)/this.totalAttacks).toFixed(1)},averageBlock:function(){return(r.a.reduce(this.blocks,(function(t,e){return t+e.stats.defense*e.total}),0)/this.totalBlocks).toFixed(1)},averageCost:function(){var t=this.other.reduce((function(t,e){return e.stats.cost&&!isNaN(e.stats.cost)?t+e.stats.cost*e.total:t}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},averagePitch:function(){var t=this.other.reduce((function(t,e){return e.stats.resource?t+e.stats.resource*e.total:t+0}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},hero:function(){if(this.cards)return this.cards.filter((function(t){return t.keywords.includes("hero")}))[0]},attacks:function(){return this.other.filter((function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}))},blocks:function(){return this.other.filter((function(t){return t.stats.defense&&t.stats.defense>0}))},weapons:function(){return this.cards.filter((function(t){return t.keywords.includes("weapon")}))},equipment:function(){return this.cards.filter((function(t){return t.keywords.includes("equipment")}))},other:function(){var t=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return r.a.sortBy(t,(function(t){return t.stats.resource}))},totalOther:function(){return this.other.reduce((function(t,e){return t+e.total}),0)},totalAttacks:function(){return this.attacks.reduce((function(t,e){return t+e.total}),0)},totalBlocks:function(){return this.blocks.reduce((function(t,e){return t+e.total}),0)},totalClass:function(){return this.countCards(this.other.filter((function(t){return!t.keywords.includes("generic")})))},totalGeneric:function(){return this.countCards(this.other.filter((function(t){return t.keywords.includes("generic")})))},totalCards:function(){var t=this.other.filter((function(t){return!t.keywords.includes("token")})).reduce((function(t,e){return t+e.total}),0);return this.deck&&"blitz"===this.deck.format&&this.hero&&t++,t+this.equipment.reduce((function(t,e){return t+e.total}),0)+this.weapons.reduce((function(t,e){return t+e.total}),0)},totalActions:function(){return this.totalCardType(this.other,["action"])},totalAttackActions:function(){return this.totalCardType(this.other,["action","attack"])},totalAttackReactions:function(){return this.totalCardType(this.other,["attack","reaction"])},totalDefenseReactions:function(){return this.totalCardType(this.other,["defense","reaction"])},totalInstants:function(){return this.totalCardType(this.other,["instant"])},totalColoured:function(){return{blue:this.countColoured("blue"),yellow:this.countColoured("yellow"),red:this.countColoured("red")}}},methods:{costCount:function(t){return this.other.filter((function(e){return t<3?e.stats.cost==t:e.stats.cost>=t})).reduce((function(t,e){return t+e.total}),0)},countColoured:function(t){var e={blue:3,yellow:2,red:1},n=this.other.filter((function(n){return n.stats.resource==e[t]})),r=0;for(var s in n)r+=n[s].total;return r},pitchCount:function(t){return this.other.filter((function(e){return e.stats.resource==t})).reduce((function(t,e){return t+e.total}),0)},averageCardType:function(t,e){return(this.totalCardType(t,e)/t.length).toFixed(1)},totalCardType:function(t,e){return t.reduce((function(t,n){for(var r=0,s=0;s<e.length;s++)n.keywords.includes(e[s])&&r++;return r<e.length?t:t+n.total}),0)},countCards:function(t){return r.a.reduce(t,(function(t,e){return t+e.total}),0)}}}},16:function(t,e,n){"use strict";e.a={hydrateMany:function(t,e){var n=this;return t.map((function(t){return n.hydrate(t,e)}))},hydrate:function(t,e){return new e(t)},hydratePaginated:function(t,e){return t.data=this.hydrateMany(t.data,e),t}}},20:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(15);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=e}var e,n,i;return e=t,(n=[{key:"applyFilters",value:function(e){var n=this;return new t(this.cards.filter((function(t){return!!(e.indexOf("actions")>-1&&n.isAction(t)||e.indexOf("attacks")>-1&&n.isAttack(t)||e.indexOf("attackReactions")>-1&&n.isAttackReaction(t)||e.indexOf("instants")>-1&&n.isInstant(t)||e.indexOf("defenseReactions")>-1&&n.isDefenseReaction(t))})))}},{key:"isAction",value:function(t){return t.keywords.includes("action")&&!t.keywords.includes("attack")}},{key:"isAttack",value:function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}},{key:"isAttackReaction",value:function(t){return t.keywords.includes("attack")&&t.keywords.includes("reaction")}},{key:"isDefenseReaction",value:function(t){return t.keywords.includes("defense")&&t.keywords.includes("reaction")}},{key:"isInstant",value:function(t){return t.keywords.includes("instant")}},{key:"hero",value:function(){return this.cards.filter((function(t){return"hero"===t.type}))[0]}},{key:"miscellaneous",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("resource")})))}},{key:"attackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttack(t)})))}},{key:"nonAttackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAction(t)})))}},{key:"attackReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttackReaction(t)})))}},{key:"defenseReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isDefenseReaction(t)})))}},{key:"weapons",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("weapon")})))}},{key:"equipment",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("equipment")})))}},{key:"items",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("item")})))}},{key:"instants",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isInstant(t)})))}},{key:"colouredCount",value:function(t){var e={blue:3,yellow:2,red:1};return this.filter((function(n){return n.stats.resource&&n.stats.resource==e[t]})).total()}},{key:"other",value:function(){var e=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return new t(r.a.sortBy(e,(function(t){return t.stats.resource})))}},{key:"withCost",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.cost)}))}},{key:"withResource",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.resource)}))}},{key:"sort",value:function(){return new t(r.a.sortBy(this.cards,(function(t){var e=t.stats?t.stats.resource:"";return t.name+e})))}},{key:"filter",value:function(e){return new t(this.cards.filter(e))}},{key:"find",value:function(t){return this.cards.filter((function(e){return e.identifier===t.identifier}))[0]}},{key:"findKey",value:function(t){for(var e in this.cards)if(this.cards[e].identifier===t.identifier)return e}},{key:"hydrate",value:function(){return new t(this.cards.reduce((function(t,e){for(var n=0;n<e.total;n++)t.push(e);return t}),[]))}},{key:"total",value:function(){return this.cards.reduce((function(t,e){return t+e.total}),0)}},{key:"count",value:function(){return this.cards.length}},{key:"add",value:function(t){var e=this.find(t);e?e.total+=1:(t.total=1,this.cards.push(t))}},{key:"group",value:function(e){var n="string"==typeof e?function(t){return t[e]}:e;return new t(Object.values(r.a.groupBy(this.cards,n)))}},{key:"concat",value:function(e){return e=e instanceof t?e.all():e,new t(this.cards.concat(e))}},{key:"remove",value:function(t){var e=this.find(t);if(e.total>1)e.total-=1;else{var n=this.findKey(t);n&&this.cards.splice(n,1)}}},{key:"all",value:function(){return this.cards}},{key:Symbol.iterator,value:function(){return this.cards.values()}}])&&s(e.prototype,n),i&&s(e,i),t}()},21:function(t,e,n){"use strict";var r=n(1),s=n.n(r),i=n(20),a=n(37);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,n,r;return e=t,(n=[{key:"name",get:function(){return this.fields.name}},{key:"parent",get:function(){if(this.fields.parent)return new t(this.fields.parent)}},{key:"authorName",get:function(){return this.fields.user.name||"Anonymous"}},{key:"user",get:function(){return this.fields.user}},{key:"label",get:function(){return this.fields.label||""}},{key:"notes",get:function(){return this.fields.notes}},{key:"cards",get:function(){return new i.a(this.fields.cards)}},{key:"hero",get:function(){if(this.cards.hero())return new a.a(this.cards.hero())}},{key:"weapons",get:function(){return this.cards.weapons()}},{key:"equipment",get:function(){return this.cards.equipment()}},{key:"other",get:function(){return this.cards.other()}},{key:"format",get:function(){return this.fields.format}},{key:"totalCards",get:function(){return this.fields.totalCards||0}},{key:"slug",get:function(){return this.fields.slug}},{key:"updatedAt",get:function(){return s()(this.fields.updatedAt).utc().local().fromNow()}}])&&o(e.prototype,n),r&&o(e,r),t}();e.a=u},28:function(t,e,n){"use strict";var r={mixins:[n(9).a],props:{hero:{type:Object},name:{type:String},width:{default:100}}},s=n(0),i=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hero?n("img",{staticClass:"rounded-full",attrs:{src:t.heroProfile(t.hero,t.width),alt:t.name,width:t.width,height:t.width}}):t._e()}),[],!1,null,null,null);e.a=i.exports},29:function(t,e,n){"use strict";var r={props:{label:{type:String,required:!0}},methods:{labelColours:function(){switch(this.label){case"janky":return"bg-yellow-500 text-black";case"casual":return"bg-blue-300 text-black";case"competitive":return"bg-gray-800 text-white";case"meme":return"bg-pink-600 text-white"}},name:function(){return this.$settings.game.decks.labels[this.label]}}},s=n(0),i=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return this.label?e("span",{staticClass:"font-serif uppercase",class:this.labelColours()},[this._v(this._s(this.name()))]):this._e()}),[],!1,null,null,null);e.a=i.exports},348:function(t,e,n){"use strict";n.r(e);var r=n(4),s=n.n(r),i=n(49),a=(n(8),n(16)),o=n(21),u={components:{DeckItem:i.a},props:["user"],data:function(){return{decks:{}}},metaInfo:function(){var t=this.user.name+"'s decks for Flesh & Blood TCG";return{title:t,meta:[{vmid:"description",name:"description",content:t},{vmid:"og:type",property:"og:type",content:"article"},{vmid:"og:title",property:"og:title",content:t},{vmid:"og:description",property:"og:description",content:t}]}},mounted:function(){var t=this;s.a.get("/decks/latest?user="+this.user.slug).then((function(e){t.decks=a.a.hydrateMany(e.data.data,o.a)}))}},c=n(0),l=Object(c.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.decks?e("div",this._l(this.decks,(function(t){return e("deck-item",{key:t.slug,attrs:{deck:t,theme:"dark"}})})),1):this._e()])}),[],!1,null,null,null);e.default=l.exports},37:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,n,s;return e=t,(n=[{key:"avatar",value:function(){var t=this.name().split(",")[0].toLowerCase().split(" ")[0];return this.young()?t+"-blitz":t}},{key:"young",value:function(){return"young"===this.fields.subType}},{key:"name",get:function(){return this.fields.name}},{key:"image",get:function(){return this.fields.image}},{key:"class",get:function(){return this.fields.class}},{key:"stats",get:function(){return this.fields.stats}},{key:"keywords",get:function(){return this.fields.keywords}}])&&r(e.prototype,n),s&&r(e,s),t}();e.a=s},41:function(t,e,n){"use strict";var r={props:{format:{type:String,required:!0}},methods:{formatColours:function(){switch(this.format){case"blitz":return"bg-orange-500 text-white";case"constructed":return"bg-blue-400 text-white";case"open":return"bg-gray-500 text-white"}},name:function(){return this.$settings.game.decks.formats[this.format]}}},s=n(0),i=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return this.format?e("span",{staticClass:"font-serif uppercase",class:this.formatColours()},[this._v(this._s(this.name()))]):this._e()}),[],!1,null,null,null);e.a=i.exports},49:function(t,e,n){"use strict";var r=n(9),s=n(29),i=n(41),a=n(28),o=n(12),u={props:{deck:{required:!0,type:n(21).a},route:{type:String,default:"decks.view"},theme:{type:String}},mixins:[r.a,o.a],components:{HeroAvatar:a.a,DeckLabel:s.a,FormatLabel:i.a},computed:{cards:function(){return this.deck.cards}},methods:{themeClasses:function(){return"light"===this.theme?"bg-gray-100 hover:bg-white":"bg-semi-black hover:bg-black"}}},c=n(0),l=Object(c.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:px-2 w-full lg:w-1/2 my-2 text-sm"},[n("div",{staticClass:"rounded-full overflow-hidden"},[n("router-link",{staticClass:"block flex items-center",class:t.themeClasses(),attrs:{to:{name:t.route,params:{deck:t.deck.slug}}}},[n("div",{staticClass:"relative flex-none"},[n("hero-avatar",{staticClass:"block sm:hidden",attrs:{hero:t.deck.hero,name:t.deck.name,width:80}}),t._v(" "),n("hero-avatar",{staticClass:"hidden sm:block",attrs:{hero:t.deck.hero,name:t.deck.name}}),t._v(" "),t.deck.notes?n("div",{staticClass:"absolute bottom-0 left-0 ml-2 mb-2"},[n("svg",{staticClass:"h-6 w-6 sm:h-8 sm:w-8 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})])]):t._e()],1),t._v(" "),n("div",{staticClass:"flex-auto ml-4"},[n("h2",{staticClass:"font-serif uppercase text-lg md:text-2xl overflow-hidden md:mb-1",staticStyle:{"max-height":"30px"}},[t._v(t._s(t.deck.name))]),t._v(" "),n("div",[t.deck.totalPrice?n("span",{staticClass:"font-italic text-blue-600 mb-1"},[t._v("$"+t._s(t.deck.totalPrice))]):t._e(),t._v(" "),n("span",{staticClass:"md:hidden italic"},[t._v("("+t._s(t.deck.totalCards)+" cards)")])]),t._v(" "),n("span",{staticClass:"inline-block flex"},[n("div",[n("deck-label",{staticClass:"mr-1 text-xs px-2 sm:py-1 rounded-full",attrs:{label:t.deck.label}}),t._v(" "),n("format-label",{staticClass:"mr-2 text-xs rounded-full px-2 sm:py-1",attrs:{format:t.deck.format}})],1),t._v(" "),n("span",[t._v("by "+t._s(t.deck.authorName))])])]),t._v(" "),n("div",{staticClass:"flex-none mx-10 font-serif text-center hidden md:block"},[n("div",{staticClass:"text-4xl"},[t._v(t._s(t.deck.totalCards))]),t._v(" "),n("div",{staticClass:"text-gray-500 ml-1"},[t._v("cards")])])])],1)])}),[],!1,null,null,null);e.a=l.exports},8:function(t,e,n){"use strict";e.a=function(t){var e=function(){},n=function(n,r,s){t(n,(function(t){e=t,s()}))};return{beforeRouteEnter:n,beforeRouteUpdate:n,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}}}]);
//# sourceMappingURL=user.profile.decks.min.js.map?id=a5e020777143205963d8