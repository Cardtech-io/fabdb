(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{12:function(t,e,n){"use strict";var r=n(11);e.a={computed:{attacksPerHand:function(){return(this.totalAttacks/(this.totalOther/4)).toFixed(1)},averageAttack:function(){return(r.a.reduce(this.attacks,(function(t,e){return t+e.stats.attack*e.total}),0)/this.totalAttacks).toFixed(1)},averageBlock:function(){return(r.a.reduce(this.blocks,(function(t,e){return t+e.stats.defense*e.total}),0)/this.totalBlocks).toFixed(1)},averageCost:function(){var t=this.other.reduce((function(t,e){return e.stats.cost&&!isNaN(e.stats.cost)?t+e.stats.cost*e.total:t}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},averagePitch:function(){var t=this.other.reduce((function(t,e){return e.stats.resource?t+e.stats.resource*e.total:t+0}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},hero:function(){if(this.cards)return this.cards.filter((function(t){return"hero"===t.type}))[0]},attacks:function(){return this.other.filter((function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}))},blocks:function(){return this.other.filter((function(t){return t.stats.defense&&t.stats.defense>0}))},weapons:function(){return this.cards.filter((function(t){return t.keywords.includes("weapon")}))},equipment:function(){return this.cards.filter((function(t){return t.keywords.includes("equipment")}))},other:function(){var t=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return r.a.sortBy(t,(function(t){return t.stats.resource}))},totalOther:function(){return this.other.reduce((function(t,e){return t+e.total}),0)},totalAttacks:function(){return this.attacks.reduce((function(t,e){return t+e.total}),0)},totalBlocks:function(){return this.blocks.reduce((function(t,e){return t+e.total}),0)},totalClass:function(){return this.countCards(this.other.filter((function(t){return!t.keywords.includes("generic")})))},totalGeneric:function(){return this.countCards(this.other.filter((function(t){return t.keywords.includes("generic")})))},totalCards:function(){var t=this.other.filter((function(t){return!t.keywords.includes("token")})).reduce((function(t,e){return t+e.total}),0);return this.deck&&"blitz"===this.deck.format&&this.hero&&t++,t+this.equipment.reduce((function(t,e){return t+e.total}),0)+this.weapons.reduce((function(t,e){return t+e.total}),0)},totalActions:function(){return this.totalCardType(this.other,["action"])},totalAttackActions:function(){return this.totalCardType(this.other,["action","attack"])},totalAttackReactions:function(){return this.totalCardType(this.other,["attack","reaction"])},totalDefenseReactions:function(){return this.totalCardType(this.other,["defense","reaction"])},totalInstants:function(){return this.totalCardType(this.other,["instant"])},totalColoured:function(){return{blue:this.countColoured("blue"),yellow:this.countColoured("yellow"),red:this.countColoured("red")}}},methods:{costCount:function(t){return this.other.filter((function(e){return t<3?e.stats.cost==t:e.stats.cost>=t})).reduce((function(t,e){return t+e.total}),0)},countColoured:function(t){var e={blue:3,yellow:2,red:1},n=this.other.filter((function(n){return n.stats.resource==e[t]})),r=0;for(var a in n)r+=n[a].total;return r},pitchCount:function(t){return this.other.filter((function(e){return e.stats.resource==t})).reduce((function(t,e){return t+e.total}),0)},averageCardType:function(t,e){return(this.totalCardType(t,e)/t.length).toFixed(1)},totalCardType:function(t,e){return t.reduce((function(t,n){for(var r=0,a=0;a<e.length;a++)n.keywords.includes(e[a])&&r++;return r<e.length?t:t+n.total}),0)},countCards:function(t){return r.a.reduce(t,(function(t,e){return t+e.total}),0)}}}},336:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(9),s=n(22),i={components:{CardImage:a.a},props:["card"],computed:{state:function(){return{"shadow-played":this.card.played,"shadow-pitched":this.card.pitched,"hover:shadow-black":!this.card.played&&!this.card.pitched,"shadow-black":this.showButtons}}},data:function(){return{showButtons:!1}},methods:{arsenal:function(){this.$emit("arsenaled",this.card,!0),this.card.arsenaled=!this.card.arsenaled,this.card.played=!1,this.card.pitched=!1},pitch:function(){this.card.played=!1,this.card.pitched=!this.card.pitched},play:function(){this.card.pitched=!1,this.card.played=!this.card.played},toggleButtons:function(){this.showButtons=!this.showButtons}}},o=n(0),c=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deck-test-card relative rounded-lg sm:rounded-xl",class:t.state,on:{click:t.toggleButtons}},[n("card-image",{attrs:{card:t.card}}),t._v(" "),n("div",{staticClass:"buttons w-full",class:{visible:t.showButtons,invisible:!t.showButtons}},[n("button",{staticClass:"appearance-none block w-1/3 bg-red-700 text-white text-sm rounded-lg py-2 px-3 mx-auto mb-1 leading-tight focus:outline-none hover:bg-red-500 shadow-lg",on:{click:t.play}},[t._v("Play")]),t._v(" "),n("button",{staticClass:"appearance-none block w-1/3 bg-red-700 text-white text-sm rounded-lg py-2 px-3 mx-auto mb-1 leading-tight focus:outline-none hover:bg-red-500 shadow-lg",on:{click:t.pitch}},[t._v("Pitch")]),t._v(" "),n("button",{staticClass:"appearance-none block w-1/3 bg-red-700 text-white text-sm rounded-lg py-2 px-3 mx-auto mb-1 leading-tight focus:outline-none hover:bg-red-500 shadow-lg",on:{click:t.arsenal}},[t._v("Arsenal")])])],1)}),[],!1,null,null,null).exports,u=n(6),l=n(8),d=n(12);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={components:{CardImage:a.a,Crumbs:s.a,DrawnCard:c,HeaderTitle:u.a},mixins:[d.a],computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.c)("session",["user"]),{cards:function(){return this.deck.cards},crumbs:function(){return[{text:"Home",link:"/"},{text:"Deck Builder",link:"/decks/build/"},{text:"Test "+this.deck.name}]},empty:function(){return!this.deckCards},pcWidth:function(){var t=4;return this.drawn.length>4&&(t=this.drawn.length),this.drawn.length>6&&(t=4),"sm:w-1/"+t}}),data:function(){return{arsenal:null,deck:null,deckCards:[],drawn:[],drawnCards:[]}},methods:{addToArsenal:function(t){this.arsenal=t},draw:function(t){if(t>1&&(this.drawn=this.drawn.filter((function(t){return!(t.played||t.pitched||t.arsenaled)}))),this.drawnCards.length>=this.deckCards.length)this.drawnCards=[];else for(var e=1==t?0:this.drawn.length;e<t;e++)if(!(this.drawnCards.length>=this.deckCards.length)){var n=this.randomCard();this.drawnCards.push(n.identifier),this.drawn.push(n)}},randomCard:function(){var t=this,e=this.deckCards.filter((function(e){return!t.drawnCards.includes(e.identifier)}));return e[Math.floor(Math.random()*e.length)]},removeFromArsenal:function(){this.arsenal=null},shuffle:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}},metaInfo:function(){return{title:this.deck?"Deck builder - Test deck ("+this.deck.name+")":"Deck builder - Test deck"}},extends:Object(l.a)((function(t,e){axios.get("/decks/"+t.params.deck).then((function(t){e((function(){t.data.cards.forEach((function(t){t.arsenaled=!1,t.pitched=!1,t.played=!1})),this.deck=t.data,this.deckCards=this.deck.cards.filter((function(t){return!t.keywords.includes("equipment")&&!t.keywords.includes("weapon")&&!t.keywords.includes("hero")}))}))}))}))},w=Object(o.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header-title",{attrs:{title:"Test Deck"}}),t._v(" "),n("div",{staticClass:"bg-primary text-white font-serif uppercase"},[n("div",{staticClass:"container sm:mx-auto p-4 flex"},[n("div",{staticClass:"flex-1"},[n("crumbs",{attrs:{crumbs:t.crumbs}})],1)])]),t._v(" "),n("div",{staticClass:"bg-gray-200"},[n("div",{staticClass:"container sm:mx-auto py-8 px-4 text-center"},[n("ol",{staticClass:"flex -mx-2 sm:-mx-4 mb-4 items-stretch"},[n("li",{staticClass:"p-2 sm:p-4 w-1/2 sm:w-1/3 lg:w-1/4"},[n("card-image",{attrs:{card:t.hero}})],1),t._v(" "),n("li",{staticClass:"hidden sm:block sm:w-1/3 lg:w-1/2 text-center p-4 pt-24"},[n("button",{staticClass:"inline-block appearance-none block w-full rounded-lg py-3 px-4 button-primary",on:{click:function(e){return t.draw(1)}}},[t._v("Draw 1")]),t._v(" "),n("button",{staticClass:"inline-block appearance-none block w-full rounded-lg py-3 px-4 button-primary mt-2",on:{click:function(e){return t.draw(t.hero.stats.intellect)}}},[t._v("Draw "+t._s(t.hero.stats["hand-size"]))])]),t._v(" "),n("li",{staticClass:"p-2 sm:p-4 w-1/2 sm:w-1/3 lg:w-1/4"},[t.arsenal?n("div",[n("card-image",{attrs:{card:t.arsenal,clickHandler:t.removeFromArsenal}})],1):n("div",{staticClass:"bg-gray-300 font-serif text-xl uppercase rounded-lg sm:rounded-xl h-full align-middle pt-24"},[t._v("Arsenal")])])]),t._v(" "),n("div",{staticClass:"mb-4 flex sm:hidden"},[n("button",{staticClass:"appearance-none inline-block w-1/2 rounded-l-lg py-3 px-4 button-primary disabled:opacity-50",on:{click:function(e){return t.draw(1)}}},[t._v("Draw 1")]),t._v(" "),n("button",{staticClass:"appearance-none inline-block w-1/2 rounded-r-lg py-3 px-4 button-primary disabled:opacity-50",on:{click:function(e){return t.draw(4)}}},[t._v("Draw "+t._s(t.hero.stats["hand-size"]))])]),t._v(" "),t.drawn.length?n("ol",{staticClass:"flow-root -mx-2 sm:-mx-4"},t._l(t.drawn,(function(e){return n("li",{staticClass:"float-left p-2 sm:p-4 w-1/2 sm:w-1/4",class:t.pcWidth},[n("drawn-card",{attrs:{card:e},on:{arsenaled:function(n){return t.addToArsenal(e)}}})],1)})),0):n("div",{staticClass:"text-center"},[t._v("\n                There are no cards in hand.\n            ")])])])],1)}),[],!1,null,null,null);e.default=w.exports},8:function(t,e,n){"use strict";e.a=function(t){var e=function(){},n=function(n,r,a){t(n,(function(t){e=t,a()}))};return{beforeRouteEnter:n,beforeRouteUpdate:n,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}}}]);
//# sourceMappingURL=decks.test.min.js.map?id=6fc9d628479b55de6ba4