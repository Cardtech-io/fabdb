(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{11:function(t,e,r){"use strict";var a=r(15);e.a={computed:{attacksPerHand:function(){return(this.totalAttacks/(this.totalOther/4)).toFixed(1)},averageAttack:function(){return(a.a.reduce(this.attacks,(function(t,e){return t+e.stats.attack*e.total}),0)/this.totalAttacks).toFixed(1)},averageBlock:function(){return(a.a.reduce(this.blocks,(function(t,e){return t+e.stats.defense*e.total}),0)/this.totalBlocks).toFixed(1)},averageCost:function(){var t=this.other.reduce((function(t,e){return e.stats.cost&&!isNaN(e.stats.cost)?t+e.stats.cost*e.total:t}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},averagePitch:function(){var t=this.other.reduce((function(t,e){return e.stats.resource?t+e.stats.resource*e.total:t+0}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},hero:function(){if(this.cards)return this.cards.filter((function(t){return t.keywords.includes("hero")}))[0]},attacks:function(){return this.other.filter((function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}))},blocks:function(){return this.other.filter((function(t){return t.stats.defense&&t.stats.defense>0}))},weapons:function(){return this.cards.filter((function(t){return t.keywords.includes("weapon")}))},equipment:function(){return this.cards.filter((function(t){return t.keywords.includes("equipment")}))},other:function(){var t=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return a.a.sortBy(t,(function(t){return t.stats.resource}))},totalOther:function(){return this.other.reduce((function(t,e){return t+e.total}),0)},totalAttacks:function(){return this.attacks.reduce((function(t,e){return t+e.total}),0)},totalBlocks:function(){return this.blocks.reduce((function(t,e){return t+e.total}),0)},totalClass:function(){return this.countCards(this.other.filter((function(t){return!t.keywords.includes("generic")})))},totalGeneric:function(){return this.countCards(this.other.filter((function(t){return t.keywords.includes("generic")})))},totalCards:function(){var t=this.other.filter((function(t){return!t.keywords.includes("token")})).reduce((function(t,e){return t+e.total}),0);return this.deck&&"blitz"===this.deck.format&&this.hero&&t++,t+this.equipment.reduce((function(t,e){return t+e.total}),0)+this.weapons.reduce((function(t,e){return t+e.total}),0)},totalActions:function(){return this.totalCardType(this.other,["action"])},totalAttackActions:function(){return this.totalCardType(this.other,["action","attack"])},totalAttackReactions:function(){return this.totalCardType(this.other,["attack","reaction"])},totalDefenseReactions:function(){return this.totalCardType(this.other,["defense","reaction"])},totalInstants:function(){return this.totalCardType(this.other,["instant"])},totalColoured:function(){return{blue:this.countColoured("blue"),yellow:this.countColoured("yellow"),red:this.countColoured("red")}}},methods:{costCount:function(t){return this.other.filter((function(e){return t<3?e.stats.cost==t:e.stats.cost>=t})).reduce((function(t,e){return t+e.total}),0)},countColoured:function(t){var e={blue:3,yellow:2,red:1},r=this.other.filter((function(r){return r.stats.resource==e[t]})),a=0;for(var n in r)a+=r[n].total;return a},pitchCount:function(t){return this.other.filter((function(e){return e.stats.resource==t})).reduce((function(t,e){return t+e.total}),0)},averageCardType:function(t,e){return(this.totalCardType(t,e)/t.length).toFixed(1)},totalCardType:function(t,e){return t.reduce((function(t,r){for(var a=0,n=0;n<e.length;n++)r.keywords.includes(e[n])&&a++;return a<e.length?t:t+r.total}),0)},countCards:function(t){return a.a.reduce(t,(function(t,e){return t+e.total}),0)}}}},198:function(t,e,r){"use strict";var a={props:{label:{type:String,required:!0}},methods:{labelColours:function(){switch(this.label){case"janky":return"bg-yellow-500 text-black";case"casual":return"bg-blue-300 text-black";case"competitive":return"bg-gray-800 text-white";case"meme":return"bg-pink-600 text-white"}},name:function(){return this.$settings.game.decks.labels[this.label]}}},n=r(1),s=Object(n.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.label?e("span",{staticClass:"font-serif uppercase",class:this.labelColours()},[this._v(this._s(this.name()))]):this._e()}),[],!1,null,null,null);e.a=s.exports},213:function(t,e,r){"use strict";var a=r(10),n=r(198),s=r(28),o=r(11),i={props:["deck","theme"],mixins:[a.a,o.a],components:{HeroAvatar:s.a,DeckLabel:n.a},computed:{cards:function(){return this.deck.cards}},methods:{themeClasses:function(){return"light"===this.theme?"bg-bar hover:bg-bar-hover":"bg-semi-black hover:bg-black"}}},c=r(1),u=Object(c.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"md:float-left md:px-2 w-full lg:w-1/2 my-2 odd:bg-gray-100 rounded-full overflow-hidden"},[r("router-link",{staticClass:"block flex items-center",class:t.themeClasses(),attrs:{to:{name:"decks.view",params:{deck:t.deck.slug}}}},[r("div",{staticClass:"relative flex-none"},[r("hero-avatar",{staticClass:"block sm:hidden",attrs:{hero:t.hero,name:t.deck.name,width:80}}),t._v(" "),r("hero-avatar",{staticClass:"hidden sm:block",attrs:{hero:t.hero,name:t.deck.name}}),t._v(" "),t.deck.notes?r("div",{staticClass:"absolute bottom-0 left-0 ml-2 mb-2"},[r("svg",{staticClass:"h-6 w-6 sm:h-8 sm:w-8 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}})])]):t._e()],1),t._v(" "),r("div",{staticClass:"flex-auto ml-4"},[r("h2",{staticClass:"font-serif uppercase text-lg md:text-2xl overflow-hidden md:mb-1",staticStyle:{"max-height":"30px"}},[t._v(t._s(t.deck.name))]),t._v(" "),r("div",[t.deck.totalPrice?r("span",{staticClass:"font-italic text-blue-600 mb-1"},[t._v("$"+t._s(t.deck.totalPrice))]):t._e(),t._v(" "),r("span",{staticClass:"md:hidden italic"},[t._v("("+t._s(t.deck.totalCards)+" cards)")])]),t._v(" "),r("span",{staticClass:"inline-block flex"},[r("div",[r("deck-label",{staticClass:"mr-2 text-xs px-2 sm:py-1 rounded-full",attrs:{label:t.deck.label}})],1),t._v(" "),t.deck.user.name?r("span",[t._v("by "+t._s(t.deck.user.name))]):r("span",[t._v("Anonymous")])])]),t._v(" "),r("div",{staticClass:"flex-none mx-10 font-serif text-center hidden md:block"},[r("div",{staticClass:"text-4xl"},[t._v(t._s(t.deck.totalCards))]),t._v(" "),r("div",{staticClass:"text-gray-500 ml-1"},[t._v("cards")])])])],1)}),[],!1,null,null,null);e.a=u.exports},22:function(t,e,r){"use strict";var a={props:["results"],computed:{data:function(){return this.results.meta?this.results.meta:this.results},pageRange:function(){var t=this.data.current_page,e=this.data.last_page,r=t-3;r+6>e&&(r=e-6),r<1&&(r=1);var a=r+6;a>e&&(a=e);for(var n=[],s=r;s<=a;s++)n.push(s);return n}},methods:{active:function(t){return{"button-secondary":this.data.current_page===t}},disabled:function(t){return t?"hidden":"button-secondary"},select:function(t){this.selectPage(t)},next:function(){this.data.current_page>=this.data.last_page||this.selectPage(this.data.current_page+1)},previous:function(){this.results.current_page<=1||this.selectPage(this.data.current_page-1)},selectPage:function(t){this.$emit("page-selected",t)}}},n=r(1),s=Object(n.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.data?r("div",{staticClass:"flex text-sm justify-center"},[r("a",{staticClass:"inline-block rounded p-2 mr-1",class:t.disabled(1==t.data.current_page),attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.previous.apply(null,arguments)}}},[t._v("<")]),t._v(" "),r("span",{staticClass:"inline-block rounded overflow-hidden"},t._l(t.pageRange,(function(e){return r("a",{staticClass:"inline-block sm:rounded p-2 sm:mr-1 button-primary",class:t.active(e),attrs:{href:""},on:{click:function(r){return r.preventDefault(),t.select(e)}}},[t._v(t._s(e))])})),0),t._v(" "),r("a",{staticClass:"inline-block rounded p-2 ml-1 sm:ml-0",class:t.disabled(t.data.current_page>=t.data.last_page),attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.next.apply(null,arguments)}}},[t._v(">")])]):t._e()}),[],!1,null,null,null);e.a=s.exports},28:function(t,e,r){"use strict";var a={mixins:[r(10).a],props:{hero:{type:Object,required:!0},name:{type:String},width:{default:100}}},n=r(1),s=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"rounded-full",attrs:{src:this.heroProfile(this.hero,this.width),alt:this.name}})}),[],!1,null,null,null);e.a=s.exports},323:function(t,e,r){"use strict";r.r(e);var a=r(2),n=r(17),s=r(213),o=r(4),i=r.n(o);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={components:{Submit:r(18).a},data:function(){return{heroes:[]}},computed:u({},Object(a.e)("deckSearch",["params"]),{format:{get:function(){return this.params.format||""},set:function(t){this.updateParam({key:"format",value:t})}},hero:{get:function(){return this.params.hero||""},set:function(t){this.updateParam({key:"hero",value:t})}},label:{get:function(){return this.params.label||""},set:function(t){this.updateParam({key:"label",value:t})}},order:{get:function(){return this.params.order||"newest"},set:function(t){this.updateParam({key:"order",value:t})}}}),methods:u({},Object(a.b)("deckSearch",["setPage","updateParam"]),{active:function(t){if(this.params[t])return"shadow-activeNumber"},search:function(){var t=this,e={hero:this.hero,order:this.order,label:this.label,format:this.format,page:this.params.page};i.a.get("/decks/",{params:e}).then((function(e){t.$emit("search-completed",e.data)})).catch((function(t){}))},newSearch:function(){this.setPage({page:1}),this.search()}}),watch:{"params.page":function(){this.search()}},created:function(){var t=this;i.a.get("/cards/heroes").then((function(e){t.heroes=e.data})),this.search()}},h=r(1),f=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"px-4 md:px-0 block flex w-full",on:{submit:function(e){return e.preventDefault(),t.newSearch.apply(null,arguments)}}},[r("div",{staticClass:"sm:w-2/6 pr-2"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.hero,expression:"hero"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg",class:t.active("hero"),on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.hero=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[t._v("Select hero")]),t._v(" "),t._l(t.heroes,(function(e){return r("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),r("div",{staticClass:"sm:w-1/6 pr-2"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.format,expression:"format"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg",class:t.active("format"),on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.format=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[t._v("Format")]),t._v(" "),r("option",{attrs:{value:"blitz"}},[t._v("Blitz")]),t._v(" "),r("option",{attrs:{value:"constructed"}},[t._v("Constructed")]),t._v(" "),r("option",{attrs:{value:"open"}},[t._v("Open")])])]),t._v(" "),r("div",{staticClass:"sm:w-1/6 pr-2"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg",class:t.active("label"),on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.label=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[t._v("Label")]),t._v(" "),t._l(t.$settings.game.decks.labels,(function(e,a){return r("option",{domProps:{value:a}},[t._v(t._s(e))])}))],2)]),t._v(" "),r("div",{staticClass:"sm:w-1/6 pr-2"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"input appearance-none outline-none focus:bg-white focus:border-gray-500 py-3 px-4 rounded-lg",class:t.active("order"),on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.order=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[t._v("Order")]),t._v(" "),r("option",{attrs:{value:"newest"}},[t._v("Newest")]),t._v(" "),r("option",{attrs:{value:"popular"}},[t._v("Popular")])])]),t._v(" "),r("div",{staticClass:"sm:w-1/6"},[r("submit",{staticClass:"w-full",attrs:{text:"Search"}})],1)])}),[],!1,null,null,null).exports,p=r(6),v=r(22);r(7);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g={components:{Breadcrumbs:n.a,DeckItem:s.a,DeckSearch:f,HeaderTitle:p.a,Paginator:v.a},computed:{decks:function(){return results.decks}},data:function(){return{crumbs:[{text:"Home",link:"/"},{text:"Decks"}],results:{}}},metaInfo:function(){return{title:"Flesh and Blood Deck lists",meta:[{vmid:"description",name:"description",content:"Browse Flesh & Blood deck lists, their cards, and various metrics for each."}]}},methods:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(r,!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(a.b)("deckSearch",["updateParam"]),{refreshResults:function(t){this.results=t},updatePage:function(t){this.updateParam({key:"page",value:t})}})},k=Object(h.a)(g,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header-title",{attrs:{title:"Browse decks"}}),t._v(" "),r("breadcrumbs",{attrs:{crumbs:t.crumbs}}),t._v(" "),r("div",{staticClass:"bg-white dark:bg-gray-700 py-4 border-b-4 border-gray-300"},[r("div",{staticClass:"container sm:mx-auto md:px-4"},[r("deck-search",{on:{"search-completed":t.refreshResults}})],1)]),t._v(" "),r("div",{staticClass:"bg-gray-200"},[r("div",{staticClass:"container sm:mx-auto px-4"},[t.results&&t.results.data?r("div",{staticClass:"pb-8"},[r("div",{staticClass:"flow-root py-4"},[r("ul",{staticClass:"flow-root sm:-mx-4"},[t.results.data.length?r("div",t._l(t.results.data,(function(t){return r("deck-item",{key:t.slug,attrs:{deck:t,theme:"light"}})})),1):r("div",{staticClass:"text-center py-8"},[t._v("\n                            There are no decks that match your search criteria.\n                        ")])]),t._v(" "),t.results.data.length?r("div",{staticClass:"flow-root py-4"},[r("paginator",{attrs:{results:t.results},on:{"page-selected":t.updatePage}})],1):t._e()]),t._v(" "),t._m(0)]):t._e()])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"md:w-2/3 rounded-lg p-2 bg-blue-200 text-center text-base mx-auto"},[this._v("\n                    Don't see your deck in the list above? Be sure to set your deck's visibility to "),e("span",{staticClass:"font-bold"},[this._v("public")]),this._v(".\n                ")])}],!1,null,null,null);e.default=k.exports},7:function(t,e,r){"use strict";e.a=function(t){var e=function(){},r=function(r,a,n){t(r,(function(t){e=t,n()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}}}]);
//# sourceMappingURL=decks.browse.min.js.map?id=a0f1d4d291460aac56f5