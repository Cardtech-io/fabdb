(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{BGSN:function(e,t,r){"use strict";var n={mixins:[r("Ktqn").a],props:{subscriptionLevel:{type:String,required:!0},size:String},computed:{classes:function(){var e={};return e[{supporter:"bg-blue-400",majestic:"bg-yellow-500",legendary:"bg-black",trial:"bg-gray-400",promo:"bg-orange-600",fabled:"bg-green-400"}[this.subscriptionLevel]]=!0,"small"===this.size?(e["px-3"]=!0,e["py-1"]=!0,e["text-xs"]=!0):(e["px-4"]=!0,e["py-2"]=!0),e}}},s=r("KHd+"),i=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"inline-block rounded-full text-white uppercase font-serif",class:this.classes},[this._v(this._s(this.ucfirst(this.subscriptionLevel)))])}),[],!1,null,null,null);t.a=i.exports},MGKL:function(e,t,r){"use strict";var n={mixins:[r("9gIH").a],props:{user:{type:Object,required:!0},width:{type:Number,default:100}},computed:{avatar:function(){return this.user.avatar||"bauble"}}},s=r("KHd+"),i=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"rounded-full",style:{width:this.width+"px"},attrs:{src:this.imageUrl("/heroes/"+this.avatar+".jpg",this.width),alt:this.user.name}})}),[],!1,null,null,null);t.a=i.exports},"Qd/B":function(e,t,r){"use strict";var n=r("wd/R"),s=r.n(n);t.a={toLocal:function(e){return s.a.utc(e).local()},calendar:function(e){return this.toLocal(e).calendar()}}},W20M:function(e,t,r){"use strict";r.r(t);var n=r("vDqi"),s=r.n(n),i=r("L2JU"),a=r("vz9Z"),c=r("nrFD"),o=r("A8c3"),l=r("laeN");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={props:["event"],computed:p({},Object(i.c)("session",["user"])),data:function(){return{decks:[],registered:this.event.registered}},methods:p({},Object(i.b)("messages",["addMessage"]),{selectDeck:function(e){var t=this;s.a.post("/events/"+this.event.slug+"/deck",{deck:e.slug}).then((function(e){t.$modal.hide("submit-deck"),t.addMessage({status:"success",message:"Your deck has been submitted."})}))},showModal:function(){this.$modal.show("submit-deck")},register:function(){var e=this;s.a.post("/events/"+this.event.slug+"/register").then((function(t){e.registered=!0,e.addMessage({status:"success",message:"You are now registered for this event."})}))},unregister:function(){var e=this;s.a.delete("/events/"+this.event.slug+"/registration").then((function(t){e.registered=!1,e.addMessage({status:"success",message:"You are no longer registered for this event."})}))}}),mounted:function(){var e=this;this.user&&s.a.get("/decks/mine").then((function(t){e.decks=t.data}))}},f=r("KHd+"),b=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.user?r("div",[e.registered?e._e():r("button",{staticClass:"appearance-none bg-blue-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-blue-500 disabled:opacity-50",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.register()}}},[e._v("\n            Register for event\n        ")]),e._v(" "),e.registered?r("button",{staticClass:"appearance-none bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500 disabled:opacity-50",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.unregister()}}},[e._v("\n            Unregister from event\n        ")]):e._e(),e._v(" "),e.registered?r("button",{staticClass:"appearance-none bg-blue-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-blue-500 disabled:opacity-50",on:{click:function(t){return t.preventDefault(),e.showModal()}}},[e._v("\n            Submit a deck\n        ")]):e._e(),e._v(" "),r("modal",{attrs:{name:"submit-deck",classes:"bg-gray-100"}},[r("h2",{staticClass:"bg-red-900 text-white font-serif text-2xl uppercase py-3 px-8"},[e._v("Submit your deck")]),e._v(" "),e.decks.length?r("ul",e._l(e.decks,(function(t){return r("li",{staticClass:"even:bg-gray-200 hover:bg-white hover:cursor-pointer"},[r("a",{staticClass:"block w-full px-8 py-2",attrs:{href:""},on:{click:function(r){return r.preventDefault(),e.selectDeck(t)}}},[e._v("\n                        "+e._s(t.hero.name)+" ("+e._s(t.name)+")\n                    ")])])})),0):r("div",{staticClass:"px-8 py-4"},[e._v("\n                You have not yet created any decks. In order to participate in the event you must "),r("router-link",{staticClass:"link",attrs:{to:{name:"decks.build"}}},[e._v("build a deck")]),e._v(" then\n                submit it via the event page.\n            ")],1)])],1):r("div",[e._v("\n        Please "),r("router-link",{staticClass:"link",attrs:{to:"/login?from="+e.$route.path}},[e._v("login")]),e._v(" to register for this event.\n    ")],1)])}),[],!1,null,null,null).exports,g=r("MGKL"),h=r("BGSN");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={props:["event"],components:{Avatar:g.a,Badge:h.a},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.c)("session",["user"]))},O=Object(f.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"font-serif uppercase text-2xl mb-2"},[e._v("Registered Players")]),e._v(" "),e.event.players&&e.event.players.length?r("div",[r("ul",e._l(e.event.players,(function(t){return r("li",{staticClass:"flex odd:bg-gray-100 rounded-xl mb-2 items-center hover:bg-white"},[r("div",[r("avatar",{attrs:{user:t.user,width:50,rounded:"xl"}})],1),e._v(" "),r("div",{staticClass:"flex-auto mx-4"},[e._v("\n                    "+e._s(t.user.name)+"\n                ")]),e._v(" "),t.user.subscription?r("div",{staticClass:"pr-4"},[r("badge",{attrs:{subscriptionLevel:t.user.subscription,size:"small"}})],1):e._e()])})),0)]):r("div",{staticClass:"py-2"},[e._v("\n        There are currently no registered players.\n    ")])])}),[],!1,null,null,null).exports,w=r("Qd/B"),x=r("wrcC");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C={components:{Breadcrumbs:a.a,EventTypeIcon:c.a,HeaderTitle:o.a,PlayerEventActions:b,RegisteredPlayers:O},mixins:[x.a],computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.c)("session",["user"]),{crumbs:function(){return[{text:"Home",name:"home"},{text:"My Events",name:"events.mine"},{text:this.title}]},title:function(){return this.event.name||"Register event"},registered:function(){return!!this.event.registered}}),data:function(){return{event:null,time:w.a}},extends:Object(l.a)((function(e,t){s.a.get("/events/"+e.params.event).then((function(e){t((function(){this.event=e.data}))}))}))},P=Object(f.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-title",{attrs:{title:e.title}}),e._v(" "),r("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),r("div",{staticClass:"bg-gray-200"},[r("div",{staticClass:"container sm:mx-auto p-4 py-8 md:flex"},[r("div",{staticClass:"md:w-1/2 md:pr-8"},[r("h2",{staticClass:"font-serif uppercase text-4xl -mt-1 mb-4"},[e._v("Event details")]),e._v(" "),r("ul",[r("li",{staticClass:"bg-gray-100 p-2 px-4"},[r("h3",{staticClass:"font-serif uppercase text-xl"},[e._v(e._s(e.event.name)+" "),r("span",{staticClass:"text-gray-500"},[e._v("("+e._s(e.ucfirst(e.event.type))+")")])])]),e._v(" "),r("li",{staticClass:"p-2 px-4"},[r("span",{staticClass:"font-serif uppercase"},[e._v("Event fee")]),e._v(":\n                        "),e.event.fee?r("span",[e._v("$"+e._s(e.event.fee))]):r("span",[e._v("None (FREE)")])]),e._v(" "),r("li",{staticClass:"bg-gray-100 p-2 px-4"},[r("span",{staticClass:"font-serif uppercase"},[e._v("When")]),e._v(":\n                        "+e._s(e.time.calendar(e.event.startsAt))+"\n                    ")]),e._v(" "),r("li",{staticClass:"pt-8"},[r("player-event-actions",{attrs:{event:e.event}})],1)])]),e._v(" "),r("div",{staticClass:"mt-8 md:mt-0 md:w-1/2"},[e.event.description?r("div",{staticClass:"flow-root mb-8"},[r("div",{staticClass:"float-left mr-6 mb-2"},[r("event-type-icon",{attrs:{type:e.event.type,size:"24"}})],1),e._v(" "),r("p",{domProps:{innerHTML:e._s(e.parseMarkdown(e.event.description))}})]):e._e(),e._v(" "),r("div",[r("registered-players",{attrs:{event:e.event}})],1)])])])],1)}),[],!1,null,null,null);t.default=P.exports},laeN:function(e,t,r){"use strict";t.a=function(e){var t=function(){},r=function(r,n,s){e(r,(function(e){t=e,s()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){t.apply(this)},watch:{$route:function(){t.apply(this)}}}}},nrFD:function(e,t,r){"use strict";var n={mixins:[r("wrcC").a],props:["type","size","title"],methods:{path:function(){return{constructed:"M6 4H5a1 1 0 110-2h11V1a1 1 0 00-1-1H4a2 2 0 00-2 2v16c0 1.1.9 2 2 2h12a2 2 0 002-2V5a1 1 0 00-1-1h-7v8l-2-2-2 2V4z",draft:"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z",sealed:"M18 2a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z"}[this.type]},sizes:function(){return"h-"+this.size+" w-"+this.size}}},s=r("KHd+"),i=Object(s.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:"fill-current mx-auto",class:e.sizes(),attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[e.title?r("title",[e._v(e._s(e.ucfirst(e.title)))]):e._e(),e._v(" "),r("path",{attrs:{d:e.path()}})])}),[],!1,null,null,null);t.a=i.exports}}]);