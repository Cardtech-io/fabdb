(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{214:function(e,t,r){"use strict";var n=r(1),s=r.n(n);t.a={toLocal:function(e){return s.a.utc(e).local()},calendar:function(e){return this.toLocal(e).calendar()}}},26:function(e,t,r){"use strict";var n={mixins:[r(10).a],props:{user:{type:Object,required:!0},width:{type:Number,default:100}},computed:{avatar:function(){return this.user.avatar||"bauble"}}},s=r(0),i=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"rounded-full",style:{width:this.width+"px"},attrs:{src:this.imageUrl("/heroes/"+this.avatar+".jpg",this.width),alt:this.user.name}})}),[],!1,null,null,null);t.a=i.exports},329:function(e,t,r){"use strict";r.r(t);var n=r(4),s=r.n(n),i=r(2),a=r(18),o=r(49),c=r(6),l=r(8);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={props:["event"],computed:p({},Object(i.c)("session",["user"])),data:function(){return{decks:[],registered:this.event.registered}},methods:p({},Object(i.b)("messages",["addMessage"]),{selectDeck:function(e){var t=this;s.a.post("/events/"+this.event.slug+"/deck",{deck:e.slug}).then((function(e){t.$modal.hide("submit-deck"),t.addMessage({status:"success",message:"Your deck has been submitted."})}))},showModal:function(){this.$modal.show("submit-deck")},register:function(){var e=this;s.a.post("/events/"+this.event.slug+"/register").then((function(t){e.registered=!0,e.addMessage({status:"success",message:"You are now registered for this event."})}))},unregister:function(){var e=this;s.a.delete("/events/"+this.event.slug+"/registration").then((function(t){e.registered=!1,e.addMessage({status:"success",message:"You are no longer registered for this event."})}))}}),mounted:function(){var e=this;this.user&&s.a.get("/decks/mine").then((function(t){e.decks=t.data}))}},v=r(0),g=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.user?r("div",[e.registered?e._e():r("button",{staticClass:"appearance-none bg-blue-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-blue-500 disabled:opacity-50",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.register()}}},[e._v("\n            Register for event\n        ")]),e._v(" "),e.registered?r("button",{staticClass:"appearance-none bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500 disabled:opacity-50",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.unregister()}}},[e._v("\n            Unregister from event\n        ")]):e._e(),e._v(" "),e.registered?r("button",{staticClass:"appearance-none bg-blue-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-blue-500 disabled:opacity-50",on:{click:function(t){return t.preventDefault(),e.showModal()}}},[e._v("\n            Submit a deck\n        ")]):e._e(),e._v(" "),r("modal",{attrs:{name:"submit-deck",classes:"bg-gray-100"}},[r("h2",{staticClass:"bg-red-900 text-white font-serif text-2xl uppercase py-3 px-8"},[e._v("Submit your deck")]),e._v(" "),e.decks.length?r("ul",e._l(e.decks,(function(t){return r("li",{staticClass:"even:bg-gray-200 hover:bg-white hover:cursor-pointer"},[r("a",{staticClass:"block w-full px-8 py-2",attrs:{href:""},on:{click:function(r){return r.preventDefault(),e.selectDeck(t)}}},[e._v("\n                        "+e._s(t.hero.name)+" ("+e._s(t.name)+")\n                    ")])])})),0):r("div",{staticClass:"px-8 py-4"},[e._v("\n                You have not yet created any decks. In order to participate in the event you must "),r("router-link",{staticClass:"link",attrs:{to:{name:"decks.build"}}},[e._v("build a deck")]),e._v(" then\n                submit it via the event page.\n            ")],1)])],1):r("div",[e._v("\n        Please "),r("router-link",{staticClass:"link",attrs:{to:"/login?from="+e.$route.path}},[e._v("login")]),e._v(" to register for this event.\n    ")],1)])}),[],!1,null,null,null).exports,b=r(26),m=r(41);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={props:["event"],components:{Avatar:b.a,Badge:m.a},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.c)("session",["user"]))},x=Object(v.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticClass:"font-serif uppercase text-2xl mb-2"},[e._v("Registered Players")]),e._v(" "),e.event.players&&e.event.players.length?r("div",[r("ul",e._l(e.event.players,(function(t){return r("li",{staticClass:"flex odd:bg-gray-100 rounded-xl mb-2 items-center hover:bg-white"},[r("div",[r("avatar",{attrs:{user:t.user,width:50,rounded:"xl"}})],1),e._v(" "),r("div",{staticClass:"flex-auto mx-4"},[e._v("\n                    "+e._s(t.user.name)+"\n                ")]),e._v(" "),t.user.subscription?r("div",{staticClass:"pr-4"},[r("badge",{attrs:{subscriptionLevel:t.user.subscription,size:"small"}})],1):e._e()])})),0)]):r("div",{staticClass:"py-2"},[e._v("\n        There are currently no registered players.\n    ")])])}),[],!1,null,null,null).exports,_=r(214),O=r(7);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C={components:{Breadcrumbs:a.a,EventTypeIcon:o.a,HeaderTitle:c.a,PlayerEventActions:g,RegisteredPlayers:x},mixins:[O.a],computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.c)("session",["user"]),{crumbs:function(){return[{text:"Home",name:"home"},{text:"My Events",name:"events.mine"},{text:this.title}]},title:function(){return this.event.name||"Register event"},registered:function(){return!!this.event.registered}}),data:function(){return{event:null,time:_.a}},extends:Object(l.a)((function(e,t){s.a.get("/events/"+e.params.event).then((function(e){t((function(){this.event=e.data}))}))}))},P=Object(v.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-title",{attrs:{title:e.title}}),e._v(" "),r("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),r("div",{staticClass:"bg-gray-200"},[r("div",{staticClass:"container sm:mx-auto p-4 py-8 md:flex"},[r("div",{staticClass:"md:w-1/2 md:pr-8"},[r("h2",{staticClass:"font-serif uppercase text-4xl -mt-1 mb-4"},[e._v("Event details")]),e._v(" "),r("ul",[r("li",{staticClass:"bg-gray-100 p-2 px-4"},[r("h3",{staticClass:"font-serif uppercase text-xl"},[e._v(e._s(e.event.name)+" "),r("span",{staticClass:"text-gray-500"},[e._v("("+e._s(e.ucfirst(e.event.type))+")")])])]),e._v(" "),r("li",{staticClass:"p-2 px-4"},[r("span",{staticClass:"font-serif uppercase"},[e._v("Event fee")]),e._v(":\n                        "),e.event.fee?r("span",[e._v("$"+e._s(e.event.fee))]):r("span",[e._v("None (FREE)")])]),e._v(" "),r("li",{staticClass:"bg-gray-100 p-2 px-4"},[r("span",{staticClass:"font-serif uppercase"},[e._v("When")]),e._v(":\n                        "+e._s(e.time.calendar(e.event.startsAt))+"\n                    ")]),e._v(" "),r("li",{staticClass:"pt-8"},[r("player-event-actions",{attrs:{event:e.event}})],1)])]),e._v(" "),r("div",{staticClass:"mt-8 md:mt-0 md:w-1/2"},[e.event.description?r("div",{staticClass:"flow-root mb-8"},[r("div",{staticClass:"float-left mr-6 mb-2"},[r("event-type-icon",{attrs:{type:e.event.type,size:"24"}})],1),e._v(" "),r("p",{domProps:{innerHTML:e._s(e.parseMarkdown(e.event.description))}})]):e._e(),e._v(" "),r("div",[r("registered-players",{attrs:{event:e.event}})],1)])])])],1)}),[],!1,null,null,null);t.default=P.exports},41:function(e,t,r){"use strict";var n={mixins:[r(5).a],props:{subscriptionLevel:{type:String,required:!0},size:String},computed:{classes:function(){var e={};return e[{supporter:"bg-blue-400",majestic:"bg-yellow-500",legendary:"bg-black",trial:"bg-gray-400",promo:"bg-orange-600",fabled:"bg-green-400"}[this.subscriptionLevel]]=!0,"small"===this.size?(e["px-3"]=!0,e["py-1"]=!0,e["text-xs"]=!0):(e["px-4"]=!0,e["py-2"]=!0),e}}},s=r(0),i=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"inline-block rounded-full text-white uppercase font-serif",class:this.classes},[this._v(this._s(this.ucfirst(this.subscriptionLevel)))])}),[],!1,null,null,null);t.a=i.exports},49:function(e,t,r){"use strict";var n={mixins:[r(7).a],props:["type","size","title"],methods:{path:function(){return{constructed:"M6 4H5a1 1 0 110-2h11V1a1 1 0 00-1-1H4a2 2 0 00-2 2v16c0 1.1.9 2 2 2h12a2 2 0 002-2V5a1 1 0 00-1-1h-7v8l-2-2-2 2V4z",draft:"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z",sealed:"M18 2a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z"}[this.type]},sizes:function(){return"h-"+this.size+" w-"+this.size}}},s=r(0),i=Object(s.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:"fill-current mx-auto",class:e.sizes(),attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[e.title?r("title",[e._v(e._s(e.ucfirst(e.title)))]):e._e(),e._v(" "),r("path",{attrs:{d:e.path()}})])}),[],!1,null,null,null);t.a=i.exports},7:function(e,t,r){"use strict";r(204);var n=r(253),s=r.n(n),i={a:"link",h1:"text-4xl",h2:"text-2xl",h3:"text-xl",ol:"list-decimal ml-8",p:"my-4",ul:"list-disc ml-8"},a=Object.keys(i).map((function(e){return{type:"output",regex:new RegExp("<".concat(e,"(.*)>"),"g"),replace:"<".concat(e,' class="').concat(i[e],'" $1>')}})),o=(r(27),[]),c="left",l={left:"sm:float-left sm:m-4 sm:ml-0",right:"sm:float-right sm:m-4 sm:mr-0"},u=[{type:"lang",regex:/\^cards\((([A-Z]{3}[0-9]{3},?)+)\)/gi,replace:function(e,t){return o.push(t),"%CARDS"+(o.length-1)+"%"}},{type:"output",filter:function(e){for(var t=0;t<o.length;++t){var r=o[t].split(","),n=r.map((function(e){return'<card-ad identifier="'+e+'"></card-ad>'})),s="%CARDS"+t+"%",i="";if(1===r.length){var a="right"===c?"left":"right";i=l[a],c=a}else i="flex items-start justify-center";e=e.replace(new RegExp(s,"gi"),'<div class="'+i+'">'+n.join("\n")+"</div>")}return o=[],e}}],p=[],d=[{type:"lang",regex:/\^deck\(([A-Z]+)\)/gi,replace:function(e,t){return p.push(t),"%DECK"+(p.length-1)+"%"}},{type:"output",filter:function(e){for(var t=0;t<p.length;++t){var r="<p>%DECK"+t+"% *</p>",n='<div class="block sm:m-8 mt-0 sm:float-right border border-gray-400"><iframe src="'+(window.location.protocol+"//"+window.location.hostname+"/decks/embed/"+p[t])+'" width="350" height="1200" id="deck-'+t+'" sandbox="allow-same-origin allow-scripts" scrolling="yes"></iframe></div>';e=e.replace(new RegExp(r,"gi"),n)}return p=[],e}}];var f,v=new s.a.Converter({extensions:[u,d].concat((f=a,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(f)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[{type:"output",regex:/<blockquote>([^]+?)<\/blockquote>/gi,replace:'<blockquote class="relative py-2 px-8 pl-12 my-8 text-xl italic border border-l-4 quote rounded-lg z-0"><div class="stylistic-quote-mark text-gray-200" aria-hidden="true">&ldquo;</div><p>$1</p></blockquote>'}])}),g=function(e){return"<div>"+v.makeHtml(e)+"</div>"};t.a={methods:{kebabCase:function(e){return this.snakeCase(e,"-")},parseMarkdown:function(e){return g(e)},minimalMarkdown:function(e){return g(e)},prettyText:function(e){var t=this.prettified(e);return this.parseMarkdown(t)},prettified:function(e){var t=e.split("\n");return(t=t.map((function(e){for(var t=new RegExp(/\[([+-])?(([X0-9]{1})\s)?([a-z]+)\]/i);;){var r=t.exec(e);if(!r)return e;var n=r[1],s=r[3],i=r[4],a="";if("Pitch"===i&&(i="resource"),"Power"===i&&(i="attack"),i=i.toLowerCase(),n)a=n+s+'<img src="/img/'+i+'.png" class="inline-block h-5 align-middle">';else if(s)for(var o=0;o<s;o++)a+='<img src="/img/'+i+'.png" class="inline-block h-5">';else a+='<img src="/img/'+i+'.png" class="inline-block h-5">';e=e.replace(r[0],a,e)}}))).join("\n")},snakeCase:function(e,t){return t||(t="_"),e.toLowerCase().replace(/[^0-9a-z\s]+/g,"").replace(/\s+/g,t)},ucfirst:function(e){return e[0].toUpperCase()+e.slice(1)},imageDomain:function(){return window.settings.imageDomain},buildQuery:function(e){var t=encodeURIComponent;return Object.keys(e).map((function(r){return t(r)+"="+t(e[r])})).join("&")}}}},8:function(e,t,r){"use strict";t.a=function(e){var t=function(){},r=function(r,n,s){e(r,(function(e){t=e,s()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){t.apply(this)},watch:{$route:function(){t.apply(this)}}}}}}]);
//# sourceMappingURL=events.view.min.js.map?id=fd05038116469eb76e44