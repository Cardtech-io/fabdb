(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{18:function(t,e,r){"use strict";e.a={hydrateMany:function(t,e){var r=this;return t.map((function(t){return r.hydrate(t,e)}))},hydrate:function(t,e){return new e(t)},hydratePaginated:function(t,e){return t.data=this.hydrateMany(t.data,e),t}}},197:function(t,e,r){"use strict";var n=r(4),i=r.n(n),a={props:{direction:{type:String,required:!0,validator:function(t){return-1!==["up","down"].indexOf(t)}},size:{type:Number,required:!0}},computed:{classes:function(){return["h-"+this.size]}},methods:{vote:function(){var t=this,e={type:this.$parent.voteable,foreign:this.$parent.foreign,direction:this.direction};i.a.post("/vote",e).then((function(r){t.$emit("voted",e)}))}}},s=r(0),o={components:{Vote:Object(s.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"text-gray-400 hover:text-gray-800",on:{click:function(e){return t.vote()}}},[r("svg",{staticClass:"fill-current",class:t.classes,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},["up"===t.direction?r("path",{attrs:{d:"M11 0h1v3l3 7v8a2 2 0 01-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 012-2h7V2a2 2 0 012-2zm6 10h3v10h-3V10z"}}):r("path",{attrs:{d:"M11 20a2 2 0 01-2-2v-6H2a2 2 0 01-2-2V8l2.3-6.12A3.11 3.11 0 015 0h8a2 2 0 012 2v8l-3 7v3h-1zm6-10V0h3v10h-3z"}})])])}),[],!1,null,null,null).exports},props:{layout:{type:String,validator:function(t){return-1!==["vertical","horizontal"].indexOf(t)}},size:{type:Number,required:!0},total:{type:Number,required:!0},voteable:{type:String,required:!0},foreign:{type:String,required:!0},voted:{type:Number,required:!0}},data:function(){return{count:this.total,voteState:this.voted,previousDirection:null}},computed:{actualTotal:function(){return this.count<0?0:this.count}},methods:{handleVote:function(t){var e="down"===t.direction?-1:1;this.voteState===e?this.voteState=0:this.voteState=e}}},c=Object(s.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{flex:"vertical"!==t.layout}},["vertical"!==t.layout?r("div",{staticClass:"text-xl mr-2 mt-1"},[t.total&&t.total>0?r("span",[t._v(t._s(t.actualTotal))]):t._e()]):t._e(),t._v(" "),r("div",{staticClass:"mt-1",class:{flex:"vertical"!==t.layout}},[r("div",[r("vote",{class:{"text-gray-800":1===t.voteState},attrs:{size:t.size,direction:"up"},on:{voted:t.handleVote}})],1),t._v(" "),"vertical"===t.layout?r("div",{staticClass:"text-center -mt-1"},[t.total&&t.total>0?r("span",[t._v(t._s(t.actualTotal))]):t._e()]):t._e()])])}),[],!1,null,null,null);e.a=c.exports},198:function(t,e,r){"use strict";var n=r(2),i=r(4),a=r.n(i);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={props:["type","foreign"],components:{Submit:r(19).a},computed:o({},Object(n.c)("session",["user"]),{name:{get:function(){return this.user.name},set:function(t){this.setUserParam({param:"name",value:t}),this.nameRequiresSaving=!0}}}),data:function(){return{content:null,nameRequiresSaving:!1,saving:!1}},methods:o({},Object(n.b)("session",["setUserParam"]),{},Object(n.b)("messages",["addMessage"]),{save:function(){var t=this;this.saving=!0,this.nameRequiresSaving&&a.a.put("/profile/name",{name:this.name}),a.a.post("/comments/",{type:this.type,foreign:this.foreign,content:this.content}).then((function(e){t.addMessage({status:"success",message:"Comment posted."}),t.saving=!1,t.content="",t.$emit("comment-posted",e.data)}))}})},u=r(0),m=Object(u.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-4 sm:px-0"},[t.user?r("form",{on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[!t.user.name||t.nameRequiresSaving?r("div",{staticClass:"w-full"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-white bg-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]):t._e(),t._v(" "),r("div",{staticClass:"w-full mt-1"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"input-white bg-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{type:"text",rows:"4",placeholder:"Type here to comment on this "+t.type+"."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),r("submit",{staticClass:"mt-2",attrs:{text:"Comment",disabled:t.saving}})],1):r("div",{staticClass:"text-center"},[t._v("\n        You must be "),r("router-link",{staticClass:"link",attrs:{to:"/login/?from="+t.$route.path}},[t._v("logged in")]),t._v(" to participate in discussions.\n    ")],1)])}),[],!1,null,null,null);e.a=m.exports},25:function(t,e,r){"use strict";var n={mixins:[r(11).a],props:{user:{type:Object,required:!0},width:{type:Number,default:100}},computed:{avatar:function(){return this.user.avatar||"bauble"}}},i=r(0),a=Object(i.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"rounded-full",style:{width:this.width+"px"},attrs:{src:this.imageUrl("/heroes/"+this.avatar+".jpg",this.width),alt:this.user.name}})}),[],!1,null,null,null);e.a=a.exports},321:function(t,e,r){"use strict";r.r(e);var n=r(2),i=r(45),a=r(25),s=r(17),o=r(5),c=r(39),l=r(6),u=r(11),m={props:{content:{type:String,required:!0}},computed:{dynamicComponent:function(){return{template:this.content}}}},p=r(0),d=Object(p.a)(m,(function(){var t=this.$createElement;return(this._self._c||t)(this.dynamicComponent,{tag:"div"})}),[],!1,null,null,null).exports,f=r(7),v=r(18),h=r(8),g={props:{tag:{type:String,required:!0}},mixins:[h.a]},y=Object(p.a)(g,(function(){var t=this.$createElement;return(this._self._c||t)("router-link",{staticClass:"rounded inline-block py-1 px-2 mr-2",attrs:{to:{name:"articles.tag",params:{tag:this.kebabCase(this.ucfirst(this.tag.trim()))}}}},[this._v("\n    "+this._s(this.ucfirst(this.tag.trim()))+"\n")])}),[],!1,null,null,null).exports;function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _={components:{Avatar:a.a,Breadcrumbs:s.a,Discussion:c.a,HeaderTitle:l.a,Markdown:d,Tag:y},mixins:[o.a,h.a,u.a],computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(r,!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(n.c)("session",["user"]),{crumbs:function(){return[{text:"Home",link:"/"},{text:"Articles",link:"/articles"},{text:this.article.title}]}}),data:function(){return{article:null}},metaInfo:function(){return{title:this.article.title,meta:[{vmid:"description",name:"description",content:this.article.excerpt},{vmid:"og:type",property:"og:type",content:"article"},{vmid:"og:title",property:"og:title",content:this.article.title},{vmid:"og:description",property:"og:description",content:this.article.excerpt},{vmid:"og:image",property:"og:image",content:this.imageUrl(this.article.image,350)},{vmid:"og:image:width",property:"og:image:width",content:"450"},{vmid:"og:image:height",property:"og:image:height",content:"628"}]}},extends:Object(f.a)((function(t,e){axios.get("/articles/"+t.params.article).then((function(t){e((function(){this.article=v.a.hydrate(t.data.article,i.a),this.next=v.a.hydrate(t.data.next,i.a),this.prev=v.a.hydrate(t.data.prev,i.a)}))}))}))},w=Object(p.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header-title",{attrs:{title:"Articles"}}),t._v(" "),r("breadcrumbs",{attrs:{crumbs:t.crumbs}}),t._v(" "),r("div",{staticClass:"bg-gray-200"},[r("div",{staticClass:"article container sm:mx-auto py-8 flow-root p-4"},[r("div",[r("h1",{staticClass:"text-4xl uppercase font-serif"},[t._v(t._s(t.article.title))]),t._v(" "),t.article.tags?r("div",{staticClass:"mb-4"},t._l(t.article.tags.split(","),(function(e){return t.article.tags?r("tag",{key:e,staticClass:"bg-gray-400 text-gray-600 text-sm",attrs:{tag:e}}):t._e()})),1):t._e(),t._v(" "),r("div",{staticClass:"mb-8"},[r("span",{staticClass:"text-gray-600"},[t._v("Written by "),r("router-link",{staticClass:"link",attrs:{to:{name:"articles.author",params:{author:t.article.author.slug}}}},[t._v(t._s(t.article.author.name))])],1),t._v(" "),r("span",{staticClass:"text-gray-500"},[t._v("on")]),t._v(" "),r("span",{staticClass:"text-gray-600"},[t._v(t._s(t.article.published))])]),t._v(" "),r("markdown",{attrs:{content:t.parseMarkdown(t.article.content)}})],1),t._v(" "),t.article.author.blurb?r("div",{staticClass:"pt-4 my-8 flow-root"},[r("div",{staticClass:"float-left rounded-r-full bg-gray-200 mr-4 mb-4"},[r("router-link",{attrs:{to:{name:"articles.author",params:{author:t.article.author.slug}}}},[r("avatar",{attrs:{user:t.article.author,width:150}})],1)],1),t._v(" "),r("div",{staticClass:"mb-4 mt-2 border-t border-gray-400 pt-4"},[r("div",{staticClass:"font-serif uppercase text-2xl"},[r("router-link",{attrs:{to:{name:"articles.author",params:{author:t.article.author.slug}}}},[t._v(t._s(t.article.author.name))])],1),t._v(" "),r("div",[t._v(t._s(t.article.author.blurb))])])]):t._e(),t._v(" "),r("div",{staticClass:"flex w-full py-4 border-t border-gray-400"},[r("div",{staticClass:"flex-1"},[t.prev.valid()?r("router-link",{staticClass:"link",attrs:{to:t.prev.link}},[t._v("Previously: "+t._s(t.prev.title))]):t._e()],1),t._v(" "),r("div",{staticClass:"flex-1 text-right"},[t.next.valid()?r("router-link",{staticClass:"link",attrs:{to:t.next.link}},[t._v("Next up: "+t._s(t.next.title))]):t._e()],1)]),t._v(" "),r("div",{staticClass:"border-t border-gray-400"},[r("discussion",{attrs:{type:"article",id:t.article.slug}})],1)])])],1)}),[],!1,null,null,null);e.default=w.exports},37:function(t,e,r){"use strict";var n={mixins:[r(5).a],props:{subscriptionLevel:{type:String,required:!0},size:String},computed:{classes:function(){var t={};return t[{supporter:"bg-blue-400",majestic:"bg-yellow-500",legendary:"bg-black",trial:"bg-gray-400",promo:"bg-orange-600",fabled:"bg-green-400"}[this.subscriptionLevel]]=!0,"small"===this.size?(t["px-3"]=!0,t["py-1"]=!0,t["text-xs"]=!0):(t["px-4"]=!0,t["py-2"]=!0),t}}},i=r(0),a=Object(i.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"inline-block rounded-full text-white uppercase font-serif",class:this.classes},[this._v(this._s(this.ucfirst(this.subscriptionLevel)))])}),[],!1,null,null,null);e.a=a.exports},39:function(t,e,r){"use strict";var n=r(4),i=r.n(n),a={props:["comments"]},s=r(0),o=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("h2",{staticClass:"font-serif uppercase text-lg mt-4"},[this._v(this._s(this.comments?this.comments.length:0)+" comments.")])}),[],!1,null,null,null).exports,c=r(1),l=r.n(c);function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,r,n;return e=t,(r=[{key:"author",get:function(){return this.fields.user}},{key:"name",get:function(){return this.fields.user.name||"Anonymous"}},{key:"slug",get:function(){return this.fields.slug}},{key:"when",get:function(){return l.a.utc(this.fields.createdAt).local().fromNow()}},{key:"content",get:function(){return this.fields.content}},{key:"subscription",get:function(){return this.fields.user.subscription}},{key:"myVote",get:function(){return this.fields.myVote||0}},{key:"totalVotes",get:function(){return this.fields.totalVotes||0}}])&&u(e.prototype,r),n&&u(e,n),t}(),p=r(25),d=r(37),f=r(197),v={props:["comment"],components:{Avatar:p.a,Badge:d.a,Votes:f.a}},h=Object(s.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-4 sm:mx-0"},[r("div",{staticClass:"flex mb-4"},[r("div",{staticClass:"mr-4"},[r("avatar",{staticClass:"rounded-br-none",attrs:{user:t.comment.author,width:80}})],1),t._v(" "),r("div",{staticClass:"mr-4"},[r("votes",{attrs:{size:4,total:t.comment.totalVotes,voted:t.comment.myVote,voteable:"comment",foreign:t.comment.slug,layout:"vertical"}})],1),t._v(" "),r("div",{staticClass:"flex-1"},[r("header",{staticClass:"flex w-full"},[r("div",{staticClass:"flex items-center"},[r("span",{staticClass:"mr-4 font-bold"},[t._v(t._s(t.comment.name))]),t._v(" "),t.comment.subscription?r("badge",{attrs:{"subscription-level":t.comment.subscription,size:"small"}}):t._e()],1),t._v(" "),r("div",{staticClass:"text-gray-500 text-sm text-right"},[t._v(t._s(t.comment.createdAt))])]),t._v(" "),r("div",{staticClass:"mt-2"},[t._v(t._s(t.comment.content))])])]),t._v(" "),r("hr",{staticClass:"text-gray-500"})])}),[],!1,null,null,null).exports,g=r(18),y=r(198),b={props:{type:{type:String,required:!0},id:{type:String,required:!0}},components:{Comment:h,CommentCount:o,Respond:y.a},data:function(){return{comments:[]}},methods:{addComment:function(t){this.comments.push(new m(t))}},mounted:function(){var t=this;i.a.get("/comments/"+this.type+"/"+this.id).then((function(e){t.comments=g.a.hydrateMany(e.data,m)}))}},x=Object(s.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("comment-count",{attrs:{comments:t.comments}}),t._v(" "),t.comments.length?r("div",t._l(t.comments,(function(t){return r("comment",{key:t.slug,attrs:{comment:t}})})),1):t._e(),t._v(" "),r("respond",{staticClass:"mt-8",attrs:{type:t.type,foreign:t.id},on:{"comment-posted":t.addComment}})],1)}),[],!1,null,null,null);e.a=x.exports},45:function(t,e,r){"use strict";var n=r(8);function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields=e}var e,r,a;return e=t,(r=[{key:"valid",value:function(){return!!this.fields}},{key:"author",get:function(){return this.fields.author}},{key:"content",get:function(){return this.fields.content}},{key:"published",get:function(){return moment.utc(this.fields.publishAt).format("Do MMMM YYYY")}},{key:"publishedRelative",get:function(){return moment.utc(this.fields.publishAt).fromNow()}},{key:"excerpt",get:function(){return this.fields.excerpt}},{key:"image",get:function(){return this.fields.image}},{key:"slug",get:function(){return this.fields.slug}},{key:"tags",get:function(){return this.fields.tags}},{key:"title",get:function(){return this.fields.title}},{key:"link",get:function(){return"/articles/"+n.a.methods.kebabCase(this.title)+"/"+this.slug}}])&&i(e.prototype,r),a&&i(e,a),t}();e.a=a},7:function(t,e,r){"use strict";e.a=function(t){var e=function(){},r=function(r,n,i){t(r,(function(t){e=t,i()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}},8:function(t,e,r){"use strict";r(196);var n=r(247),i=r.n(n),a={a:"link",h1:"text-4xl",h2:"text-2xl",h3:"text-xl",ol:"list-decimal ml-8",p:"my-4",ul:"list-disc ml-8"},s=Object.keys(a).map((function(t){return{type:"output",regex:new RegExp("<".concat(t,"(.*)>"),"g"),replace:"<".concat(t,' class="').concat(a[t],'" $1>')}})),o=(r(26),[]),c="left",l={left:"sm:float-left sm:m-4 sm:ml-0",right:"sm:float-right sm:m-4 sm:mr-0"},u=[{type:"lang",regex:/\^cards\((([A-Z]{3}[0-9]{3},?)+)\)/gi,replace:function(t,e){return o.push(e),"%CARDS"+(o.length-1)+"%"}},{type:"output",filter:function(t){for(var e=0;e<o.length;++e){var r=o[e].split(","),n=r.map((function(t){return'<card-ad identifier="'+t+'"></card-ad>'})),i="%CARDS"+e+"%",a="";if(1===r.length){var s="right"===c?"left":"right";a=l[s],c=s}else a="flex items-start justify-center";t=t.replace(new RegExp(i,"gi"),'<div class="'+a+'">'+n.join("\n")+"</div>")}return o=[],t}}],m=[],p=[{type:"lang",regex:/\^deck\(([A-Z]+)\)/gi,replace:function(t,e){return m.push(e),"%DECK"+(m.length-1)+"%"}},{type:"output",filter:function(t){for(var e=0;e<m.length;++e){var r="<p>%DECK"+e+"% *</p>",n='<div class="block sm:m-8 mt-0 sm:float-right border border-gray-400"><iframe src="'+(window.location.protocol+"//"+window.location.hostname+"/decks/embed/"+m[e])+'" width="350" height="1200" id="deck-'+e+'" sandbox="allow-same-origin allow-scripts" scrolling="yes"></iframe></div>';t=t.replace(new RegExp(r,"gi"),n)}return m=[],t}}];var d,f=new i.a.Converter({extensions:[u,p].concat((d=s,function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(d)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[{type:"output",regex:/<blockquote>([^]+?)<\/blockquote>/gi,replace:'<blockquote class="relative py-2 px-8 pl-12 my-8 text-xl italic border border-l-4 quote rounded-lg z-0"><div class="stylistic-quote-mark text-gray-200" aria-hidden="true">&ldquo;</div><p>$1</p></blockquote>'}])}),v=function(t){return"<div>"+f.makeHtml(t)+"</div>"};e.a={methods:{kebabCase:function(t){return this.snakeCase(t,"-")},parseMarkdown:function(t){return v(t)},minimalMarkdown:function(t){return v(t)},prettyText:function(t){var e=this.prettified(t);return this.parseMarkdown(e)},prettified:function(t){var e=t.split("\n");return(e=e.map((function(t){for(var e=new RegExp(/\[([+-])?(([X0-9]{1})\s)?([a-z]+)\]/i);;){var r=e.exec(t);if(!r)return t;var n=r[1],i=r[3],a=r[4],s="";if("Pitch"===a&&(a="resource"),"Power"===a&&(a="attack"),a=a.toLowerCase(),n)s=n+i+'<img src="/img/'+a+'.png" class="inline-block h-5 align-middle">';else if(i)for(var o=0;o<i;o++)s+='<img src="/img/'+a+'.png" class="inline-block h-5">';else s+='<img src="/img/'+a+'.png" class="inline-block h-5">';t=t.replace(r[0],s,t)}}))).join("\n")},snakeCase:function(t,e){return e||(e="_"),t.toLowerCase().replace(/[^0-9a-z\s]+/g,"").replace(/\s+/g,e)},ucfirst:function(t){return t[0].toUpperCase()+t.slice(1)},imageDomain:function(){return window.settings.imageDomain},buildQuery:function(t){var e=encodeURIComponent;return Object.keys(t).map((function(r){return e(r)+"="+e(t[r])})).join("&")}}}}}]);
//# sourceMappingURL=articles.view.min.js.map?id=ad0d693ad6fe1b48588b