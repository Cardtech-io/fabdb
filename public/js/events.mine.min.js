(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"7PE5":function(t,e,n){"use strict";n.r(e);var r=n("L2JU"),s=n("3/o7"),a=n("gOpX"),i=n("nrFD"),c=n("Qd/B"),o=n("wrcC");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={components:{EventTypeIcon:i.a},props:["event"],mixins:[o.a],computed:u({},Object(r.c)("session",["user"]),{eventLink:function(){return{name:this.event.manager.slug==this.user.slug?"events.edit":"events.view",params:{event:this.event.slug}}},manager:function(){return this.event.manager.slug==this.user.slug},registered:function(){var t=this;return this.event.players.filter((function(e){return e.userId==t.user.id})).length}}),data:function(){return{time:c.a}},methods:u({},Object(r.b)("messages",["addMessage"]),{copyShareURL:function(){var t={name:"events.view",params:{event:this.event.slug}},e=this.$router.resolve(t);this.$copyText(location.protocol+"//"+location.host+e.href),this.addMessage({status:"success",message:"Event URL copied to clipboard."}),this.$router.push(t)}})},f=n("KHd+"),h=Object(f.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"block flex odd:bg-gray-100 hover:bg-white items-center mb-1"},[n("span",{staticClass:"block flex-initial py-4 px-8"},[n("router-link",{attrs:{to:t.eventLink}},[n("event-type-icon",{attrs:{type:t.event.type,size:16,title:t.event.type}})],1)],1),t._v(" "),n("div",{staticClass:"flex-auto py-4"},[n("router-link",{attrs:{to:t.eventLink}},[n("h2",{staticClass:"font-serif uppercase text-xl"},[t._v(t._s(t.event.name)+" "),n("span",{staticClass:"text-gray-500"},[t._v("("+t._s(t.ucfirst(t.event.type))+")")])]),t._v(" "),n("p",{staticClass:"text-base"},[t._v("\n                "+t._s(t.time.calendar(t.event.when))+"\n                "),n("span",{staticClass:"font-bold ml-2"},[t.event.fee?n("span",[t._v("$"+t._s(t.event.fee))]):n("span",[t._v("FREE")])])]),t._v(" "),t.manager?n("p",{staticClass:"text-sm text-blue-700"},[t._v("You are managing this event.")]):t._e(),t._v(" "),t.registered?n("p",{staticClass:"text-sm text-green-700"},[t._v("You are participating in this event.")]):t._e()])],1),t._v(" "),t.manager?n("a",{staticClass:"text-center py-6 px-8 flex-initial border-l border-gray-200 link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.copyShareURL()}}},[n("svg",{staticClass:"fill-current w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("title",[t._v("Share event")]),t._v(" "),n("path",{attrs:{d:"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7-4.8 4.8 1.42 1.4L9 3.84z"}})])]):t._e(),t._v(" "),n("span",{staticClass:"text-center py-6 px-8 flex-initial border-l border-gray-200 flex items-center"},[n("svg",{staticClass:"inline-block fill-current w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M5 5a5 5 0 0110 0v2A5 5 0 015 7V5zM0 16.68A19.9 19.9 0 0110 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"}})]),t._v(" "),n("span",{staticClass:"text-2xl ml-2"},[t._v(t._s(t.event.playerCount))])])])}),[],!1,null,null,null).exports,d=n("A8c3"),b=n("laeN");function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={components:{Button:a.a,Crumbs:s.a,EventItem:h,EventTypeIcon:i.a,HeaderTitle:d.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.c)("session",["user"])),data:function(){return{crumbs:[{text:"Home",name:"home"},{text:"My Events"}],events:[]}},extends:Object(b.a)((function(t,e){axios.get("/events").then((function(t){e((function(){this.events=t.data}))}))}))},x=Object(f.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header-title",{attrs:{title:"My events"}}),t._v(" "),n("div",{staticClass:"crumbs font-serif uppercase"},[n("div",{staticClass:"container sm:mx-auto p-4 flex"},[n("div",{staticClass:"flex-auto"},[n("crumbs",{attrs:{crumbs:t.crumbs}})],1),t._v(" "),n("div",{staticClass:"text-right flex-auto"},["owner"==t.user.role||"editor"==t.user.role?n("router-link",{staticClass:"rounded-full py-2 px-4 button-primary",attrs:{to:{name:"events.start"}}},[t._v("Schedule an event")]):t._e()],1)])]),t._v(" "),n("div",{staticClass:"bg-gray-200"},[n("div",{staticClass:"container sm:mx-auto p-4 py-8"},[t.events.length?n("ol",t._l(t.events,(function(t){return n("event-item",{key:t.slug,attrs:{event:t}})})),1):n("div",[t._v("\n                You have not yet registered any events. To register one, click the button top-right.\n            ")])])])],1)}),[],!1,null,null,null);e.default=x.exports},"Qd/B":function(t,e,n){"use strict";var r=n("wd/R"),s=n.n(r);e.a={toLocal:function(t){return s.a.utc(t).local()},calendar:function(t){return this.toLocal(t).calendar()}}},gOpX:function(t,e,n){"use strict";var r={props:["text","handler","value"],methods:{handleClick:function(){this.handler&&this.handler(this.value)}}},s=n("KHd+"),a=Object(s.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"appearance-none block w-full bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500",on:{click:function(e){return t.handleClick()}}},[t._v("\n    "+t._s(t.text)+"\n")])}),[],!1,null,null,null);e.a=a.exports},laeN:function(t,e,n){"use strict";e.a=function(t){var e=function(){},n=function(n,r,s){t(n,(function(t){e=t,s()}))};return{beforeRouteEnter:n,beforeRouteUpdate:n,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}},nrFD:function(t,e,n){"use strict";var r={mixins:[n("wrcC").a],props:["type","size","title"],methods:{path:function(){return{constructed:"M6 4H5a1 1 0 110-2h11V1a1 1 0 00-1-1H4a2 2 0 00-2 2v16c0 1.1.9 2 2 2h12a2 2 0 002-2V5a1 1 0 00-1-1h-7v8l-2-2-2 2V4z",draft:"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z",sealed:"M18 2a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z"}[this.type]},sizes:function(){return"h-"+this.size+" w-"+this.size}}},s=n("KHd+"),a=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"fill-current mx-auto",class:t.sizes(),attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.title?n("title",[t._v(t._s(t.ucfirst(t.title)))]):t._e(),t._v(" "),n("path",{attrs:{d:t.path()}})])}),[],!1,null,null,null);e.a=a.exports}}]);