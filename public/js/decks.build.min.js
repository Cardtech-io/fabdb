(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{12:function(t,e,r){"use strict";var s=r(15);e.a={computed:{attacksPerHand:function(){return(this.totalAttacks/(this.totalOther/4)).toFixed(1)},averageAttack:function(){return(s.a.reduce(this.attacks,(function(t,e){return t+e.stats.attack*e.total}),0)/this.totalAttacks).toFixed(1)},averageBlock:function(){return(s.a.reduce(this.blocks,(function(t,e){return t+e.stats.defense*e.total}),0)/this.totalBlocks).toFixed(1)},averageCost:function(){var t=this.other.reduce((function(t,e){return e.stats.cost&&!isNaN(e.stats.cost)?t+e.stats.cost*e.total:t}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},averagePitch:function(){var t=this.other.reduce((function(t,e){return e.stats.resource?t+e.stats.resource*e.total:t+0}),0);return(this.totalOther?t/this.totalOther:0).toFixed(2)},hero:function(){if(this.cards)return this.cards.filter((function(t){return t.keywords.includes("hero")}))[0]},attacks:function(){return this.other.filter((function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}))},blocks:function(){return this.other.filter((function(t){return t.stats.defense&&t.stats.defense>0}))},weapons:function(){return this.cards.filter((function(t){return t.keywords.includes("weapon")}))},equipment:function(){return this.cards.filter((function(t){return t.keywords.includes("equipment")}))},other:function(){var t=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return s.a.sortBy(t,(function(t){return t.stats.resource}))},totalOther:function(){return this.other.reduce((function(t,e){return t+e.total}),0)},totalAttacks:function(){return this.attacks.reduce((function(t,e){return t+e.total}),0)},totalBlocks:function(){return this.blocks.reduce((function(t,e){return t+e.total}),0)},totalClass:function(){return this.countCards(this.other.filter((function(t){return!t.keywords.includes("generic")})))},totalGeneric:function(){return this.countCards(this.other.filter((function(t){return t.keywords.includes("generic")})))},totalCards:function(){var t=this.other.filter((function(t){return!t.keywords.includes("token")})).reduce((function(t,e){return t+e.total}),0);return this.deck&&"blitz"===this.deck.format&&this.hero&&t++,t+this.equipment.reduce((function(t,e){return t+e.total}),0)+this.weapons.reduce((function(t,e){return t+e.total}),0)},totalActions:function(){return this.totalCardType(this.other,["action"])},totalAttackActions:function(){return this.totalCardType(this.other,["action","attack"])},totalAttackReactions:function(){return this.totalCardType(this.other,["attack","reaction"])},totalDefenseReactions:function(){return this.totalCardType(this.other,["defense","reaction"])},totalInstants:function(){return this.totalCardType(this.other,["instant"])},totalColoured:function(){return{blue:this.countColoured("blue"),yellow:this.countColoured("yellow"),red:this.countColoured("red")}}},methods:{costCount:function(t){return this.other.filter((function(e){return t<3?e.stats.cost==t:e.stats.cost>=t})).reduce((function(t,e){return t+e.total}),0)},countColoured:function(t){var e={blue:3,yellow:2,red:1},r=this.other.filter((function(r){return r.stats.resource==e[t]})),s=0;for(var n in r)s+=r[n].total;return s},pitchCount:function(t){return this.other.filter((function(e){return e.stats.resource==t})).reduce((function(t,e){return t+e.total}),0)},averageCardType:function(t,e){return(this.totalCardType(t,e)/t.length).toFixed(1)},totalCardType:function(t,e){return t.reduce((function(t,r){for(var s=0,n=0;n<e.length;n++)r.keywords.includes(e[n])&&s++;return s<e.length?t:t+r.total}),0)},countCards:function(t){return s.a.reduce(t,(function(t,e){return t+e.total}),0)}}}},20:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var s=r(15);function n(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cards=e}var e,r,a;return e=t,(r=[{key:"applyFilters",value:function(e){var r=this;return new t(this.cards.filter((function(t){return!!(e.indexOf("actions")>-1&&r.isAction(t)||e.indexOf("attacks")>-1&&r.isAttack(t)||e.indexOf("attackReactions")>-1&&r.isAttackReaction(t)||e.indexOf("instants")>-1&&r.isInstant(t)||e.indexOf("defenseReactions")>-1&&r.isDefenseReaction(t))})))}},{key:"isAction",value:function(t){return t.keywords.includes("action")&&!t.keywords.includes("attack")}},{key:"isAttack",value:function(t){return t.keywords.includes("attack")&&!t.keywords.includes("reaction")}},{key:"isAttackReaction",value:function(t){return t.keywords.includes("attack")&&t.keywords.includes("reaction")}},{key:"isDefenseReaction",value:function(t){return t.keywords.includes("defense")&&t.keywords.includes("reaction")}},{key:"isInstant",value:function(t){return t.keywords.includes("instant")}},{key:"hero",value:function(){return this.cards.filter((function(t){return t.keywords.includes("hero")}))[0]}},{key:"miscellaneous",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("resource")})))}},{key:"attackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttack(t)})))}},{key:"nonAttackActions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAction(t)})))}},{key:"attackReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isAttackReaction(t)})))}},{key:"defenseReactions",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isDefenseReaction(t)})))}},{key:"weapons",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("weapon")})))}},{key:"equipment",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("equipment")})))}},{key:"items",value:function(){return new t(this.cards.filter((function(t){return t.keywords.includes("item")})))}},{key:"instants",value:function(){var e=this;return new t(this.cards.filter((function(t){return e.isInstant(t)})))}},{key:"colouredCount",value:function(t){var e={blue:3,yellow:2,red:1};return this.filter((function(r){return r.stats.resource&&r.stats.resource==e[t]})).total()}},{key:"other",value:function(){var e=this.cards.filter((function(t){return!(t.keywords.includes("hero")||t.keywords.includes("equipment")||t.keywords.includes("weapon"))}));return new t(s.a.sortBy(e,(function(t){return t.stats.resource})))}},{key:"withCost",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.cost)}))}},{key:"withResource",value:function(){return this.other().filter((function(t){return!isNaN(t.stats.resource)}))}},{key:"sort",value:function(){return new t(s.a.sortBy(this.cards,(function(t){var e=t.stats?t.stats.resource:"";return t.name+e})))}},{key:"filter",value:function(e){return new t(this.cards.filter(e))}},{key:"find",value:function(t){return this.cards.filter((function(e){return e.identifier===t.identifier}))[0]}},{key:"findKey",value:function(t){for(var e in this.cards)if(this.cards[e].identifier===t.identifier)return e}},{key:"hydrate",value:function(){return new t(this.cards.reduce((function(t,e){for(var r=0;r<e.total;r++)t.push(e);return t}),[]))}},{key:"total",value:function(){return this.cards.reduce((function(t,e){return t+e.total}),0)}},{key:"count",value:function(){return this.cards.length}},{key:"add",value:function(t){var e=this.find(t);e?e.total+=1:(t.total=1,this.cards.push(t))}},{key:"group",value:function(e){var r="string"==typeof e?function(t){return t[e]}:e;return new t(Object.values(s.a.groupBy(this.cards,r)))}},{key:"concat",value:function(e){return e=e instanceof t?e.all():e,new t(this.cards.concat(e))}},{key:"remove",value:function(t){var e=this.find(t);if(e.total>1)e.total-=1;else{var r=this.findKey(t);r&&this.cards.splice(r,1)}}},{key:"all",value:function(){return this.cards}},{key:Symbol.iterator,value:function(){return this.cards.values()}}])&&n(e.prototype,r),a&&n(e,a),t}()},202:function(t,e,r){var s=r(290);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(34)(s,n);s.locals&&(t.exports=s.locals)},206:function(t,e,r){"use strict";var s=r(218),n=r(13),a=r.n(n);e.a={extends:s.a,props:{cards:{required:!0,type:Object},stat:{required:!0,type:String},strategy:{required:!0,type:String,validator:function(t){return-1!==["total","length"].indexOf(t)}}},methods:{colours:function(t){if("resource"===this.stat)return["239,68,68","251,191,37","96,165,250"];for(var e=[],r=0;r<t.length;r++){var s=180-r/t.length*180,n=r/t.length*255;e.push([n+", "+s+", 30"])}return e},update:function(t){var e=this,r=this.values(t),s="resource"===this.stat?"Pitch":"Cost",n=this.colours(a.a.keys(r)),i={labels:a.a.keys(r).map((function(t){return"resource"===e.stat?"Pitch "+t:"Cost "+t})),datasets:[{label:s,backgroundColor:n.map((function(t){return"rgba("+t+", 0.6)"})),borderColor:n.map((function(t){return"rgba("+t+", 1)"})),borderWidth:1,data:a.a.values(r)}]};this.renderChart(i,{legend:{display:!0,position:"bottom"},responsive:!0,maintainAspectRatio:!1,fill:!1,scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{ticks:{stepSize:10,suggestedMin:0}}]}})},values:function(t){var e=this;return a()(t.all()).groupBy((function(t){return t.stats[e.stat]||0})).mapValues((function(t){return"total"===e.strategy?t.reduce((function(t,e){return t+e.total}),0):t.length})).value()}},watch:{cards:function(t){this.update(t)}},mounted:function(){this.update(this.cards)}}},211:function(t,e,r){"use strict";var s={props:["text","handler","value"],methods:{handleClick:function(){this.handler&&this.handler(this.value)}}},n=r(0),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"appearance-none block w-full bg-red-700 text-white rounded-lg py-3 px-4 leading-tight focus:outline-none hover:bg-red-500",on:{click:function(e){return t.handleClick()}}},[t._v("\n    "+t._s(t.text)+"\n")])}),[],!1,null,null,null);e.a=a.exports},212:function(t,e,r){"use strict";var s=r(4),n=r.n(s),a=r(28),i=r(8),o={props:["deck"],components:{HeroAvatar:a.a},mixins:[i.a],data:function(){return{availableHeroes:[]}},computed:{heroes:function(){var t=this;return this.deck&&this.deck.practise?this.availableHeroes.filter((function(e){return-1!==e.keywords.indexOf("young")&&e.sku.set.id===t.deck.practise.set.id})):this.availableHeroes}},methods:{selectHero:function(t){this.$emit("hero-selected",t),this.$eventHub.$emit("hero-selected",t,this.type(t))},type:function(t){return-1!==t.keywords.indexOf("young")?"Blitz":"Constructed"}},mounted:function(){var t=this;n.a.get("/cards/heroes").then((function(e){t.availableHeroes=e.data}))}},c=r(0),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ol",{staticClass:"flex flex-wrap my-8"},t._l(t.heroes,(function(e){return r("li",{staticClass:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 mb-8"},[r("button",{staticClass:"block cursor-pointer mx-auto",on:{click:function(r){return r.preventDefault(),t.selectHero(e)}}},[r("hero-avatar",{attrs:{hero:e,name:e.name,width:150}}),t._v(" "),r("div",{staticClass:"flex -mt-5"},[r("div",{staticClass:"w-1/2 flex justify-end mr-2"},[r("span",{staticClass:"text-lg"},[t._v(t._s(e.stats.intellect))]),t._v(" "),r("img",{staticClass:"block h-10 ml-1 border-2 border-gray-200 rounded-full",attrs:{src:"/img/intellect.png"}})]),t._v(" "),r("div",{staticClass:"w-1/2 flex ml-2 "},[r("img",{staticClass:"block h-10 mr-1 border-2 border-gray-200 rounded-full",attrs:{src:"/img/life.png"}}),t._v(" "),r("span",{staticClass:"text-lg"},[t._v(t._s(e.stats.life))])])])],1),t._v(" "),r("div",{staticClass:"mt-4 text-center font-serif uppercase text-lg overflow-hidden",staticStyle:{"max-height":"20px"}},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"mt-2 text-center"},[t._v(t._s(t.type(e)))])])})),0)}),[],!1,null,null,null);e.a=l.exports},215:function(t,e,r){"use strict";var s={props:{grouping:{type:String,required:!0},options:{type:Object,required:!0}},data:function(){return{isOpen:!1}},methods:{select:function(t){this.$emit("selected",t),this.isOpen=!1}}},n=r(0),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"relative font-serif"},[r("button",{staticClass:"relative text-left border border-gray-200 text-base font-serif rounded-lg px-4 py-2 uppercase hover:bg-white hover:border-gray-500 flex",class:{"border-gray-500":t.isOpen,"bg-white":t.isOpen,"bg-gray-200":!t.isOpen,"z-75":t.isOpen},staticStyle:{width:"150px"},on:{click:function(e){t.isOpen=!t.isOpen}}},[r("span",{staticClass:"inline-block mr-1 flex-1"},[t._v(t._s(t.options[t.grouping]||"Grouping"))]),t._v(" "),r("svg",{staticClass:"inline-block h-6 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])]),t._v(" "),t.isOpen?r("button",{staticClass:"fixed top-0 right-0 bottom-0 left-0 bg-red z-50 bg-black opacity-25 w-full h-full cursor-default",attrs:{type:"button"},on:{click:function(e){t.isOpen=!1}}}):t._e(),t._v(" "),t.isOpen?r("div",{staticClass:"w-full absolute right-0 rounded-lg bg-white z-100 overflow-hidden mt-2 border border-gray-500"},t._l(t.options,(function(e,s){return r("button",{staticClass:"w-full text-base text-left px-4 py-2 hover:bg-blue-400 hover:text-white uppercase",on:{click:function(e){return t.select(s)}}},[t._v(t._s(e))])})),0):t._e()])}),[],!1,null,null,null);e.a=a.exports},216:function(t,e,r){"use strict";var s={props:{toggle:{type:Function,required:!0},fullScreen:{type:Boolean,required:!0}}},n=r(0),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"block link-alternate",on:{click:function(e){return e.preventDefault(),t.toggle.apply(null,arguments)}}},[r("svg",{staticClass:"fill-current h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.fullScreen?r("path",{attrs:{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}}):r("path",{attrs:{d:"M2.8 15.8L0 13v7h7l-2.8-2.8 4.34-4.32-1.42-1.42L2.8 15.8zM17.2 4.2L20 7V0h-7l2.8 2.8-4.34 4.32 1.42 1.42L17.2 4.2zm-1.4 13L13 20h7v-7l-2.8 2.8-4.32-4.34-1.42 1.42 4.33 4.33zM4.2 2.8L7 0H0v7l2.8-2.8 4.32 4.34 1.42-1.42L4.2 2.8z"}})])])}),[],!1,null,null,null);e.a=a.exports},22:function(t,e,r){"use strict";var s={props:["results"],computed:{data:function(){return this.results.meta?this.results.meta:this.results},pageRange:function(){var t=this.data.current_page,e=this.data.last_page,r=t-3;r+6>e&&(r=e-6),r<1&&(r=1);var s=r+6;s>e&&(s=e);for(var n=[],a=r;a<=s;a++)n.push(a);return n}},methods:{active:function(t){return{"button-secondary":this.data.current_page===t}},disabled:function(t){return t?"hidden":"button-secondary"},select:function(t){this.selectPage(t)},next:function(){this.data.current_page>=this.data.last_page||this.selectPage(this.data.current_page+1)},previous:function(){this.results.current_page<=1||this.selectPage(this.data.current_page-1)},selectPage:function(t){this.$emit("page-selected",t)}}},n=r(0),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.data?r("div",{staticClass:"flex text-sm justify-center"},[r("a",{staticClass:"inline-block rounded p-2 mr-1",class:t.disabled(1==t.data.current_page),attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.previous.apply(null,arguments)}}},[t._v("<")]),t._v(" "),r("span",{staticClass:"inline-block rounded overflow-hidden"},t._l(t.pageRange,(function(e){return r("a",{staticClass:"inline-block sm:rounded p-2 sm:mr-1 button-primary",class:t.active(e),attrs:{href:""},on:{click:function(r){return r.preventDefault(),t.select(e)}}},[t._v(t._s(e))])})),0),t._v(" "),r("a",{staticClass:"inline-block rounded p-2 ml-1 sm:ml-0",class:t.disabled(t.data.current_page>=t.data.last_page),attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.next.apply(null,arguments)}}},[t._v(">")])]):t._e()}),[],!1,null,null,null);e.a=a.exports},269:function(t,e){},28:function(t,e,r){"use strict";var s={mixins:[r(11).a],props:{hero:{type:Object,required:!0},name:{type:String},width:{default:100}}},n=r(0),a=Object(n.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"rounded-full",attrs:{src:this.heroProfile(this.hero,this.width),alt:this.name}})}),[],!1,null,null,null);e.a=a.exports},289:function(t,e,r){"use strict";var s=r(202);r.n(s).a},290:function(t,e,r){(e=t.exports=r(29)(!1)).i(r(255),""),e.push([t.i,"\n",""])},311:function(t,e,r){"use strict";r.r(e);var s=r(2),n=r(211),a=r(5),i=r(9),o={methods:{addRemote:function(t,e){var r=this;return axios.post("/decks/"+this.$route.params.deck,{card:t.identifier}).then((function(t){e&&e(t)})).catch((function(t){t.response&&422==t.response.status&&r.addMessage({status:"error",message:t.response.data.errors.card[0]})}))},addLocal:function(t){var e=this.findCard(t);e?e.total+=1:(t.total=1,this.cards.push(t))},copyShareURL:function(){this.$copyText("https://fabdb.net/decks/"+this.deck.slug),this.addMessage({status:"success",message:"URL copied to clipboard."})},removeLocal:function(t){var e=this.findCard(t);if(e.total>1)e.total-=1;else{var r=null;for(var s in this.cards){if(this.cards[s].identifier==t.identifier){r=s;break}}r&&this.cards.splice(r,1)}},removeRemote:function(t,e){var r=this;return axios.delete("/decks/"+this.$route.params.deck+"/"+t.identifier).then((function(t){e&&e(t)})).catch((function(t){t.response&&422==t.response.status&&r.addMessage({status:"error",message:t.response.data.errors.card[0]})}))},setRemote:function(t,e,r){var s=this;return axios.put("/decks/"+this.$route.params.deck+"/"+t.identifier,{card:t.identifier,total:e}).then((function(t){r&&r(t)})).catch((function(t){t.response&&422==t.response.status&&s.addMessage({status:"error",message:t.response.data.errors.card[0]})}))},findCard:function(t){return this.cards.filter((function(e){return e.identifier===t.identifier}))[0]}}};function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={props:{card:{type:Object,required:!0},total:{type:Number,required:!0}},mixins:[a.a,o],computed:l({},Object(s.e)("deck",["deck","cards","fullScreen","view"]),{},Object(s.c)("session",["user"])),methods:l({},Object(s.b)("deck",["addCard","removeCard","setCardTotal"]),{},Object(s.b)("messages",["addMessage"]),{addCardToDeck:function(){var t=this;this.addRemote(this.card,(function(){t.addCard({card:t.card}),t.$eventHub.$emit("card-selected")}))},removeCardFromDeck:function(){var t=this;this.removeRemote(this.card,(function(){t.removeCard({card:t.card}),t.$eventHub.$emit("card-selected")}))}})},f=r(0);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={props:["action","card"],components:{CardButtons:Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex overflow-hidden"},[r("button",{staticClass:"py-2 ml-1px w-1/2 bg-gray-300",class:{"hover:bg-white":t.total>0,"text-gray-400":0===t.total},attrs:{disabled:0===t.total},on:{click:t.removeCardFromDeck}},[t._v("-")]),t._v(" "),r("button",{staticClass:"py-2 ml-1px w-1/2 bg-gray-300",class:{"hover:bg-white":t.total<t.maxAvailable,"text-gray-400":t.total>=t.maxAvailable},attrs:{disabled:t.total>=t.maxAvailable},on:{click:t.addCardToDeck}},[t._v("+")])])}),[],!1,null,null,null).exports,Colour:r(35).a},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(r,!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(s.e)("deck",["cards"]),{total:function(){var t=this;if(void 0!==this.card.total)return this.card.total;var e=this.cards.filter((function(e){return e.identifier===t.card.identifier}));return e[0]?e[0].total:0}}),methods:{setHover:function(t){this.$eventHub.$emit("hover-card",t)}}},m=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-full flex items-center mb-1px"},[r("card-buttons",{staticClass:"w-1/5",attrs:{card:t.card,total:t.total}}),t._v(" "),r("div",{staticClass:"w-3/5 pl-4 p-2 ml-1px bg-gray-300 cursor-default"},[r("div",{staticClass:"whitespace-no-wrap overflow-hidden"},[r("colour",{staticClass:"mr-2",attrs:{resource:t.card.stats.resource}}),t._v(" "),r("span",{staticClass:"cursor-help",on:{mouseover:function(e){return t.setHover(t.card)},mouseleave:function(e){return t.setHover(!1)},click:function(e){return t.setHover(t.card)}}},[t._v(t._s(t.card.name))])],1)]),t._v(" "),r("div",{staticClass:"w-1/5 text-center bg-gray-300 py-2 ml-1px"},[t._v("\n        "+t._s(t.total)+"\n    ")])],1)}),[],!1,null,null,null).exports,b={props:["cards","card","title"],components:{CardItem:m}},g=Object(f.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.cards&&t.cards.total()?r("div",{staticClass:"mb-8"},[r("h3",{staticClass:"pb-2 font-serif uppercase text-xl"},[t._v(t._s(t.title)+" ("+t._s(t.cards.total())+")")]),t._v(" "),t._l(t.cards,(function(t){return r("card-item",{key:t.identifier,attrs:{card:t}})}))],2):t._e(),t._v(" "),t.card?r("div",{staticClass:"mb-8"},[r("h3",{staticClass:"pb-2 font-serif uppercase text-xl"},[t._v(t._s(t.title))]),t._v(" "),r("card-item",{attrs:{card:t.card}})],1):t._e()])}),[],!1,null,null,null).exports,y=r(20),w=r(10),k={props:{open:{type:Boolean,required:!0}},components:{Icon:w.a}},O=Object(f.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("icon",{attrs:{size:6}},[this.open?e("path",{attrs:{d:"M20 10a10 10 0 11-20 0 10 10 0 0120 0zM10 2a8 8 0 100 16 8 8 0 000-16zm-.7 10.54L5.75 9l1.41-1.41L10 10.4l2.83-2.82L14.24 9 10 13.24l-.7-.7z"}}):e("path",{attrs:{d:"M0 10a10 10 0 1120 0 10 10 0 01-20 0zm10 8a8 8 0 100-16 8 8 0 000 16zm.7-10.54L14.25 11l-1.41 1.41L10 9.6l-2.83 2.8L5.76 11 10 6.76l.7.7z"}})])}),[],!1,null,null,null).exports,x=r(206),_={props:["text","value","position"],methods:{bottom:function(){return"bottom"==this.position||"both"==this.position},top:function(){return"top"==this.position||"both"==this.position}}},C=Object(f.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"block w-full flex mb-1"},[r("div",{staticClass:"w-3/4 bg-white p-2 mr-1",class:{"rounded-tl-lg":t.top(),"rounded-bl-lg":t.bottom()}},[t._v(t._s(t.text))]),t._v(" "),r("div",{staticClass:"w-1/4 bg-white py-2 text-center",class:{"rounded-tr-lg":t.top(),"rounded-br-lg":t.bottom()}},[t._v(t._s(t.value))])])}),[],!1,null,null,null).exports,j=r(12);function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function D(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S={mixins:[j.a],components:{Stat:C},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(r,!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(s.e)("deck",["cards"]))},T=Object(f.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ol",{staticClass:"mt-2 text-base"},[r("stat",{attrs:{value:t.averageCost,text:"Avg cost",position:"top"}}),t._v(" "),r("stat",{attrs:{value:t.averagePitch,text:"Avg pitch"}}),t._v(" "),r("stat",{attrs:{value:t.pitchCount(1),text:"Pitch 1"}}),t._v(" "),r("stat",{attrs:{value:t.pitchCount(2),text:"Pitch 2"}}),t._v(" "),r("stat",{attrs:{value:t.pitchCount(3),text:"Pitch 3"}}),t._v(" "),r("stat",{attrs:{value:t.costCount(0),text:"Cost 0"}}),t._v(" "),r("stat",{attrs:{value:t.costCount(1),text:"Cost 1"}}),t._v(" "),r("stat",{attrs:{value:t.costCount(2),text:"Cost 2"}}),t._v(" "),r("stat",{attrs:{value:t.costCount(3),text:"Cost 3+",position:"bottom"}})],1)])}),[],!1,null,null,null).exports,E=r(38),z=r(43);function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var M={props:["action","cards","groupId","width"],mixins:[a.a,z.a,j.a],components:{Banned:E.a,CardImage:i.a},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(r,!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(s.e)("deck",["deck","fullScreen","grouping","mode","sections","zoom"]),{},Object(s.c)("session",["user"]),{cardClasses:function(){return[this.width||"w-1/2 sm:w-1/"+(this.cardWidth-2)+" sm:w-1/"+(this.cardWidth-1)+"  md:w-1/"+this.cardWidth,"rounded-card"]},cardWidth:function(){return[3,4,5,6,7,8][this.zoom]},groupedCards:function(){if("name"===this.grouping)return this.cards.group("name");var t="cost"===this.grouping?"cost":"resource";return this.cards.filter((function(e){return""!==e.stats[t]})).group((function(e){return e.stats[t]}))},offset:function(){return"borderless"===this.user.view?10:12},pad:function(){return"borderless"===this.user.view?17:18},rounded:function(){return this.fullScreen?["rounded-xl","rounded-lg","rounded-lg","rounded"][this.zoom]:["rounded-lg","rounded-lg","rounded","rounded"][this.zoom]}}),methods:{margin:function(t){var e=t-1;if(e>0)return"margin-bottom: "+e*this.pad+"%"},styles:function(t){var e=[],r=t;return e.push("z-index: "+r),e.push("position: absolute"),e.push("top: "+t*this.offset+"%"),e.push("left: 0"),e.join("; ")}},watch:{cards:function(){this.redraw(this.groupId)},fullScreen:function(){this.redraw(this.groupId)},mode:function(){this.redraw(this.groupId)},zoom:function(){this.redraw(this.groupId)},sections:{handler:function(){this.redraw(this.groupId)},deep:!0}}},R=Object(f.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"pb-2 mx-2",attrs:{"destroy-delay":"2000",containerId:t.groupId,"transition-duration":"0.3s"}},[t._l(t.groupedCards,(function(e){return r("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],class:t.cardClasses},[r("div",{staticClass:"relative my-4 mx-2"},[r("img",{staticClass:"block w-full invisible",style:t.margin(e.length),attrs:{src:e[0].image}}),t._v(" "),t._l(e,(function(e,s){return r("div",{staticClass:"relative rounded-card w-full",style:t.styles(s)},[r("card-image",{staticClass:"w-full",class:{"shadow-error":(!e.totalOwned||e.totalOwned<s+1)&&2===t.deck.limitToCollection},attrs:{card:e,width:350,clickHandler:t.action||!1}}),t._v(" "),e.banned?r("banned"):t._e()],1)}))],2)])})),t._v(" "),t._t("default",null,{classes:t.cardClasses})],2)}),[],!1,null,null,null).exports,H=r(212);function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var I={mixins:[j.a],components:{Stat:C},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(r,!0).forEach((function(e){q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(s.e)("deck",["cards"]))},B=Object(f.a)(I,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ol",{staticClass:"mt-2"},[r("stat",{attrs:{value:t.totalCards,text:"Cards",position:"top"}}),t._v(" "),r("stat",{attrs:{value:t.totalClass,text:"Class",position:"both"}}),t._v(" "),r("stat",{attrs:{value:t.totalGeneric,text:"Generic",position:"bottom"}})],1),t._v(" "),r("ol",{staticClass:"mt-4 text-base"},[r("stat",{attrs:{value:t.totalActions,text:"Actions",position:"top"}}),t._v(" "),r("stat",{attrs:{value:t.totalAttackActions,text:"Att. actions"}}),t._v(" "),r("stat",{attrs:{value:t.totalAttackReactions,text:"Att. reactions"}}),t._v(" "),r("stat",{attrs:{value:t.totalDefenseReactions,text:"Def. reactions"}}),t._v(" "),r("stat",{attrs:{value:t.totalInstants,text:"Instants",position:"bottom"}})],1)])}),[],!1,null,null,null).exports;function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(r,!0).forEach((function(e){V(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G={props:["collection"],mixins:[a.a,o,j.a],components:{CardImage:i.a,CardItemSection:g,Chevron:O,DeckCurves:x.a,FormButton:n.a,General:T,GroupedCards:R,HeroSelector:H.a,Totals:B},computed:F({},Object(s.e)("deck",["deck","filters","grouping","mode","sections","view","zoom"]),{},Object(s.c)("session",["user"]),{all:function(){if(!this.collection.length)return new y.a([]);var t=new y.a(this.collection),e=t.hero()?new y.a([t.hero()]):new y.a([]);return(e=(e=(e=e.concat(t.weapons())).concat(t.equipment())).concat(t.other())).hydrate()},cards:function(){return new y.a(this.collection)},loadout:function(){return this.all.weapons().concat(this.all.equipment())},other:function(){return this.all.other()}}),methods:F({},Object(s.b)("deck",["addCard","setMode","removeCard","toggleSection"]),{addToDeck:function(t){var e=this;this.addRemote(t,(function(r){e.addCard({card:t}),e.setMode({mode:"search"}),e.$eventHub.$emit("hero-selected",t,e.type(t))}))},filter:function(t){return t.applyFilters(this.filters)},removeFromDeck:function(t){this.removeRemote(t),this.removeCard({card:t})}})},W=Object(f.a)(G,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pb-24 text-base"},[t.cards.hero()?r("div",["gallery"===t.view?r("div",[t.user.subscription?r("div",{staticClass:"md:flex m-4"},[r("div",{staticClass:"md:mr-4 md:w-auto md:max-w-250 flow-root"},[r("div",{staticClass:"w-1/2 md:w-auto pr-4 md:p-0 float-left md:float-none"},[r("card-image",{staticClass:"mb-4",attrs:{card:t.cards.hero()}})],1),t._v(" "),r("div",{staticClass:"w-1/2 md:w-auto float-left md:float-none"},[r("div",{staticClass:"bg-white rounded-lg pl-2 pr-4 pt-4 pb-2"},[r("deck-curves",{staticClass:"mb-4 h-140 sm:h-160",attrs:{cards:t.other.withCost(),stat:"cost",strategy:"length"}})],1),t._v(" "),r("div",{staticClass:"bg-white rounded-lg pl-2 pr-4 pt-4 pb-2 mt-4"},[r("deck-curves",{staticClass:"mb-4 h-140 sm:h-160",attrs:{cards:t.other.withResource(),stat:"resource",strategy:"length"}})],1)]),t._v(" "),r("div",{staticClass:"hidden md:block"},[r("div",{staticClass:"mx-2 my-4"},[r("h3",{staticClass:"font-serif uppercase text-lg"},[t._v("Totals")]),t._v(" "),r("totals",{staticClass:"mt-2"})],1)]),t._v(" "),r("div",{staticClass:"hidden md:block"},[r("div",{staticClass:"mx-2"},[r("h3",{staticClass:"font-serif uppercase text-lg"},[t._v("General")]),t._v(" "),r("general",{staticClass:"mt-2"})],1)])]),t._v(" "),r("div",{staticClass:"flex-1"},[t.loadout.total()?r("div",{staticClass:"mt-4 md:m-0"},[r("h2",{staticClass:"block flex cursor-pointer font-serif uppercase text-lg mx-4",class:{"mb-4":!t.sections.loadout},on:{click:function(e){return t.toggleSection({section:"loadout"})}}},[r("chevron",{staticClass:"mr-2",attrs:{open:t.sections.loadout}}),t._v("\n                            Loadout ("+t._s(t.loadout.count())+")\n                        ")],1),t._v(" "),r("grouped-cards",{directives:[{name:"show",rawName:"v-show",value:t.sections.loadout,expression:"sections.loadout"}],attrs:{cards:t.loadout,"group-id":"loadout",action:"search"===t.mode&&t.removeFromDeck}})],1):t._e(),t._v(" "),t.other.total()?r("div",[r("h2",{staticClass:"block flex cursor-pointer font-serif uppercase text-lg ml-4",class:{"mb-4":!t.sections.other},on:{click:function(e){return t.toggleSection({section:"other"})}}},[r("chevron",{staticClass:"mr-2",attrs:{open:t.sections.other}}),t._v("\n                            Other ("+t._s(t.other.count())+")\n                        ")],1),t._v(" "),r("grouped-cards",{directives:[{name:"show",rawName:"v-show",value:t.sections.other,expression:"sections.other"}],attrs:{cards:t.other,"group-id":"other",action:"search"===t.mode&&t.removeFromDeck}})],1):t._e()])]):r("div",{staticClass:"text-center my-20 mx-10"},[t._v("\n                Gallery mode is only available to FaB DB patrons."),r("br"),t._v(" "),r("br"),t._v(" "),r("router-link",{staticClass:"link-alternate",attrs:{to:"/support"}},[t._v("Upgrade to access the gallery mode feature.")])],1)]):r("div",{staticClass:"lg:flex m-4"},[r("div",{staticClass:"hidden lg:block md:mr-8 max-w-250"},[r("card-image",{staticClass:"mb-4",attrs:{card:t.cards.hero()}}),t._v(" "),r("div",[r("deck-curves",{staticClass:"h-160 mb-4",attrs:{cards:t.other.withCost(),strategy:"length",stat:"cost"}}),t._v(" "),r("deck-curves",{staticClass:"h-160",attrs:{cards:t.other.withResource(),strategy:"length",stat:"resource"}})],1)],1),t._v(" "),r("div",{staticClass:"sm:flex-1 sm:mr-4"},[r("card-item-section",{attrs:{card:t.cards.hero(),title:"Hero"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.weapons(),title:"Weapons"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.equipment(),title:"Equipment"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.instants(),title:"Instants"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.miscellaneous(),title:"Miscellaneous"}})],1),t._v(" "),r("div",{staticClass:"sm:flex-1"},[r("card-item-section",{attrs:{cards:t.cards.attackActions(),title:"Attack actions"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.attackReactions(),title:"Attack reactions"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.nonAttackActions(),title:"'Non-attack' actions"}}),t._v(" "),r("card-item-section",{attrs:{cards:t.cards.defenseReactions(),title:"Defense reactions"}})],1)])]):r("div",[r("hero-selector",{attrs:{deck:t.deck},on:{"hero-selected":t.addToDeck}})],1)])}),[],!1,null,null,null).exports,Z=r(17),U={components:{Icon:w.a},data:function(){return{keywords:"",searchTimeout:null}},methods:{reset:function(){this.searchTimeout&&clearTimeout(this.searchTimeout)},delayedSearch:function(){var t=this;this.reset(),this.searchTimeout=setTimeout((function(){t.$eventHub.$emit("search-requested",t.keywords)}),700)},finishSearch:function(){this.reset(),this.$eventHub.$emit("search-requested",this.keywords)}}},K=Object(f.a)(U,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],ref:"nameSearch",staticClass:"flex-1 bg-transparent outline-none py-3 px-4",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.keywords},on:{keyup:[t.delayedSearch,function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishSearch.apply(null,arguments)}],input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),t._v(" "),r("button",{staticClass:"flex-initial mr-4 link-alternate",on:{click:function(e){return t.$modal.show("search-help")}}},[r("icon",{attrs:{size:6}},[r("path",{attrs:{d:"M2.93 17.07A10 10 0 1117.07 2.93 10 10 0 012.93 17.07zm12.73-1.41A8 8 0 104.34 4.34a8 8 0 0011.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}})])],1)])}),[],!1,null,null,null).exports,J=r(4),Q=r.n(J);function X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?X(r,!0).forEach((function(e){tt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var et={props:["deck"],components:{MarkdownEditor:r(219).a},data:function(){return{saving:!1}},computed:Y({},Object(s.c)("session",["user"])),methods:Y({},Object(s.b)("messages",["addMessage"]),{saveDeckSettings:function(){var t=this;this.saving=!0;var e=this.deck.cardBack||1,r={name:this.deck.name,label:this.deck.label,notes:this.deck.notes,type:this.deck.type,format:this.deck.format,limitToCollection:this.deck.limitToCollection,visibility:this.deck.visibility,cardBack:e};Q.a.put("/decks/"+this.$route.params.deck+"/settings",r).then((function(e){t.addMessage({status:"success",message:"Settings saved."}),t.saving=!1}))}})},rt=(r(289),Object(f.a)(et,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container sm:mx-auto py-8 md:flex"},[r("div",{staticClass:"md:w-1/2 md:pr-8"},[r("form",{staticClass:"block",on:{submit:function(e){return e.preventDefault(),t.saveDeckSettings.apply(null,arguments)}}},[r("div",{staticClass:"w-full mb-4"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.deck.name,expression:"deck.name"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{type:"text",maxlength:"25",required:""},domProps:{value:t.deck.name},on:{input:function(e){e.target.composing||t.$set(t.deck,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"w-full mb-4"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Label")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.deck.label,expression:"deck.label"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{type:"text"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.deck,"label",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[t._v("None")]),t._v(" "),t._l(t.$settings.game.decks.labels,(function(e,s){return r("option",{domProps:{value:s}},[t._v(t._s(e))])}))],2)]),t._v(" "),r("div",{staticClass:"w-full mb-4"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Notes")]),t._v(" "),r("markdown-editor",{ref:"markdownEditor",attrs:{configs:{toolbar:["heading","bold","italic","quote","|","unordered-list","ordered-list"]}},model:{value:t.deck.notes,callback:function(e){t.$set(t.deck,"notes",e)},expression:"deck.notes"}})],1),t._v(" "),t.deck.practiseId?t._e():r("div",{staticClass:"w-full mb-4"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Deck format")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.deck.format,expression:"deck.format"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.deck,"format",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"blitz"}},[t._v("Blitz")]),t._v(" "),r("option",{attrs:{value:"constructed"}},[t._v("Constructed")]),t._v(" "),r("option",{attrs:{value:"open"}},[t._v("Open")])])]),t._v(" "),r("div",{staticClass:"w-full mb-4"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Limit cards to collection")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.deck.limitToCollection,expression:"deck.limitToCollection"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.deck,"limitToCollection",e.target.multiple?r:r[0])}}},[r("option",{domProps:{value:0}},[t._v("No")]),t._v(" "),r("option",{domProps:{value:1}},[t._v("Hard limit")]),t._v(" "),r("option",{domProps:{value:2}},[t._v("Soft limit")])])]),t._v(" "),r("div",{staticClass:"w-full mb-4"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Deck visibility")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.deck.visibility,expression:"deck.visibility"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.deck,"visibility",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"private"}},[t._v("Private")]),t._v(" "),r("option",{attrs:{value:"public"}},[t._v("Public")])])]),t._v(" "),r("div",{staticClass:"w-full"},[r("label",{staticClass:"block font-serif uppercase tracking-wide mb-1"},[t._v("Card back")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.deck.cardBack,expression:"deck.cardBack"}],staticClass:"input-white focus:border-gray-500 py-3 px-4 rounded-lg",attrs:{disabled:!t.user.subscription},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.deck,"cardBack",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"1"}},[t._v("Original")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("Worn")]),t._v(" "),r("option",{attrs:{value:"3"}},[t._v("Light")]),t._v(" "),r("option",{attrs:{value:"4"}},[t._v("Old fashioned")]),t._v(" "),r("option",{attrs:{value:"5"}},[t._v("Parchment Gold")]),t._v(" "),r("option",{attrs:{value:"6"}},[t._v("Parchment Classic")]),t._v(" "),r("option",{attrs:{value:"7"}},[t._v("Reds")]),t._v(" "),r("option",{attrs:{value:"8"}},[t._v("White Cream")])]),t._v(" "),t.user.subscription?t._e():r("div",{staticClass:"border border-t-0 border-gray-300 text-sm rounded-lg p-3"},[t._v("\n                    Card backs are a premium feature. If you'd like to use card backs in your games of TTS,\n                    "),r("router-link",{staticClass:"link",attrs:{to:"/support"}},[t._v("support us!")]),t._v(" "),r("a",{staticClass:"link",attrs:{href:"https://patreon.com/fabdb",target:"_blank"}},[t._v("Memberships start as low as $3/month.")])],1)]),t._v(" "),r("input",{staticClass:"appearance-none block w-full rounded-lg py-3 px-4 button-primary mt-8",class:t.saving?"disabled":"",attrs:{type:"submit",value:"Save"}})])]),t._v(" "),t._m(0)])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-8 md:w-1/2 md:mt-0 text-base"},[r("p",{staticClass:"my-4"},[t._v("With the various deck settings you can change several values:")]),t._v(" "),r("ul",{staticClass:"list-disc ml-8"},[r("li",[t._v("Notes: Go into detail as to how the deck performs, combos to look for and good/bad matchups.")]),t._v(" "),r("li",[t._v("Deck format: Whether your deck is for blitz/UPF or constructed play.")]),t._v(" "),r("li",[t._v("Limit to collection: Select soft if you just want missing cards highlighted. Select the hard limit if you do not want missing cards to show up in search at all. The former is better for purchase planning, the latter is better for tournament preparaation.")]),t._v(" "),r("li",[t._v("Deck visibility: This is whether or not the deck is available in the public directory. If not, you can still share the deck as normal for those that have the link.")]),t._v(" "),r("li",[t._v("The card back: When exporting the deck for use in Tabletop Simulator, you can select from one of 8 card backs. This is a premium feature available to supporters only.")])])])}],!1,null,null,null).exports),st=r(41),nt=r(8);function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function it(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ot={mixins:[a.a,nt.a,j.a],props:["deck"],computed:{cards:function(){return this.deck.cards},shareText:function(){var t=this.weapons.map((function(t){return t.name})).join(", "),e=this.equipment.map((function(t){return t.name})).join(", "),r=this.shareLine("Deck build - via https://fabdb.net :")+this.shareLine("")+this.shareLine(this.deck.name)+this.shareLine("")+this.shareLine("Class: "+this.ucfirst(this.hero.keywords[0]))+this.shareLine("Hero: "+this.hero.name)+this.shareLine("Weapons: "+t)+this.shareLine("Equipment: "+e)+this.shareLine("");for(var s in this.other){var n=this.other[s];r+=this.shareLine("("+n.total+") "+n.name+" ("+this.colourToText(n.stats.resource)+")")}return r+=this.shareLine(""),r+=this.shareLine("See the full deck at: https://fabdb.net/decks/"+this.deck.slug+"/")}},data:function(){return{exporting:!1}},methods:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(r,!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(s.b)("messages",["addMessage"]),{copy:function(){this.$copyText(this.shareText),this.addMessage({status:"success",message:"Deck share text copied to clipboard."})},exportToTTS:function(){var t=this;this.exporting=!0,axios.get("/export/"+this.deck.slug+"/tts-images").then((function(e){t.exporting=!1,window.open("/export/"+t.deck.slug+"/tts-json")}))},shareLine:function(t){return t+"\n"}})},ct=Object(f.a)(ot,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-4"},[r("a",{staticClass:"block flow-root p-4 bg-white rounded-lg hover:bg-blue-700 hover:text-white",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.copy.apply(null,arguments)}}},[r("div",{staticClass:"float-left mr-4"},[r("svg",{staticClass:"fill-current h-20",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 012 2v10a2 2 0 01-2 2h-4v4a2 2 0 01-2 2H2a2 2 0 01-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 012 2v4h4V2H8v4zM2 8v10h10V8H2z"}})])]),t._v(" "),r("h2",{staticClass:"font-serif uppercase text-xl"},[t._v("Copy text")]),t._v(" "),r("p",{staticClass:"text-base"},[t._v("Looking to share your deck build as text? Click here.")])]),t._v(" "),r("a",{staticClass:"block flow-root p-4 bg-white rounded-lg hover:bg-blue-700 hover:text-white mt-4",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.exportToTTS.apply(null,arguments)}}},[r("div",{staticClass:"float-left mr-4"},[r("svg",{staticClass:"fill-current h-20",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M4 4l12 6-12 6z"}})])]),t._v(" "),r("h2",{staticClass:"font-serif uppercase text-xl"},[t._v("Table Top Simulator")]),t._v(" "),t.exporting?r("p",{staticClass:"text-base"},[t._v("Please wait while we generate the files...")]):r("p",{staticClass:"text-base"},[t._v("Want to use your deck inside Table Top Simulator?")])]),t._v(" "),r("router-link",{staticClass:"block flow-root p-4 bg-white rounded-lg hover:bg-blue-700 hover:text-white mt-4",attrs:{to:"/decks/export/"+t.deck.slug}},[r("div",{staticClass:"float-left mr-4"},[r("svg",{staticClass:"fill-current h-20",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V4zm2 2v10h16V6H2z"}})])]),t._v(" "),r("h2",{staticClass:"font-serif uppercase text-xl"},[t._v("Tournament Booster")]),t._v(" "),r("p",{staticClass:"text-base"},[t._v("For tournaments and leagues. All-in-one ZIP file.")])])],1)}),[],!1,null,null,null).exports,lt=r(13),ut=r.n(lt);function dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dt(r,!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ht={mixins:[o,j.a],components:{CardImage:i.a,DeckSettings:rt,General:T,Rulings:st.a,Stat:C,Totals:B,TtsExporter:ct},data:function(){return{tab:"settings"}},computed:ft({},Object(s.e)("deck",["cards","deck"]),{offenseRating:function(){return(100*((this.totalAttackActions+this.totalAttackReactions)/this.totalCards).toFixed(2)).toFixed(0)+"%"},defenseRating:function(){return(100*(this.blocks.length/this.totalCards).toFixed(2)).toFixed(0)+"%"},rulings:function(){var t=ut.a.flatten(this.cards.map((function(t){return ut.a.flatten(t.rulings.map((function(t){return t.description})))})));return ut.a.uniq(t)}}),methods:ft({},Object(s.b)("messages",["addMessage"]))},vt=Object(f.a)(ht,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"py-4 pb-20 sm:flex px-4"},[r("div",{staticClass:"w-full hidden lg:block lg:w-1/4 lg:mr-8"},[r("card-image",{attrs:{card:t.hero}})],1),t._v(" "),r("div",{staticClass:"w-full lg:w-3/4"},[r("ul",{staticClass:"block border-b border-gray-400 font-serif uppercase flow-root"},[r("li",{staticClass:"float-left mr-1 sm:mr-4"},[r("a",{staticClass:"inline-block p-2 sm:px-4 pt-2 pb-1 border border-b-0 border-gray-400 rounded-t-lg",class:"settings"===t.tab?"relative -bottom-1px bg-gray-200":"bg-gray-300 hover:bg-gray-100",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="settings"}}},[t._v("Settings")])]),t._v(" "),r("li",{staticClass:"float-left mr-1 sm:mr-4"},[r("a",{staticClass:"inline-block p-2 sm:px-4 pt-2 pb-1 border border-b-0 border-gray-400 rounded-t-lg",class:"metrics"===t.tab?"relative -bottom-1px bg-gray-200":"bg-gray-300 hover:bg-gray-100",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="metrics"}}},[t._v("Metrics")])]),t._v(" "),r("li",{staticClass:"float-left mr-1 sm:mr-4"},[r("a",{staticClass:"inline-block p-2 sm:px-4 pt-2 pb-1 border border-b-0 border-gray-400 rounded-t-lg",class:"rulings"===t.tab?"relative -bottom-1px bg-gray-200":"bg-gray-300 hover:bg-gray-100",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="rulings"}}},[t._v("Rulings")])]),t._v(" "),r("li",{staticClass:"float-left mr-1 sm:mr-4"},[r("a",{staticClass:"inline-block p-2 sm:px-4 pt-2 pb-1 border border-b-0 border-gray-400 rounded-t-lg",class:"export"===t.tab?"relative -bottom-1px bg-gray-200":"bg-gray-300 hover:bg-gray-100",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="export"}}},[t._v("Export")])])]),t._v(" "),r("div",{staticClass:"bg-gray-200 border border-t-0 border-gray-400 px-4"},["metrics"==t.tab?r("div",{staticClass:"sm:flex pt-8"},[r("div",{staticClass:"sm:w-1/3 sm:mr-4"},[r("h3",{staticClass:"font-serif uppercase text-2xl"},[t._v("Totals")]),t._v(" "),r("totals")],1),t._v(" "),r("div",{staticClass:"mt-4 sm:mt-0 sm:w-1/3 sm:mx-4"},[r("h3",{staticClass:"font-serif uppercase text-2xl"},[t._v("General")]),t._v(" "),r("general")],1),t._v(" "),r("div",{staticClass:"mt-4 sm:mt-0 sm:w-1/3 sm:mx-4"},[r("h3",{staticClass:"font-serif uppercase text-2xl"},[t._v("Offensive")]),t._v(" "),r("ol",{staticClass:"mt-2 text-base"},[r("stat",{attrs:{value:t.offenseRating,text:"Rating",position:"top"}}),t._v(" "),r("stat",{attrs:{value:t.averageAttack,text:"Average attack"}}),t._v(" "),r("stat",{attrs:{value:t.attacksPerHand,text:"Attacks per hand",position:"bottom"}})],1),t._v(" "),r("h3",{staticClass:"font-serif uppercase text-2xl mt-4 sm:mt-8"},[t._v("Defensive")]),t._v(" "),r("ol",{staticClass:"mt-2 text-base"},[r("stat",{attrs:{value:t.defenseRating,text:"Rating",position:"top"}}),t._v(" "),r("stat",{attrs:{value:t.averageBlock,text:"Average block",position:"bottom"}})],1)])]):t._e(),t._v(" "),"rulings"==t.tab?r("div",{staticClass:"sm:flex pt-8"},[r("rulings",{attrs:{rulings:t.rulings}})],1):t._e(),t._v(" "),"settings"==t.tab?r("div",[r("deck-settings",{attrs:{deck:t.deck}})],1):t._e(),t._v(" "),"export"==t.tab?r("div",{staticClass:"pt-8"},[r("a",{staticClass:"block flow-root p-4 bg-white rounded-lg hover:bg-blue-700 hover:text-white",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.copyShareURL.apply(null,arguments)}}},[r("div",{staticClass:"float-left mr-4"},[r("svg",{staticClass:"fill-current h-20",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M9.26 13a2 2 0 01.01-2.01A3 3 0 009 5H5a3 3 0 000 6h.08a6.06 6.06 0 000 2H5A5 5 0 015 3h4a5 5 0 01.26 10zm1.48-6a2 2 0 01-.01 2.01A3 3 0 0011 15h4a3 3 0 000-6h-.08a6.06 6.06 0 000-2H15a5 5 0 010 10h-4a5 5 0 01-.26-10z"}})])]),t._v(" "),r("h2",{staticClass:"font-serif uppercase text-xl"},[t._v("Link to deck")]),t._v(" "),r("p",{staticClass:"text-base"},[t._v("Copies your publicly-accessible deck URL to the clipboard.")])]),t._v(" "),r("tts-exporter",{attrs:{deck:t.deck}})],1):t._e()])])])}),[],!1,null,null,null).exports;function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var gt={components:{Icon:w.a},mixins:[j.a],data:function(){return{editing:!1,original:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(r,!0).forEach((function(e){bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(s.e)("deck",["deck"]),{name:{get:function(){return this.deck.name},set:function(t){this.deck.name=t}},inputWidth:function(){return 18*this.name.length+"px"}}),methods:{edit:function(){var t=this;this.editing=!0,setTimeout((function(){t.$refs.name.focus()}),50)},cancel:function(){this.editing=!1,this.name=this.original},possibleCancel:function(){var t=this;setTimeout((function(){t.name=t.original}),100)},save:function(){Q.a.put("/decks/"+this.deck.slug+"/settings",{name:this.name}),this.editing=!1,this.original=this.name}},mounted:function(){this.original=this.name}},yt=Object(f.a)(gt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"text-4xl uppercase"},[t.editing?r("form",{staticClass:"block flex items-center",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"escape",void 0,e.key,void 0)?null:t.cancel()},submit:function(e){return e.preventDefault(),t.save()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"bg-transparent font-serif uppercase outline-none border border-gray-700 border-r-none rounded-l-lg inline w-auto text-2xl text-white px-4 py-1",attrs:{size:"40"},domProps:{value:t.name},on:{blur:function(e){return t.possibleCancel()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),r("button",{staticClass:"button-primary text-2xl px-4 py-3 rounded-r-lg",attrs:{type:"submit"}},[t._v("Save")])]):r("div",{staticClass:"font-serif cursor-pointer text-gray-600 hover:text-white"},[r("h1",{staticClass:"bg-transparent outline-none inline w-auto text-white",on:{click:function(e){return t.edit()}}},[t._v(t._s(t.name)),t.hero?r("span",{staticClass:"text-white"},[t._v(" ("+t._s(t.hero.name)+")")]):t._e()]),t._v(" "),r("button",{on:{click:function(e){return t.edit()}}},[r("icon",{staticClass:"-mt-1 ml-2",attrs:{size:6}},[r("path",{attrs:{d:"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"}})])],1)])])])}),[],!1,null,null,null).exports,wt=r(215),kt=r(216),Ot=r(6),xt=r(7);function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(r,!0).forEach((function(e){jt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pt={props:["collection"],mixins:[a.a,z.a,j.a],components:{GroupedCards:R},data:function(){return{mainDeck:new y.a([])}},mounted:function(){this.updateMainDeck()},computed:Ct({},Object(s.e)("deck",["deck","filters","sideboard"]),{},Object(s.c)("session",["user"])),methods:Ct({},Object(s.b)("deck",["addToSideboard"]),{add:function(t){this.addToSideboard({card:t}),this.updateMainDeck(),this.addRemote(t)},addRemote:function(t){Q.a.post("/decks/"+this.deck.slug+"/sideboard",{card:t.identifier})},updateMainDeck:function(){var t=new y.a(ut.a.cloneDeep(this.collection));this.sideboard.forEach((function(e){for(var r=0;r<e.total;r++)t.remove(e)}));var e=null;e=this.filters.length?new y.a(t.all()).applyFilters(this.filters):(e=(e=(e=new y.a([t.hero()])).concat(t.weapons())).concat(t.equipment())).concat(t.other()),this.mainDeck=e.hydrate(),this.redraw("maindeck")}}),watch:{sideboard:{handler:function(){this.updateMainDeck()},deep:!0},filters:function(){this.updateMainDeck()}}},Dt=Object(f.a)(Pt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.mainDeck.cards.length?e("grouped-cards",{attrs:{cards:this.mainDeck,"group-id":"maindeck",action:this.add}}):e("div",{staticClass:"text-center my-20"},[this._v("\n        There are no cards available yet in your main deck. Go to search, and then add cards to your deck from there.\n    ")])],1)}),[],!1,null,null,null).exports;function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(r,!0).forEach((function(e){Et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var zt={data:function(){return{isOpen:!1}},computed:Tt({},Object(s.e)("deck",["mode"]),{},Object(s.c)("deck",["requiresSideboard"]),{modes:function(){return{all:"Deck",search:"Edit",sideboard:"Sideboard",details:"Settings"}}}),methods:Tt({},Object(s.b)("deck",["setMode"]),{classes:function(t){return{"button-disabled":this.mode===t,"button-secondary":this.mode!==t,"hidden lg:inline-block":"sideboard"===t}},select:function(t){t!==this.mode&&(this.setMode({mode:t}),this.isOpen=!1)}})},$t=Object(f.a)(zt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex rounded-lg overflow-hidden text-sm xl:text-base mr-2"},t._l(t.modes,(function(e,s){return r("button",{staticClass:"flex-grow block px-4 py-3",class:t.classes(s),attrs:{type:"button"},on:{click:function(e){return t.select(s)}}},[t._v("\n        "+t._s(e)+"\n    ")])})),0)}),[],!1,null,null,null).exports,At=r(22);function Mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mt(r,!0).forEach((function(e){Ht(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Lt={props:{card:{type:Object,required:!0}},mixins:[a.a,o],computed:Rt({},Object(s.e)("deck",["deck","cards","fullScreen","view"]),{},Object(s.c)("session",["user"]),{background:function(){return"bg-gray-300 hover:bg-gray-200"},cardCount:function(){var t=this,e=this.cards.filter((function(e){return e.identifier===t.card.identifier}));return e[0]?e[0].total:0}}),methods:Rt({},Object(s.b)("deck",["setCardTotal"]),{},Object(s.b)("messages",["addMessage"]),{active:function(t){return this.cardCount===t?"bg-gray-400 text-black":this.background},classes:function(t){var e=this.maxAvailable+1;return[this.active(t),"w-1/"+e]},setTotal:function(t){var e=this;this.setRemote(this.card,t,(function(){e.setCardTotal({card:e.card,total:t})})),this.$eventHub.$emit("card-selected")}})},qt=Object(f.a)(Lt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex overflow-hidden"},t._l(t.maxAvailable+1,(function(e,s){return r("button",{staticClass:"py-2 ml-1px",class:t.classes(s),on:{click:function(e){return t.setTotal(s)}}},[t._v(t._s(s))])})),0)}),[],!1,null,null,null).exports;function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(r,!0).forEach((function(e){Nt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ft={mixins:[o,j.a],components:{NumberedCardButtons:qt,CardImage:i.a,CardItem:m,CardSearch:K,Paginator:At.a},computed:Bt({},Object(s.e)("deck",["cards","deck","fullScreen","view"]),{},Object(s.c)("session",["user"]),{classes:function(){return{"xl:w-1/3":this.fullScreen}},galleryView:function(){return"gallery"===this.view&&this.user.subscription}}),data:function(){return{cardType:"",keywords:"",results:{},page:1}},methods:Bt({},Object(s.b)("deck",["addCard","setCardTotal"]),{},Object(s.b)("messages",["addMessage"]),{addToDeck:function(t){var e=this;this.addRemote(t,(function(r){e.addCard({card:t})}))},updatePage:function(t){this.page=t,this.search(t)},search:function(t){var e=this;this.page=t;var r={deck:this.deck.slug,cardType:this.cardType,hero:this.hero?this.hero.identifier:"",keywords:this.keywords,page:t};axios.get("/cards/build",{params:r}).then((function(t){e.results=t.data,e.$emit("search-completed")})).catch((function(t){}))},updateCardType:function(t){"all"===t&&(t=""),this.cardType=t,this.search()}}),mounted:function(){var t=this;this.$eventHub.$on("search-requested",(function(e){t.keywords=e,t.search(1)})),this.search(1)},watch:{cardType:function(t){this.search(1)}}},Vt=Object(f.a)(Ft,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-40 flow-root"},[r("card-search",{staticClass:"md:hidden flex"}),t._v(" "),r("div",{staticClass:"flow-root"},[r("div",{staticClass:"text-base pr-0 bg-gray-100"},[r("div",{staticClass:"w-full flex -mt-1px"},[r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:""===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType=""}}},[t._v("\n                    All\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"weapon"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="weapon"}}},[t._v("\n                    Weapons\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"equipment"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="equipment"}}},[t._v("\n                    Equipment\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"instant"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="instant"}}},[t._v("\n                    Instants\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"item"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="item"}}},[t._v("\n                    Items\n                ")])]),t._v(" "),r("div",{staticClass:"w-full flex"},[r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"non-attack action"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="non-attack action"}}},[t._v("\n                    'Non-attack'"),r("br"),t._v("actions\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"attack action"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="attack action"}}},[t._v("\n                    Attack"),r("br"),t._v("actions\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"attack reaction"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="attack reaction"}}},[t._v("\n                    Attack"),r("br"),t._v("reactions\n                ")]),t._v(" "),r("button",{staticClass:"flex-1 border border-gray-200 p-1",class:"defense reaction"===t.cardType?"bg-gray-600 text-white":"hover:bg-white",on:{click:function(e){t.cardType="defense reaction"}}},[t._v("\n                    Defense"),r("br"),t._v("reactions\n                ")])])]),t._v(" "),r("div",t._l(t.results.data,(function(e){return r("div",[t.galleryView?r("div",{staticClass:"w-1/2 float-left mt-4 overflow-hidden px-2 sm:px-4",class:t.classes,staticStyle:{"max-width":"350px"}},[r("card-image",{attrs:{card:e,width:300,clickHandler:t.addToDeck}}),t._v(" "),r("numbered-card-buttons",{staticClass:"w-full mx-auto rounded sm:rounded-lg mt-1",attrs:{card:e}})],1):r("card-item",{attrs:{card:e}})],1)})),0)]),t._v(" "),r("paginator",{staticClass:"mt-4",attrs:{results:t.results},on:{"page-selected":t.updatePage}})],1)}),[],!1,null,null,null).exports;function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(r,!0).forEach((function(e){Zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ut={props:["collection"],mixins:[a.a,j.a],components:{GroupedCards:R},computed:Wt({},Object(s.e)("deck",["deck","fullScreen"]),{},Object(s.c)("session",["user"]),{sideboard:function(){return new y.a(this.collection).hydrate()}}),methods:Wt({},Object(s.b)("deck",["removeFromSideBoard"]),{remove:function(t){this.removeFromSideBoard({card:t}),this.removeRemote(t)},removeRemote:function(t){Q.a.delete("/decks/"+this.deck.slug+"/sideboard/"+t.identifier)}})},Kt=Object(f.a)(Ut,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-40"},[r("grouped-cards",{attrs:{cards:t.sideboard,"group-id":"sideboard",action:t.remove,width:t.fullScreen?"sm:w-1/3":"sm:w-1/2"}}),t._v(" "),t.sideboard.cards.length?t._e():r("div",{staticClass:"text-center my-20 mx-10"},[t._v("\n        You have not yet added"),r("br"),t._v("any cards"),r("br"),t._v("to your sideboard.\n    ")])],1)}),[],!1,null,null,null).exports;function Jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jt(r,!0).forEach((function(e){Xt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yt={components:{Icon:w.a},computed:Qt({},Object(s.e)("deck",["mode","view"]),{inactive:function(){return"details"===this.mode}}),methods:Qt({},Object(s.b)("deck",["toggleView"]))},te=Object(f.a)(Yt,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"block mr-2 sm:mr-4",class:{"text-gray-500":this.inactive,"link-alternate":!this.inactive},attrs:{disabled:this.inactive},on:{click:this.toggleView}},[e("icon",{attrs:{size:6}},["text"===this.view?e("path",{attrs:{d:"M0 0h9v9H0V0zm2 2v5h5V2H2zm-2 9h9v9H0v-9zm2 2v5h5v-5H2zm9-13h9v9h-9V0zm2 2v5h5V2h-5zm-2 9h9v9h-9v-9zm2 2v5h5v-5h-5z"}}):e("path",{attrs:{d:"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h12v2H1V5zm0 8h12v2H1v-2z"}})])],1)}),[],!1,null,null,null).exports;function ee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ee(r,!0).forEach((function(e){se(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ee(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function se(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ne={props:["action"],computed:re({},Object(s.c)("deck",["minZoom","maxZoom"]),{},Object(s.e)("deck",["fullScreen","mode","view","zoom"]),{inactive:function(){return"details"===this.mode||"text"===this.view||("in"==this.action?this.zoom==this.minZoom:this.zoom==this.maxZoom)}}),methods:re({},Object(s.b)("deck",["zoomIn","zoomOut"]),{setZoom:function(){this["in"==this.action?"zoomIn":"zoomOut"]()}})},ae=Object(f.a)(ne,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"block mr-2 sm:mr-4",class:{"text-gray-500":this.inactive,"link-alternate":!this.inactive},attrs:{disabled:this.inactive},on:{click:this.setZoom}},[e("svg",{staticClass:"fill-current h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},["in"==this.action?e("path",{attrs:{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 111.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 108 2a6 6 0 000 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z"}}):e("path",{attrs:{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 111.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 108 2a6 6 0 000 12zM5 7h6v2H5V7z"}})])])}),[],!1,null,null,null).exports;function ie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ie(r,!0).forEach((function(e){ce(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ie(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ce(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var le={components:{AllCards:W,Breadcrumbs:Z.a,CardImage:i.a,CardSearch:K,DeckName:yt,GroupingSelector:wt.a,FullscreenButton:kt.a,Icon:w.a,MainDeck:Dt,DeckDetails:vt,ModeSelector:$t,HeaderTitle:Ot.a,SearchResults:Vt,Sideboard:Kt,ViewButton:te,ZoomButton:ae},mixins:[a.a,$t,j.a],data:function(){return{cardIndex:0,swipeModes:["all","search","details"],offset:10,pad:17}},computed:oe({},Object(s.c)("deck",["mainDeck"]),{},Object(s.e)("deck",["cards","deck","fullScreen","grouping","mode","sideboard","view","zoom"]),{},Object(s.e)("cardSearch",["params"]),{containers:function(){if(!this.fullScreen)return"container lg:mx-auto"},fullScreenClasses:function(){if(this.fullScreen)return"fixed top-0 bottom-0 left-0 right-0 z-75"},mainAreaClasses:function(){return"search"===this.mode||"sideboard"===this.mode?"w-0 lg:w-2/3":"w-full"},maxCards:function(){return"blitz"===this.deck.format?52:80},sidebarClasses:function(){return{"hidden lg:block lg:w-1/3 p-4":!0}},topAreaClasses:function(){return"search"===this.mode?"w-full lg:w-2/3":"w-full"},crumbs:function(){return[{text:"Home",link:"/"},{text:"Decks",link:"/decks/build/"},{text:this.deck.name}]}}),methods:oe({},Object(s.b)("messages",["addMessage"]),{},Object(s.b)("deck",["setDeck","setMode","setZoom","setGrouping","toggleFullScreen"]),{scrollTop:function(){this.$refs.searchResults.scrollTop=0,window.scrollTo({top:0})},swipeLeft:function(){this.changeMode(this.currentSwipeMode()+1)},swipeRight:function(){this.changeMode(this.currentSwipeMode()-1)},changeMode:function(t){t>=0&&t<=2&&this.setMode({mode:this.swipeModes[t]})},updateGrouping:function(t){this.setGrouping({grouping:t})},currentSwipeMode:function(){return this.swipeModes.indexOf(this.mode)}}),created:function(){var t=this;this.$eventHub.$on("card-selected",(function(){t.name=""})),this.$eventHub.$on("hero-selected",(function(e,r){t.deck.format=r.toLowerCase()}))},extends:Object(xt.a)((function(t,e){axios.get("/decks/"+t.params.deck).then((function(t){e((function(){t.data.mine?(this.setMode({mode:"all"}),this.setDeck({deck:t.data})):this.$router.push({name:"decks.view",params:{deck:t.data.slug}})}))}))}))},ue=Object(f.a)(le,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"touch",rawName:"v-touch:swipe.left",value:t.swipeLeft,expression:"swipeLeft",arg:"swipe",modifiers:{left:!0}},{name:"touch",rawName:"v-touch:swipe.right",value:t.swipeRight,expression:"swipeRight",arg:"swipe",modifiers:{right:!0}}],staticClass:"text-base"},[r("header-title",{scopedSlots:t._u([{key:"title",fn:function(){return[r("deck-name",{attrs:{name:t.deck.name,hero:t.hero}})]},proxy:!0}])}),t._v(" "),r("breadcrumbs",{attrs:{crumbs:t.crumbs}}),t._v(" "),r("div",{class:t.fullScreenClasses},[r("div",{staticClass:"bg-white"},[r("div",{class:t.containers},[r("div",{staticClass:"flex"},[r("div",{staticClass:"flex items-center p-4",class:t.topAreaClasses},[r("div",{staticClass:"flex-auto hidden sm:block"},[r("h2",{staticClass:"font-serif uppercase text-xl",class:{"text-red-500":t.totalCards>t.maxCards}},[t._v(t._s(t.totalCards)+" / "+t._s(t.maxCards)+" "),r("span",{staticClass:"text-base"},[t._v("cards")])])]),t._v(" "),"details"!==t.mode?r("grouping-selector",{staticClass:"mr-2 hidden xl:block",attrs:{grouping:t.grouping,options:{name:"Name",pitch:"Pitch",cost:"Cost"}},on:{selected:t.updateGrouping}}):t._e(),t._v(" "),r("mode-selector",{staticClass:"w-full lg:w-auto"}),t._v(" "),r("div",{staticClass:"px-2 lg:px-1 flex"},[r("zoom-button",{staticClass:"hidden lg:block",attrs:{zoom:t.zoom,action:"in",fullScreen:t.fullScreen}}),t._v(" "),r("zoom-button",{staticClass:"hidden lg:block",attrs:{zoom:t.zoom,action:"out",fullScreen:t.fullScreen}}),t._v(" "),r("view-button"),t._v(" "),r("fullscreen-button",{attrs:{"full-screen":t.fullScreen,toggle:t.toggleFullScreen}})],1)],1),t._v(" "),"search"==t.mode?r("div",{staticClass:"flex items-center",class:Object.assign({},t.sidebarClasses,{"px-0 bg-gray-200":this.fullScreen,"border-l border-gray-300":!this.fullScreen})},[r("card-search",{staticClass:"flex bg-gray-200 rounded-lg w-full",class:{"focus:bg-white focus:border-gray-500":!t.fullScreen}})],1):t._e()])])]),t._v(" "),r("div",{staticClass:"bg-gray-200 h-full relative",staticStyle:{background:"url('/img/grey-grid.png')"}},[r("div",{staticClass:"flex h-full",class:t.containers},[r("div",{staticClass:"h-full overflow-y-auto",class:t.mainAreaClasses},["all"==t.mode||"search"==t.mode?r("all-cards",{attrs:{collection:t.cards}}):t._e(),t._v(" "),"details"==t.mode?r("deck-details"):t._e(),t._v(" "),"sideboard"==t.mode?r("main-deck",{attrs:{collection:t.cards}}):t._e()],1),t._v(" "),"search"==t.mode||"sideboard"==t.mode?r("div",{ref:"searchResults",staticClass:"w-full lg:w-1/3 overflow-y-auto bg-gray-200 border-l border-gray-300"},["search"==t.mode?r("search-results",{on:{"search-completed":t.scrollTop}}):t._e(),t._v(" "),"sideboard"==t.mode?r("sideboard",{attrs:{collection:t.sideboard}}):t._e()],1):t._e()])])])],1)}),[],!1,null,null,null);e.default=ue.exports},35:function(t,e,r){"use strict";var s={props:["resource"],mixins:[r(5).a]},n=r(0),a=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.resource?e("div",{staticClass:"inline-block rounded-lg h-2 w-2",class:this.resourceColour(this.resource)}):e("div",{staticClass:"inline-block h-2 w-2"})}),[],!1,null,null,null);e.a=a.exports},38:function(t,e,r){"use strict";var s=r(0),n=Object(s.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"absolute w-full bg-red-600 text-white text-base text-center py-2 z-50 -mt-2",staticStyle:{bottom:"40.35%"}},[this._v("\n    Banned\n")])}),[],!1,null,null,null);e.a=n.exports},41:function(t,e,r){"use strict";var s={mixins:[r(8).a],props:["rulings"]},n=r(0),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),r("ul",t._l(t.rulings,(function(e){return r("li",{staticClass:"border-b border-gray-400 last:border-0 pr-4 sm:pr-2 text-base sm:-pl-4",domProps:{innerHTML:t._s(t.minimalMarkdown(e))}})})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"border-b border-gray-500"},[e("div",{staticClass:"flex-1 py-2 uppercase font-serif"},[this._v("\n            Rulings, Clarifications, Erratas.etc.\n        ")])])}],!1,null,null,null);e.a=a.exports},43:function(t,e,r){"use strict";var s={redraw:function(t){var e=this;setTimeout((function(){e.$redrawVueMasonry()}),10)}};e.a={methods:s}},7:function(t,e,r){"use strict";e.a=function(t){var e=function(){},r=function(r,s,n){t(r,(function(t){e=t,n()}))};return{beforeRouteEnter:r,beforeRouteUpdate:r,created:function(){e.apply(this)},watch:{$route:function(){e.apply(this)}}}}},8:function(t,e,r){"use strict";r(196);var s=r(247),n=r.n(s),a={a:"link",h1:"text-4xl",h2:"text-2xl",h3:"text-xl",ol:"list-decimal ml-8",p:"my-4",ul:"list-disc ml-8"},i=Object.keys(a).map((function(t){return{type:"output",regex:new RegExp("<".concat(t,"(.*)>"),"g"),replace:"<".concat(t,' class="').concat(a[t],'" $1>')}})),o=(r(26),[]),c="left",l={left:"sm:float-left sm:m-4 sm:ml-0",right:"sm:float-right sm:m-4 sm:mr-0"},u=[{type:"lang",regex:/\^cards\((([A-Z]{3}[0-9]{3},?)+)\)/gi,replace:function(t,e){return o.push(e),"%CARDS"+(o.length-1)+"%"}},{type:"output",filter:function(t){for(var e=0;e<o.length;++e){var r=o[e].split(","),s=r.map((function(t){return'<card-ad identifier="'+t+'"></card-ad>'})),n="%CARDS"+e+"%",a="";if(1===r.length){var i="right"===c?"left":"right";a=l[i],c=i}else a="flex items-start justify-center";t=t.replace(new RegExp(n,"gi"),'<div class="'+a+'">'+s.join("\n")+"</div>")}return o=[],t}}],d=[],f=[{type:"lang",regex:/\^deck\(([A-Z]+)\)/gi,replace:function(t,e){return d.push(e),"%DECK"+(d.length-1)+"%"}},{type:"output",filter:function(t){for(var e=0;e<d.length;++e){var r="<p>%DECK"+e+"% *</p>",s='<div class="block sm:m-8 mt-0 sm:float-right border border-gray-400"><iframe src="'+(window.location.protocol+"//"+window.location.hostname+"/decks/embed/"+d[e])+'" width="350" height="1200" id="deck-'+e+'" sandbox="allow-same-origin allow-scripts" scrolling="yes"></iframe></div>';t=t.replace(new RegExp(r,"gi"),s)}return d=[],t}}];var p,h=new n.a.Converter({extensions:[u,f].concat((p=i,function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(p)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[{type:"output",regex:/<blockquote>([^]+?)<\/blockquote>/gi,replace:'<blockquote class="relative py-2 px-8 pl-12 my-8 text-xl italic border border-l-4 quote rounded-lg z-0"><div class="stylistic-quote-mark text-gray-200" aria-hidden="true">&ldquo;</div><p>$1</p></blockquote>'}])}),v=function(t){return"<div>"+h.makeHtml(t)+"</div>"};e.a={methods:{kebabCase:function(t){return this.snakeCase(t,"-")},parseMarkdown:function(t){return v(t)},minimalMarkdown:function(t){return v(t)},prettyText:function(t){var e=this.prettified(t);return this.parseMarkdown(e)},prettified:function(t){var e=t.split("\n");return(e=e.map((function(t){for(var e=new RegExp(/\[([+-])?(([X0-9]{1})\s)?([a-z]+)\]/i);;){var r=e.exec(t);if(!r)return t;var s=r[1],n=r[3],a=r[4],i="";if("Pitch"===a&&(a="resource"),"Power"===a&&(a="attack"),a=a.toLowerCase(),s)i=s+n+'<img src="/img/'+a+'.png" class="inline-block h-5 align-middle">';else if(n)for(var o=0;o<n;o++)i+='<img src="/img/'+a+'.png" class="inline-block h-5">';else i+='<img src="/img/'+a+'.png" class="inline-block h-5">';t=t.replace(r[0],i,t)}}))).join("\n")},snakeCase:function(t,e){return e||(e="_"),t.toLowerCase().replace(/[^0-9a-z\s]+/g,"").replace(/\s+/g,e)},ucfirst:function(t){return t[0].toUpperCase()+t.slice(1)},imageDomain:function(){return window.settings.imageDomain},buildQuery:function(t){var e=encodeURIComponent;return Object.keys(t).map((function(r){return e(r)+"="+e(t[r])})).join("&")}}}}}]);
//# sourceMappingURL=decks.build.min.js.map?id=8b37aac5607e4f86b5ee